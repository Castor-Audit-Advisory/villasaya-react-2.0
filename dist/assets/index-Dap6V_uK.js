function v2(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(s,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function ym(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function x2(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var o=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:function(){return e[s]}})}),n}var Fh={exports:{}},sl={},Mh={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function y2(){if(Ny)return Be;Ny=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function x(I){return I===null||typeof I!="object"?null:(I=p&&I[p]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,k={};function N(I,R,O){this.props=I,this.context=R,this.refs=k,this.updater=O||b}N.prototype.isReactComponent={},N.prototype.setState=function(I,R){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,R,"setState")},N.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function E(){}E.prototype=N.prototype;function S(I,R,O){this.props=I,this.context=R,this.refs=k,this.updater=O||b}var C=S.prototype=new E;C.constructor=S,w(C,N.prototype),C.isPureReactComponent=!0;var D=Array.isArray,_=Object.prototype.hasOwnProperty,A={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function F(I,R,O){var z,H={},Q=null,J=null;if(R!=null)for(z in R.ref!==void 0&&(J=R.ref),R.key!==void 0&&(Q=""+R.key),R)_.call(R,z)&&!P.hasOwnProperty(z)&&(H[z]=R[z]);var ie=arguments.length-2;if(ie===1)H.children=O;else if(1<ie){for(var be=Array(ie),ge=0;ge<ie;ge++)be[ge]=arguments[ge+2];H.children=be}if(I&&I.defaultProps)for(z in ie=I.defaultProps,ie)H[z]===void 0&&(H[z]=ie[z]);return{$$typeof:e,type:I,key:Q,ref:J,props:H,_owner:A.current}}function W(I,R){return{$$typeof:e,type:I.type,key:R,ref:I.ref,props:I.props,_owner:I._owner}}function U(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function G(I){var R={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(O){return R[O]})}var ne=/\/+/g;function V(I,R){return typeof I=="object"&&I!==null&&I.key!=null?G(""+I.key):R.toString(36)}function re(I,R,O,z,H){var Q=typeof I;(Q==="undefined"||Q==="boolean")&&(I=null);var J=!1;if(I===null)J=!0;else switch(Q){case"string":case"number":J=!0;break;case"object":switch(I.$$typeof){case e:case t:J=!0}}if(J)return J=I,H=H(J),I=z===""?"."+V(J,0):z,D(H)?(O="",I!=null&&(O=I.replace(ne,"$&/")+"/"),re(H,R,O,"",function(ge){return ge})):H!=null&&(U(H)&&(H=W(H,O+(!H.key||J&&J.key===H.key?"":(""+H.key).replace(ne,"$&/")+"/")+I)),R.push(H)),1;if(J=0,z=z===""?".":z+":",D(I))for(var ie=0;ie<I.length;ie++){Q=I[ie];var be=z+V(Q,ie);J+=re(Q,R,O,be,H)}else if(be=x(I),typeof be=="function")for(I=be.call(I),ie=0;!(Q=I.next()).done;)Q=Q.value,be=z+V(Q,ie++),J+=re(Q,R,O,be,H);else if(Q==="object")throw R=String(I),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return J}function pe(I,R,O){if(I==null)return I;var z=[],H=0;return re(I,z,"","",function(Q){return R.call(O,Q,H++)}),z}function se(I){if(I._status===-1){var R=I._result;R=R(),R.then(function(O){(I._status===0||I._status===-1)&&(I._status=1,I._result=O)},function(O){(I._status===0||I._status===-1)&&(I._status=2,I._result=O)}),I._status===-1&&(I._status=0,I._result=R)}if(I._status===1)return I._result.default;throw I._result}var q={current:null},M={transition:null},X={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:M,ReactCurrentOwner:A};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:pe,forEach:function(I,R,O){pe(I,function(){R.apply(this,arguments)},O)},count:function(I){var R=0;return pe(I,function(){R++}),R},toArray:function(I){return pe(I,function(R){return R})||[]},only:function(I){if(!U(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Be.Component=N,Be.Fragment=n,Be.Profiler=o,Be.PureComponent=S,Be.StrictMode=s,Be.Suspense=h,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Be.act=ae,Be.cloneElement=function(I,R,O){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var z=w({},I.props),H=I.key,Q=I.ref,J=I._owner;if(R!=null){if(R.ref!==void 0&&(Q=R.ref,J=A.current),R.key!==void 0&&(H=""+R.key),I.type&&I.type.defaultProps)var ie=I.type.defaultProps;for(be in R)_.call(R,be)&&!P.hasOwnProperty(be)&&(z[be]=R[be]===void 0&&ie!==void 0?ie[be]:R[be])}var be=arguments.length-2;if(be===1)z.children=O;else if(1<be){ie=Array(be);for(var ge=0;ge<be;ge++)ie[ge]=arguments[ge+2];z.children=ie}return{$$typeof:e,type:I.type,key:H,ref:Q,props:z,_owner:J}},Be.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:i,_context:I},I.Consumer=I},Be.createElement=F,Be.createFactory=function(I){var R=F.bind(null,I);return R.type=I,R},Be.createRef=function(){return{current:null}},Be.forwardRef=function(I){return{$$typeof:d,render:I}},Be.isValidElement=U,Be.lazy=function(I){return{$$typeof:m,_payload:{_status:-1,_result:I},_init:se}},Be.memo=function(I,R){return{$$typeof:f,type:I,compare:R===void 0?null:R}},Be.startTransition=function(I){var R=M.transition;M.transition={};try{I()}finally{M.transition=R}},Be.unstable_act=ae,Be.useCallback=function(I,R){return q.current.useCallback(I,R)},Be.useContext=function(I){return q.current.useContext(I)},Be.useDebugValue=function(){},Be.useDeferredValue=function(I){return q.current.useDeferredValue(I)},Be.useEffect=function(I,R){return q.current.useEffect(I,R)},Be.useId=function(){return q.current.useId()},Be.useImperativeHandle=function(I,R,O){return q.current.useImperativeHandle(I,R,O)},Be.useInsertionEffect=function(I,R){return q.current.useInsertionEffect(I,R)},Be.useLayoutEffect=function(I,R){return q.current.useLayoutEffect(I,R)},Be.useMemo=function(I,R){return q.current.useMemo(I,R)},Be.useReducer=function(I,R,O){return q.current.useReducer(I,R,O)},Be.useRef=function(I){return q.current.useRef(I)},Be.useState=function(I){return q.current.useState(I)},Be.useSyncExternalStore=function(I,R,O){return q.current.useSyncExternalStore(I,R,O)},Be.useTransition=function(){return q.current.useTransition()},Be.version="18.3.1",Be}var Sy;function uu(){return Sy||(Sy=1,Mh.exports=y2()),Mh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function b2(){if(Ey)return sl;Ey=1;var e=uu(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,f){var m,p={},x=null,b=null;f!==void 0&&(x=""+f),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(b=h.ref);for(m in h)s.call(h,m)&&!i.hasOwnProperty(m)&&(p[m]=h[m]);if(d&&d.defaultProps)for(m in h=d.defaultProps,h)p[m]===void 0&&(p[m]=h[m]);return{$$typeof:t,type:d,key:x,ref:b,props:p,_owner:o.current}}return sl.Fragment=n,sl.jsx=c,sl.jsxs=c,sl}var _y;function w2(){return _y||(_y=1,Fh.exports=b2()),Fh.exports}var r=w2(),ad={},Lh={exports:{}},An={},zh={exports:{}},$h={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function k2(){return Cy||(Cy=1,(function(e){function t(M,X){var ae=M.length;M.push(X);e:for(;0<ae;){var I=ae-1>>>1,R=M[I];if(0<o(R,X))M[I]=X,M[ae]=R,ae=I;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var X=M[0],ae=M.pop();if(ae!==X){M[0]=ae;e:for(var I=0,R=M.length,O=R>>>1;I<O;){var z=2*(I+1)-1,H=M[z],Q=z+1,J=M[Q];if(0>o(H,ae))Q<R&&0>o(J,H)?(M[I]=J,M[Q]=ae,I=Q):(M[I]=H,M[z]=ae,I=z);else if(Q<R&&0>o(J,ae))M[I]=J,M[Q]=ae,I=Q;else break e}}return X}function o(M,X){var ae=M.sortIndex-X.sortIndex;return ae!==0?ae:M.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var h=[],f=[],m=1,p=null,x=3,b=!1,w=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(M){for(var X=n(f);X!==null;){if(X.callback===null)s(f);else if(X.startTime<=M)s(f),X.sortIndex=X.expirationTime,t(h,X);else break;X=n(f)}}function D(M){if(k=!1,C(M),!w)if(n(h)!==null)w=!0,se(_);else{var X=n(f);X!==null&&q(D,X.startTime-M)}}function _(M,X){w=!1,k&&(k=!1,E(F),F=-1),b=!0;var ae=x;try{for(C(X),p=n(h);p!==null&&(!(p.expirationTime>X)||M&&!G());){var I=p.callback;if(typeof I=="function"){p.callback=null,x=p.priorityLevel;var R=I(p.expirationTime<=X);X=e.unstable_now(),typeof R=="function"?p.callback=R:p===n(h)&&s(h),C(X)}else s(h);p=n(h)}if(p!==null)var O=!0;else{var z=n(f);z!==null&&q(D,z.startTime-X),O=!1}return O}finally{p=null,x=ae,b=!1}}var A=!1,P=null,F=-1,W=5,U=-1;function G(){return!(e.unstable_now()-U<W)}function ne(){if(P!==null){var M=e.unstable_now();U=M;var X=!0;try{X=P(!0,M)}finally{X?V():(A=!1,P=null)}}else A=!1}var V;if(typeof S=="function")V=function(){S(ne)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,pe=re.port2;re.port1.onmessage=ne,V=function(){pe.postMessage(null)}}else V=function(){N(ne,0)};function se(M){P=M,A||(A=!0,V())}function q(M,X){F=N(function(){M(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){w||b||(w=!0,se(_))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(M){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var ae=x;x=X;try{return M()}finally{x=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,X){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ae=x;x=M;try{return X()}finally{x=ae}},e.unstable_scheduleCallback=function(M,X,ae){var I=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?I+ae:I):ae=I,M){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=ae+R,M={id:m++,callback:X,priorityLevel:M,startTime:ae,expirationTime:R,sortIndex:-1},ae>I?(M.sortIndex=ae,t(f,M),n(h)===null&&M===n(f)&&(k?(E(F),F=-1):k=!0,q(D,ae-I))):(M.sortIndex=R,t(h,M),w||b||(w=!0,se(_))),M},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(M){var X=x;return function(){var ae=x;x=X;try{return M.apply(this,arguments)}finally{x=ae}}}})($h)),$h}var Ty;function j2(){return Ty||(Ty=1,zh.exports=k2()),zh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function N2(){if(Dy)return An;Dy=1;var e=uu(),t=j2();function n(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,u=1;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function i(a,l){c(a,l),c(a+"Capture",l)}function c(a,l){for(o[a]=l,a=0;a<l.length;a++)s.add(l[a])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function x(a){return h.call(p,a)?!0:h.call(m,a)?!1:f.test(a)?p[a]=!0:(m[a]=!0,!1)}function b(a,l,u,g){if(u!==null&&u.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:u!==null?!u.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,l,u,g){if(l===null||typeof l>"u"||b(a,l,u,g))return!0;if(g)return!1;if(u!==null)switch(u.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function k(a,l,u,g,y,j,T){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=a,this.type=l,this.sanitizeURL=j,this.removeEmptyString=T}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){N[a]=new k(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];N[l]=new k(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){N[a]=new k(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){N[a]=new k(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){N[a]=new k(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){N[a]=new k(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){N[a]=new k(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){N[a]=new k(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){N[a]=new k(a,5,!1,a.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function S(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(E,S);N[l]=new k(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(E,S);N[l]=new k(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(E,S);N[l]=new k(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){N[a]=new k(a,1,!1,a.toLowerCase(),null,!1,!1)}),N.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){N[a]=new k(a,1,!1,a.toLowerCase(),null,!0,!0)});function C(a,l,u,g){var y=N.hasOwnProperty(l)?N[l]:null;(y!==null?y.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(w(l,u,y,g)&&(u=null),g||y===null?x(l)&&(u===null?a.removeAttribute(l):a.setAttribute(l,""+u)):y.mustUseProperty?a[y.propertyName]=u===null?y.type===3?!1:"":u:(l=y.attributeName,g=y.attributeNamespace,u===null?a.removeAttribute(l):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,g?a.setAttributeNS(g,l,u):a.setAttribute(l,u))))}var D=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),A=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),G=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),M=Symbol.iterator;function X(a){return a===null||typeof a!="object"?null:(a=M&&a[M]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Object.assign,I;function R(a){if(I===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);I=l&&l[1]||""}return`
`+I+a}var O=!1;function z(a,l){if(!a||O)return"";O=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ee){var g=ee}Reflect.construct(a,[],l)}else{try{l.call()}catch(ee){g=ee}a.call(l.prototype)}else{try{throw Error()}catch(ee){g=ee}a()}}catch(ee){if(ee&&g&&typeof ee.stack=="string"){for(var y=ee.stack.split(`
`),j=g.stack.split(`
`),T=y.length-1,L=j.length-1;1<=T&&0<=L&&y[T]!==j[L];)L--;for(;1<=T&&0<=L;T--,L--)if(y[T]!==j[L]){if(T!==1||L!==1)do if(T--,L--,0>L||y[T]!==j[L]){var $=`
`+y[T].replace(" at new "," at ");return a.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",a.displayName)),$}while(1<=T&&0<=L);break}}}finally{O=!1,Error.prepareStackTrace=u}return(a=a?a.displayName||a.name:"")?R(a):""}function H(a){switch(a.tag){case 5:return R(a.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return a=z(a.type,!1),a;case 11:return a=z(a.type.render,!1),a;case 1:return a=z(a.type,!0),a;default:return""}}function Q(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case P:return"Fragment";case A:return"Portal";case W:return"Profiler";case F:return"StrictMode";case V:return"Suspense";case re:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case G:return(a.displayName||"Context")+".Consumer";case U:return(a._context.displayName||"Context")+".Provider";case ne:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case pe:return l=a.displayName||null,l!==null?l:Q(a.type)||"Memo";case se:l=a._payload,a=a._init;try{return Q(a(l))}catch{}}return null}function J(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(l);case 8:return l===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ie(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function be(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ge(a){var l=be(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),g=""+a[l];if(!a.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,j=u.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return y.call(this)},set:function(T){g=""+T,j.call(this,T)}}),Object.defineProperty(a,l,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(T){g=""+T},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Ae(a){a._valueTracker||(a._valueTracker=ge(a))}function Oe(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var u=l.getValue(),g="";return a&&(g=be(a)?a.checked?"true":"false":a.value),a=g,a!==u?(l.setValue(a),!0):!1}function ot(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ft(a,l){var u=l.checked;return ae({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??a._wrapperState.initialChecked})}function mn(a,l){var u=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;u=ie(l.value!=null?l.value:u),a._wrapperState={initialChecked:g,initialValue:u,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function ln(a,l){l=l.checked,l!=null&&C(a,"checked",l,!1)}function cn(a,l){ln(a,l);var u=ie(l.value),g=l.type;if(u!=null)g==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+u):a.value!==""+u&&(a.value=""+u);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?Qt(a,l.type,u):l.hasOwnProperty("defaultValue")&&Qt(a,l.type,ie(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function As(a,l,u){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,u||l===a.value||(a.value=l),a.defaultValue=l}u=a.name,u!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,u!==""&&(a.name=u)}function Qt(a,l,u){(l!=="number"||ot(a.ownerDocument)!==a)&&(u==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+u&&(a.defaultValue=""+u))}var dn=Array.isArray;function Un(a,l,u,g){if(a=a.options,l){l={};for(var y=0;y<u.length;y++)l["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=l.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&g&&(a[u].defaultSelected=!0)}else{for(u=""+ie(u),l=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,g&&(a[y].defaultSelected=!0);return}l!==null||a[y].disabled||(l=a[y])}l!==null&&(l.selected=!0)}}function kt(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function tr(a,l){var u=l.value;if(u==null){if(u=l.children,l=l.defaultValue,u!=null){if(l!=null)throw Error(n(92));if(dn(u)){if(1<u.length)throw Error(n(93));u=u[0]}l=u}l==null&&(l=""),u=l}a._wrapperState={initialValue:ie(u)}}function wa(a,l){var u=ie(l.value),g=ie(l.defaultValue);u!=null&&(u=""+u,u!==a.value&&(a.value=u),l.defaultValue==null&&a.defaultValue!==u&&(a.defaultValue=u)),g!=null&&(a.defaultValue=""+g)}function fo(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function hs(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nr(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?hs(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Nn,rr=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,u,g,y){MSApp.execUnsafeLocalFunction(function(){return a(l,u,g,y)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(Nn=Nn||document.createElement("div"),Nn.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Nn.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function gn(a,l){if(l){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=l;return}}a.textContent=l}var en={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yr=["Webkit","ms","Moz","O"];Object.keys(en).forEach(function(a){yr.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),en[l]=en[a]})});function ho(a,l,u){return l==null||typeof l=="boolean"||l===""?"":u||typeof l!="number"||l===0||en.hasOwnProperty(a)&&en[a]?(""+l).trim():l+"px"}function po(a,l){a=a.style;for(var u in l)if(l.hasOwnProperty(u)){var g=u.indexOf("--")===0,y=ho(u,l[u],g);u==="float"&&(u="cssFloat"),g?a.setProperty(u,y):a[u]=y}}var Is=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ps(a,l){if(l){if(Is[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function ka(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yr=null;function Sn(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ja=null,Kr=null,it=null;function Lt(a){if(a=Vi(a)){if(typeof ja!="function")throw Error(n(280));var l=a.stateNode;l&&(l=bc(l),ja(a.stateNode,a.type,l))}}function _e(a){Kr?it?it.push(a):it=[a]:Kr=a}function Qe(){if(Kr){var a=Kr,l=it;if(it=Kr=null,Lt(a),l)for(a=0;a<l.length;a++)Lt(l[a])}}function Ge(a,l){return a(l)}function et(){}var zt=!1;function at(a,l,u){if(zt)return a(l,u);zt=!0;try{return Ge(a,l,u)}finally{zt=!1,(Kr!==null||it!==null)&&(et(),Qe())}}function Ve(a,l){var u=a.stateNode;if(u===null)return null;var g=bc(u);if(g===null)return null;u=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(n(231,l,typeof u));return u}var tn=!1;if(d)try{var st={};Object.defineProperty(st,"passive",{get:function(){tn=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{tn=!1}function vt(a,l,u,g,y,j,T,L,$){var ee=Array.prototype.slice.call(arguments,3);try{l.apply(u,ee)}catch(ce){this.onError(ce)}}var En=!1,qt=null,_n=!1,ms=null,Ni={onError:function(a){En=!0,qt=a}};function SS(a,l,u,g,y,j,T,L,$){En=!1,qt=null,vt.apply(Ni,arguments)}function ES(a,l,u,g,y,j,T,L,$){if(SS.apply(this,arguments),En){if(En){var ee=qt;En=!1,qt=null}else throw Error(n(198));_n||(_n=!0,ms=ee)}}function Na(a){var l=a,u=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(u=l.return),a=l.return;while(a)}return l.tag===3?u:null}function Yg(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Kg(a){if(Na(a)!==a)throw Error(n(188))}function _S(a){var l=a.alternate;if(!l){if(l=Na(a),l===null)throw Error(n(188));return l!==a?null:a}for(var u=a,g=l;;){var y=u.return;if(y===null)break;var j=y.alternate;if(j===null){if(g=y.return,g!==null){u=g;continue}break}if(y.child===j.child){for(j=y.child;j;){if(j===u)return Kg(y),a;if(j===g)return Kg(y),l;j=j.sibling}throw Error(n(188))}if(u.return!==g.return)u=y,g=j;else{for(var T=!1,L=y.child;L;){if(L===u){T=!0,u=y,g=j;break}if(L===g){T=!0,g=y,u=j;break}L=L.sibling}if(!T){for(L=j.child;L;){if(L===u){T=!0,u=j,g=y;break}if(L===g){T=!0,g=j,u=y;break}L=L.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==g)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?a:l}function Gg(a){return a=_S(a),a!==null?Zg(a):null}function Zg(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=Zg(a);if(l!==null)return l;a=a.sibling}return null}var Jg=t.unstable_scheduleCallback,Xg=t.unstable_cancelCallback,CS=t.unstable_shouldYield,TS=t.unstable_requestPaint,Ct=t.unstable_now,DS=t.unstable_getCurrentPriorityLevel,tf=t.unstable_ImmediatePriority,Qg=t.unstable_UserBlockingPriority,ec=t.unstable_NormalPriority,PS=t.unstable_LowPriority,ev=t.unstable_IdlePriority,tc=null,Gr=null;function RS(a){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(tc,a,void 0,(a.current.flags&128)===128)}catch{}}var br=Math.clz32?Math.clz32:OS,AS=Math.log,IS=Math.LN2;function OS(a){return a>>>=0,a===0?32:31-(AS(a)/IS|0)|0}var nc=64,rc=4194304;function Si(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function sc(a,l){var u=a.pendingLanes;if(u===0)return 0;var g=0,y=a.suspendedLanes,j=a.pingedLanes,T=u&268435455;if(T!==0){var L=T&~y;L!==0?g=Si(L):(j&=T,j!==0&&(g=Si(j)))}else T=u&~y,T!==0?g=Si(T):j!==0&&(g=Si(j));if(g===0)return 0;if(l!==0&&l!==g&&(l&y)===0&&(y=g&-g,j=l&-l,y>=j||y===16&&(j&4194240)!==0))return l;if((g&4)!==0&&(g|=u&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=g;0<l;)u=31-br(l),y=1<<u,g|=a[u],l&=~y;return g}function FS(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MS(a,l){for(var u=a.suspendedLanes,g=a.pingedLanes,y=a.expirationTimes,j=a.pendingLanes;0<j;){var T=31-br(j),L=1<<T,$=y[T];$===-1?((L&u)===0||(L&g)!==0)&&(y[T]=FS(L,l)):$<=l&&(a.expiredLanes|=L),j&=~L}}function nf(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function tv(){var a=nc;return nc<<=1,(nc&4194240)===0&&(nc=64),a}function rf(a){for(var l=[],u=0;31>u;u++)l.push(a);return l}function Ei(a,l,u){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-br(l),a[l]=u}function LS(a,l){var u=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<u;){var y=31-br(u),j=1<<y;l[y]=0,g[y]=-1,a[y]=-1,u&=~j}}function sf(a,l){var u=a.entangledLanes|=l;for(a=a.entanglements;u;){var g=31-br(u),y=1<<g;y&l|a[g]&l&&(a[g]|=l),u&=~y}}var nt=0;function nv(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var rv,af,sv,av,ov,of=!1,ac=[],Os=null,Fs=null,Ms=null,_i=new Map,Ci=new Map,Ls=[],zS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iv(a,l){switch(a){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":_i.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ci.delete(l.pointerId)}}function Ti(a,l,u,g,y,j){return a===null||a.nativeEvent!==j?(a={blockedOn:l,domEventName:u,eventSystemFlags:g,nativeEvent:j,targetContainers:[y]},l!==null&&(l=Vi(l),l!==null&&af(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),a)}function $S(a,l,u,g,y){switch(l){case"focusin":return Os=Ti(Os,a,l,u,g,y),!0;case"dragenter":return Fs=Ti(Fs,a,l,u,g,y),!0;case"mouseover":return Ms=Ti(Ms,a,l,u,g,y),!0;case"pointerover":var j=y.pointerId;return _i.set(j,Ti(_i.get(j)||null,a,l,u,g,y)),!0;case"gotpointercapture":return j=y.pointerId,Ci.set(j,Ti(Ci.get(j)||null,a,l,u,g,y)),!0}return!1}function lv(a){var l=Sa(a.target);if(l!==null){var u=Na(l);if(u!==null){if(l=u.tag,l===13){if(l=Yg(u),l!==null){a.blockedOn=l,ov(a.priority,function(){sv(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function oc(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var u=cf(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(u===null){u=a.nativeEvent;var g=new u.constructor(u.type,u);Yr=g,u.target.dispatchEvent(g),Yr=null}else return l=Vi(u),l!==null&&af(l),a.blockedOn=u,!1;l.shift()}return!0}function cv(a,l,u){oc(a)&&u.delete(l)}function BS(){of=!1,Os!==null&&oc(Os)&&(Os=null),Fs!==null&&oc(Fs)&&(Fs=null),Ms!==null&&oc(Ms)&&(Ms=null),_i.forEach(cv),Ci.forEach(cv)}function Di(a,l){a.blockedOn===l&&(a.blockedOn=null,of||(of=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,BS)))}function Pi(a){function l(y){return Di(y,a)}if(0<ac.length){Di(ac[0],a);for(var u=1;u<ac.length;u++){var g=ac[u];g.blockedOn===a&&(g.blockedOn=null)}}for(Os!==null&&Di(Os,a),Fs!==null&&Di(Fs,a),Ms!==null&&Di(Ms,a),_i.forEach(l),Ci.forEach(l),u=0;u<Ls.length;u++)g=Ls[u],g.blockedOn===a&&(g.blockedOn=null);for(;0<Ls.length&&(u=Ls[0],u.blockedOn===null);)lv(u),u.blockedOn===null&&Ls.shift()}var mo=D.ReactCurrentBatchConfig,ic=!0;function US(a,l,u,g){var y=nt,j=mo.transition;mo.transition=null;try{nt=1,lf(a,l,u,g)}finally{nt=y,mo.transition=j}}function VS(a,l,u,g){var y=nt,j=mo.transition;mo.transition=null;try{nt=4,lf(a,l,u,g)}finally{nt=y,mo.transition=j}}function lf(a,l,u,g){if(ic){var y=cf(a,l,u,g);if(y===null)Ef(a,l,g,lc,u),iv(a,g);else if($S(y,a,l,u,g))g.stopPropagation();else if(iv(a,g),l&4&&-1<zS.indexOf(a)){for(;y!==null;){var j=Vi(y);if(j!==null&&rv(j),j=cf(a,l,u,g),j===null&&Ef(a,l,g,lc,u),j===y)break;y=j}y!==null&&g.stopPropagation()}else Ef(a,l,g,null,u)}}var lc=null;function cf(a,l,u,g){if(lc=null,a=Sn(g),a=Sa(a),a!==null)if(l=Na(a),l===null)a=null;else if(u=l.tag,u===13){if(a=Yg(l),a!==null)return a;a=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return lc=a,null}function dv(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DS()){case tf:return 1;case Qg:return 4;case ec:case PS:return 16;case ev:return 536870912;default:return 16}default:return 16}}var zs=null,df=null,cc=null;function uv(){if(cc)return cc;var a,l=df,u=l.length,g,y="value"in zs?zs.value:zs.textContent,j=y.length;for(a=0;a<u&&l[a]===y[a];a++);var T=u-a;for(g=1;g<=T&&l[u-g]===y[j-g];g++);return cc=y.slice(a,1<g?1-g:void 0)}function dc(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function uc(){return!0}function fv(){return!1}function Vn(a){function l(u,g,y,j,T){this._reactName=u,this._targetInst=y,this.type=g,this.nativeEvent=j,this.target=T,this.currentTarget=null;for(var L in a)a.hasOwnProperty(L)&&(u=a[L],this[L]=u?u(j):j[L]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?uc:fv,this.isPropagationStopped=fv,this}return ae(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=uc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=uc)},persist:function(){},isPersistent:uc}),l}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uf=Vn(go),Ri=ae({},go,{view:0,detail:0}),WS=Vn(Ri),ff,hf,Ai,fc=ae({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mf,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ai&&(Ai&&a.type==="mousemove"?(ff=a.screenX-Ai.screenX,hf=a.screenY-Ai.screenY):hf=ff=0,Ai=a),ff)},movementY:function(a){return"movementY"in a?a.movementY:hf}}),hv=Vn(fc),HS=ae({},fc,{dataTransfer:0}),qS=Vn(HS),YS=ae({},Ri,{relatedTarget:0}),pf=Vn(YS),KS=ae({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),GS=Vn(KS),ZS=ae({},go,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),JS=Vn(ZS),XS=ae({},go,{data:0}),pv=Vn(XS),QS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nE(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=tE[a])?!!l[a]:!1}function mf(){return nE}var rE=ae({},Ri,{key:function(a){if(a.key){var l=QS[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=dc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?eE[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mf,charCode:function(a){return a.type==="keypress"?dc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?dc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),sE=Vn(rE),aE=ae({},fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mv=Vn(aE),oE=ae({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mf}),iE=Vn(oE),lE=ae({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),cE=Vn(lE),dE=ae({},fc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),uE=Vn(dE),fE=[9,13,27,32],gf=d&&"CompositionEvent"in window,Ii=null;d&&"documentMode"in document&&(Ii=document.documentMode);var hE=d&&"TextEvent"in window&&!Ii,gv=d&&(!gf||Ii&&8<Ii&&11>=Ii),vv=" ",xv=!1;function yv(a,l){switch(a){case"keyup":return fE.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bv(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var vo=!1;function pE(a,l){switch(a){case"compositionend":return bv(l);case"keypress":return l.which!==32?null:(xv=!0,vv);case"textInput":return a=l.data,a===vv&&xv?null:a;default:return null}}function mE(a,l){if(vo)return a==="compositionend"||!gf&&yv(a,l)?(a=uv(),cc=df=zs=null,vo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return gv&&l.locale!=="ko"?null:l.data;default:return null}}var gE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wv(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!gE[a.type]:l==="textarea"}function kv(a,l,u,g){_e(g),l=vc(l,"onChange"),0<l.length&&(u=new uf("onChange","change",null,u,g),a.push({event:u,listeners:l}))}var Oi=null,Fi=null;function vE(a){$v(a,0)}function hc(a){var l=ko(a);if(Oe(l))return a}function xE(a,l){if(a==="change")return l}var jv=!1;if(d){var vf;if(d){var xf="oninput"in document;if(!xf){var Nv=document.createElement("div");Nv.setAttribute("oninput","return;"),xf=typeof Nv.oninput=="function"}vf=xf}else vf=!1;jv=vf&&(!document.documentMode||9<document.documentMode)}function Sv(){Oi&&(Oi.detachEvent("onpropertychange",Ev),Fi=Oi=null)}function Ev(a){if(a.propertyName==="value"&&hc(Fi)){var l=[];kv(l,Fi,a,Sn(a)),at(vE,l)}}function yE(a,l,u){a==="focusin"?(Sv(),Oi=l,Fi=u,Oi.attachEvent("onpropertychange",Ev)):a==="focusout"&&Sv()}function bE(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return hc(Fi)}function wE(a,l){if(a==="click")return hc(l)}function kE(a,l){if(a==="input"||a==="change")return hc(l)}function jE(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var wr=typeof Object.is=="function"?Object.is:jE;function Mi(a,l){if(wr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var u=Object.keys(a),g=Object.keys(l);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var y=u[g];if(!h.call(l,y)||!wr(a[y],l[y]))return!1}return!0}function _v(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Cv(a,l){var u=_v(a);a=0;for(var g;u;){if(u.nodeType===3){if(g=a+u.textContent.length,a<=l&&g>=l)return{node:u,offset:l-a};a=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=_v(u)}}function Tv(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Tv(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Dv(){for(var a=window,l=ot();l instanceof a.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)a=l.contentWindow;else break;l=ot(a.document)}return l}function yf(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function NE(a){var l=Dv(),u=a.focusedElem,g=a.selectionRange;if(l!==u&&u&&u.ownerDocument&&Tv(u.ownerDocument.documentElement,u)){if(g!==null&&yf(u)){if(l=g.start,a=g.end,a===void 0&&(a=l),"selectionStart"in u)u.selectionStart=l,u.selectionEnd=Math.min(a,u.value.length);else if(a=(l=u.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var y=u.textContent.length,j=Math.min(g.start,y);g=g.end===void 0?j:Math.min(g.end,y),!a.extend&&j>g&&(y=g,g=j,j=y),y=Cv(u,j);var T=Cv(u,g);y&&T&&(a.rangeCount!==1||a.anchorNode!==y.node||a.anchorOffset!==y.offset||a.focusNode!==T.node||a.focusOffset!==T.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),a.removeAllRanges(),j>g?(a.addRange(l),a.extend(T.node,T.offset)):(l.setEnd(T.node,T.offset),a.addRange(l)))}}for(l=[],a=u;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<l.length;u++)a=l[u],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var SE=d&&"documentMode"in document&&11>=document.documentMode,xo=null,bf=null,Li=null,wf=!1;function Pv(a,l,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;wf||xo==null||xo!==ot(g)||(g=xo,"selectionStart"in g&&yf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Li&&Mi(Li,g)||(Li=g,g=vc(bf,"onSelect"),0<g.length&&(l=new uf("onSelect","select",null,l,u),a.push({event:l,listeners:g}),l.target=xo)))}function pc(a,l){var u={};return u[a.toLowerCase()]=l.toLowerCase(),u["Webkit"+a]="webkit"+l,u["Moz"+a]="moz"+l,u}var yo={animationend:pc("Animation","AnimationEnd"),animationiteration:pc("Animation","AnimationIteration"),animationstart:pc("Animation","AnimationStart"),transitionend:pc("Transition","TransitionEnd")},kf={},Rv={};d&&(Rv=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function mc(a){if(kf[a])return kf[a];if(!yo[a])return a;var l=yo[a],u;for(u in l)if(l.hasOwnProperty(u)&&u in Rv)return kf[a]=l[u];return a}var Av=mc("animationend"),Iv=mc("animationiteration"),Ov=mc("animationstart"),Fv=mc("transitionend"),Mv=new Map,Lv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $s(a,l){Mv.set(a,l),i(l,[a])}for(var jf=0;jf<Lv.length;jf++){var Nf=Lv[jf],EE=Nf.toLowerCase(),_E=Nf[0].toUpperCase()+Nf.slice(1);$s(EE,"on"+_E)}$s(Av,"onAnimationEnd"),$s(Iv,"onAnimationIteration"),$s(Ov,"onAnimationStart"),$s("dblclick","onDoubleClick"),$s("focusin","onFocus"),$s("focusout","onBlur"),$s(Fv,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CE=new Set("cancel close invalid load scroll toggle".split(" ").concat(zi));function zv(a,l,u){var g=a.type||"unknown-event";a.currentTarget=u,ES(g,l,void 0,a),a.currentTarget=null}function $v(a,l){l=(l&4)!==0;for(var u=0;u<a.length;u++){var g=a[u],y=g.event;g=g.listeners;e:{var j=void 0;if(l)for(var T=g.length-1;0<=T;T--){var L=g[T],$=L.instance,ee=L.currentTarget;if(L=L.listener,$!==j&&y.isPropagationStopped())break e;zv(y,L,ee),j=$}else for(T=0;T<g.length;T++){if(L=g[T],$=L.instance,ee=L.currentTarget,L=L.listener,$!==j&&y.isPropagationStopped())break e;zv(y,L,ee),j=$}}}if(_n)throw a=ms,_n=!1,ms=null,a}function ht(a,l){var u=l[Rf];u===void 0&&(u=l[Rf]=new Set);var g=a+"__bubble";u.has(g)||(Bv(l,a,2,!1),u.add(g))}function Sf(a,l,u){var g=0;l&&(g|=4),Bv(u,a,g,l)}var gc="_reactListening"+Math.random().toString(36).slice(2);function $i(a){if(!a[gc]){a[gc]=!0,s.forEach(function(u){u!=="selectionchange"&&(CE.has(u)||Sf(u,!1,a),Sf(u,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[gc]||(l[gc]=!0,Sf("selectionchange",!1,l))}}function Bv(a,l,u,g){switch(dv(l)){case 1:var y=US;break;case 4:y=VS;break;default:y=lf}u=y.bind(null,l,u,a),y=void 0,!tn||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),g?y!==void 0?a.addEventListener(l,u,{capture:!0,passive:y}):a.addEventListener(l,u,!0):y!==void 0?a.addEventListener(l,u,{passive:y}):a.addEventListener(l,u,!1)}function Ef(a,l,u,g,y){var j=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var T=g.tag;if(T===3||T===4){var L=g.stateNode.containerInfo;if(L===y||L.nodeType===8&&L.parentNode===y)break;if(T===4)for(T=g.return;T!==null;){var $=T.tag;if(($===3||$===4)&&($=T.stateNode.containerInfo,$===y||$.nodeType===8&&$.parentNode===y))return;T=T.return}for(;L!==null;){if(T=Sa(L),T===null)return;if($=T.tag,$===5||$===6){g=j=T;continue e}L=L.parentNode}}g=g.return}at(function(){var ee=j,ce=Sn(u),ue=[];e:{var le=Mv.get(a);if(le!==void 0){var ve=uf,ke=a;switch(a){case"keypress":if(dc(u)===0)break e;case"keydown":case"keyup":ve=sE;break;case"focusin":ke="focus",ve=pf;break;case"focusout":ke="blur",ve=pf;break;case"beforeblur":case"afterblur":ve=pf;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=hv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=qS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=iE;break;case Av:case Iv:case Ov:ve=GS;break;case Fv:ve=cE;break;case"scroll":ve=WS;break;case"wheel":ve=uE;break;case"copy":case"cut":case"paste":ve=JS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=mv}var Se=(l&4)!==0,Tt=!Se&&a==="scroll",Y=Se?le!==null?le+"Capture":null:le;Se=[];for(var B=ee,Z;B!==null;){Z=B;var he=Z.stateNode;if(Z.tag===5&&he!==null&&(Z=he,Y!==null&&(he=Ve(B,Y),he!=null&&Se.push(Bi(B,he,Z)))),Tt)break;B=B.return}0<Se.length&&(le=new ve(le,ke,null,u,ce),ue.push({event:le,listeners:Se}))}}if((l&7)===0){e:{if(le=a==="mouseover"||a==="pointerover",ve=a==="mouseout"||a==="pointerout",le&&u!==Yr&&(ke=u.relatedTarget||u.fromElement)&&(Sa(ke)||ke[gs]))break e;if((ve||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,ve?(ke=u.relatedTarget||u.toElement,ve=ee,ke=ke?Sa(ke):null,ke!==null&&(Tt=Na(ke),ke!==Tt||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(ve=null,ke=ee),ve!==ke)){if(Se=hv,he="onMouseLeave",Y="onMouseEnter",B="mouse",(a==="pointerout"||a==="pointerover")&&(Se=mv,he="onPointerLeave",Y="onPointerEnter",B="pointer"),Tt=ve==null?le:ko(ve),Z=ke==null?le:ko(ke),le=new Se(he,B+"leave",ve,u,ce),le.target=Tt,le.relatedTarget=Z,he=null,Sa(ce)===ee&&(Se=new Se(Y,B+"enter",ke,u,ce),Se.target=Z,Se.relatedTarget=Tt,he=Se),Tt=he,ve&&ke)t:{for(Se=ve,Y=ke,B=0,Z=Se;Z;Z=bo(Z))B++;for(Z=0,he=Y;he;he=bo(he))Z++;for(;0<B-Z;)Se=bo(Se),B--;for(;0<Z-B;)Y=bo(Y),Z--;for(;B--;){if(Se===Y||Y!==null&&Se===Y.alternate)break t;Se=bo(Se),Y=bo(Y)}Se=null}else Se=null;ve!==null&&Uv(ue,le,ve,Se,!1),ke!==null&&Tt!==null&&Uv(ue,Tt,ke,Se,!0)}}e:{if(le=ee?ko(ee):window,ve=le.nodeName&&le.nodeName.toLowerCase(),ve==="select"||ve==="input"&&le.type==="file")var Ee=xE;else if(wv(le))if(jv)Ee=kE;else{Ee=bE;var Te=yE}else(ve=le.nodeName)&&ve.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ee=wE);if(Ee&&(Ee=Ee(a,ee))){kv(ue,Ee,u,ce);break e}Te&&Te(a,le,ee),a==="focusout"&&(Te=le._wrapperState)&&Te.controlled&&le.type==="number"&&Qt(le,"number",le.value)}switch(Te=ee?ko(ee):window,a){case"focusin":(wv(Te)||Te.contentEditable==="true")&&(xo=Te,bf=ee,Li=null);break;case"focusout":Li=bf=xo=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Pv(ue,u,ce);break;case"selectionchange":if(SE)break;case"keydown":case"keyup":Pv(ue,u,ce)}var De;if(gf)e:{switch(a){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else vo?yv(a,u)&&(Me="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Me="onCompositionStart");Me&&(gv&&u.locale!=="ko"&&(vo||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&vo&&(De=uv()):(zs=ce,df="value"in zs?zs.value:zs.textContent,vo=!0)),Te=vc(ee,Me),0<Te.length&&(Me=new pv(Me,a,null,u,ce),ue.push({event:Me,listeners:Te}),De?Me.data=De:(De=bv(u),De!==null&&(Me.data=De)))),(De=hE?pE(a,u):mE(a,u))&&(ee=vc(ee,"onBeforeInput"),0<ee.length&&(ce=new pv("onBeforeInput","beforeinput",null,u,ce),ue.push({event:ce,listeners:ee}),ce.data=De))}$v(ue,l)})}function Bi(a,l,u){return{instance:a,listener:l,currentTarget:u}}function vc(a,l){for(var u=l+"Capture",g=[];a!==null;){var y=a,j=y.stateNode;y.tag===5&&j!==null&&(y=j,j=Ve(a,u),j!=null&&g.unshift(Bi(a,j,y)),j=Ve(a,l),j!=null&&g.push(Bi(a,j,y))),a=a.return}return g}function bo(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Uv(a,l,u,g,y){for(var j=l._reactName,T=[];u!==null&&u!==g;){var L=u,$=L.alternate,ee=L.stateNode;if($!==null&&$===g)break;L.tag===5&&ee!==null&&(L=ee,y?($=Ve(u,j),$!=null&&T.unshift(Bi(u,$,L))):y||($=Ve(u,j),$!=null&&T.push(Bi(u,$,L)))),u=u.return}T.length!==0&&a.push({event:l,listeners:T})}var TE=/\r\n?/g,DE=/\u0000|\uFFFD/g;function Vv(a){return(typeof a=="string"?a:""+a).replace(TE,`
`).replace(DE,"")}function xc(a,l,u){if(l=Vv(l),Vv(a)!==l&&u)throw Error(n(425))}function yc(){}var _f=null,Cf=null;function Tf(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Df=typeof setTimeout=="function"?setTimeout:void 0,PE=typeof clearTimeout=="function"?clearTimeout:void 0,Wv=typeof Promise=="function"?Promise:void 0,RE=typeof queueMicrotask=="function"?queueMicrotask:typeof Wv<"u"?function(a){return Wv.resolve(null).then(a).catch(AE)}:Df;function AE(a){setTimeout(function(){throw a})}function Pf(a,l){var u=l,g=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(g===0){a.removeChild(y),Pi(l);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=y}while(u);Pi(l)}function Bs(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function Hv(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return a;l--}else u==="/$"&&l++}a=a.previousSibling}return null}var wo=Math.random().toString(36).slice(2),Zr="__reactFiber$"+wo,Ui="__reactProps$"+wo,gs="__reactContainer$"+wo,Rf="__reactEvents$"+wo,IE="__reactListeners$"+wo,OE="__reactHandles$"+wo;function Sa(a){var l=a[Zr];if(l)return l;for(var u=a.parentNode;u;){if(l=u[gs]||u[Zr]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(a=Hv(a);a!==null;){if(u=a[Zr])return u;a=Hv(a)}return l}a=u,u=a.parentNode}return null}function Vi(a){return a=a[Zr]||a[gs],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ko(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function bc(a){return a[Ui]||null}var Af=[],jo=-1;function Us(a){return{current:a}}function pt(a){0>jo||(a.current=Af[jo],Af[jo]=null,jo--)}function lt(a,l){jo++,Af[jo]=a.current,a.current=l}var Vs={},un=Us(Vs),Cn=Us(!1),Ea=Vs;function No(a,l){var u=a.type.contextTypes;if(!u)return Vs;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var y={},j;for(j in u)y[j]=l[j];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=y),y}function Tn(a){return a=a.childContextTypes,a!=null}function wc(){pt(Cn),pt(un)}function qv(a,l,u){if(un.current!==Vs)throw Error(n(168));lt(un,l),lt(Cn,u)}function Yv(a,l,u){var g=a.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return u;g=g.getChildContext();for(var y in g)if(!(y in l))throw Error(n(108,J(a)||"Unknown",y));return ae({},u,g)}function kc(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vs,Ea=un.current,lt(un,a),lt(Cn,Cn.current),!0}function Kv(a,l,u){var g=a.stateNode;if(!g)throw Error(n(169));u?(a=Yv(a,l,Ea),g.__reactInternalMemoizedMergedChildContext=a,pt(Cn),pt(un),lt(un,a)):pt(Cn),lt(Cn,u)}var vs=null,jc=!1,If=!1;function Gv(a){vs===null?vs=[a]:vs.push(a)}function FE(a){jc=!0,Gv(a)}function Ws(){if(!If&&vs!==null){If=!0;var a=0,l=nt;try{var u=vs;for(nt=1;a<u.length;a++){var g=u[a];do g=g(!0);while(g!==null)}vs=null,jc=!1}catch(y){throw vs!==null&&(vs=vs.slice(a+1)),Jg(tf,Ws),y}finally{nt=l,If=!1}}return null}var So=[],Eo=0,Nc=null,Sc=0,sr=[],ar=0,_a=null,xs=1,ys="";function Ca(a,l){So[Eo++]=Sc,So[Eo++]=Nc,Nc=a,Sc=l}function Zv(a,l,u){sr[ar++]=xs,sr[ar++]=ys,sr[ar++]=_a,_a=a;var g=xs;a=ys;var y=32-br(g)-1;g&=~(1<<y),u+=1;var j=32-br(l)+y;if(30<j){var T=y-y%5;j=(g&(1<<T)-1).toString(32),g>>=T,y-=T,xs=1<<32-br(l)+y|u<<y|g,ys=j+a}else xs=1<<j|u<<y|g,ys=a}function Of(a){a.return!==null&&(Ca(a,1),Zv(a,1,0))}function Ff(a){for(;a===Nc;)Nc=So[--Eo],So[Eo]=null,Sc=So[--Eo],So[Eo]=null;for(;a===_a;)_a=sr[--ar],sr[ar]=null,ys=sr[--ar],sr[ar]=null,xs=sr[--ar],sr[ar]=null}var Wn=null,Hn=null,mt=!1,kr=null;function Jv(a,l){var u=cr(5,null,null,0);u.elementType="DELETED",u.stateNode=l,u.return=a,l=a.deletions,l===null?(a.deletions=[u],a.flags|=16):l.push(u)}function Xv(a,l){switch(a.tag){case 5:var u=a.type;return l=l.nodeType!==1||u.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,Wn=a,Hn=Bs(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,Wn=a,Hn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(u=_a!==null?{id:xs,overflow:ys}:null,a.memoizedState={dehydrated:l,treeContext:u,retryLane:1073741824},u=cr(18,null,null,0),u.stateNode=l,u.return=a,a.child=u,Wn=a,Hn=null,!0):!1;default:return!1}}function Mf(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Lf(a){if(mt){var l=Hn;if(l){var u=l;if(!Xv(a,l)){if(Mf(a))throw Error(n(418));l=Bs(u.nextSibling);var g=Wn;l&&Xv(a,l)?Jv(g,u):(a.flags=a.flags&-4097|2,mt=!1,Wn=a)}}else{if(Mf(a))throw Error(n(418));a.flags=a.flags&-4097|2,mt=!1,Wn=a}}}function Qv(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Wn=a}function Ec(a){if(a!==Wn)return!1;if(!mt)return Qv(a),mt=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!Tf(a.type,a.memoizedProps)),l&&(l=Hn)){if(Mf(a))throw ex(),Error(n(418));for(;l;)Jv(a,l),l=Bs(l.nextSibling)}if(Qv(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"){if(l===0){Hn=Bs(a.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++}a=a.nextSibling}Hn=null}}else Hn=Wn?Bs(a.stateNode.nextSibling):null;return!0}function ex(){for(var a=Hn;a;)a=Bs(a.nextSibling)}function _o(){Hn=Wn=null,mt=!1}function zf(a){kr===null?kr=[a]:kr.push(a)}var ME=D.ReactCurrentBatchConfig;function Wi(a,l,u){if(a=u.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var g=u.stateNode}if(!g)throw Error(n(147,a));var y=g,j=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===j?l.ref:(l=function(T){var L=y.refs;T===null?delete L[j]:L[j]=T},l._stringRef=j,l)}if(typeof a!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,a))}return a}function _c(a,l){throw a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function tx(a){var l=a._init;return l(a._payload)}function nx(a){function l(Y,B){if(a){var Z=Y.deletions;Z===null?(Y.deletions=[B],Y.flags|=16):Z.push(B)}}function u(Y,B){if(!a)return null;for(;B!==null;)l(Y,B),B=B.sibling;return null}function g(Y,B){for(Y=new Map;B!==null;)B.key!==null?Y.set(B.key,B):Y.set(B.index,B),B=B.sibling;return Y}function y(Y,B){return Y=Xs(Y,B),Y.index=0,Y.sibling=null,Y}function j(Y,B,Z){return Y.index=Z,a?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<B?(Y.flags|=2,B):Z):(Y.flags|=2,B)):(Y.flags|=1048576,B)}function T(Y){return a&&Y.alternate===null&&(Y.flags|=2),Y}function L(Y,B,Z,he){return B===null||B.tag!==6?(B=Dh(Z,Y.mode,he),B.return=Y,B):(B=y(B,Z),B.return=Y,B)}function $(Y,B,Z,he){var Ee=Z.type;return Ee===P?ce(Y,B,Z.props.children,he,Z.key):B!==null&&(B.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===se&&tx(Ee)===B.type)?(he=y(B,Z.props),he.ref=Wi(Y,B,Z),he.return=Y,he):(he=Jc(Z.type,Z.key,Z.props,null,Y.mode,he),he.ref=Wi(Y,B,Z),he.return=Y,he)}function ee(Y,B,Z,he){return B===null||B.tag!==4||B.stateNode.containerInfo!==Z.containerInfo||B.stateNode.implementation!==Z.implementation?(B=Ph(Z,Y.mode,he),B.return=Y,B):(B=y(B,Z.children||[]),B.return=Y,B)}function ce(Y,B,Z,he,Ee){return B===null||B.tag!==7?(B=Fa(Z,Y.mode,he,Ee),B.return=Y,B):(B=y(B,Z),B.return=Y,B)}function ue(Y,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Dh(""+B,Y.mode,Z),B.return=Y,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case _:return Z=Jc(B.type,B.key,B.props,null,Y.mode,Z),Z.ref=Wi(Y,null,B),Z.return=Y,Z;case A:return B=Ph(B,Y.mode,Z),B.return=Y,B;case se:var he=B._init;return ue(Y,he(B._payload),Z)}if(dn(B)||X(B))return B=Fa(B,Y.mode,Z,null),B.return=Y,B;_c(Y,B)}return null}function le(Y,B,Z,he){var Ee=B!==null?B.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Ee!==null?null:L(Y,B,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:return Z.key===Ee?$(Y,B,Z,he):null;case A:return Z.key===Ee?ee(Y,B,Z,he):null;case se:return Ee=Z._init,le(Y,B,Ee(Z._payload),he)}if(dn(Z)||X(Z))return Ee!==null?null:ce(Y,B,Z,he,null);_c(Y,Z)}return null}function ve(Y,B,Z,he,Ee){if(typeof he=="string"&&he!==""||typeof he=="number")return Y=Y.get(Z)||null,L(B,Y,""+he,Ee);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case _:return Y=Y.get(he.key===null?Z:he.key)||null,$(B,Y,he,Ee);case A:return Y=Y.get(he.key===null?Z:he.key)||null,ee(B,Y,he,Ee);case se:var Te=he._init;return ve(Y,B,Z,Te(he._payload),Ee)}if(dn(he)||X(he))return Y=Y.get(Z)||null,ce(B,Y,he,Ee,null);_c(B,he)}return null}function ke(Y,B,Z,he){for(var Ee=null,Te=null,De=B,Me=B=0,Gt=null;De!==null&&Me<Z.length;Me++){De.index>Me?(Gt=De,De=null):Gt=De.sibling;var Ze=le(Y,De,Z[Me],he);if(Ze===null){De===null&&(De=Gt);break}a&&De&&Ze.alternate===null&&l(Y,De),B=j(Ze,B,Me),Te===null?Ee=Ze:Te.sibling=Ze,Te=Ze,De=Gt}if(Me===Z.length)return u(Y,De),mt&&Ca(Y,Me),Ee;if(De===null){for(;Me<Z.length;Me++)De=ue(Y,Z[Me],he),De!==null&&(B=j(De,B,Me),Te===null?Ee=De:Te.sibling=De,Te=De);return mt&&Ca(Y,Me),Ee}for(De=g(Y,De);Me<Z.length;Me++)Gt=ve(De,Y,Me,Z[Me],he),Gt!==null&&(a&&Gt.alternate!==null&&De.delete(Gt.key===null?Me:Gt.key),B=j(Gt,B,Me),Te===null?Ee=Gt:Te.sibling=Gt,Te=Gt);return a&&De.forEach(function(Qs){return l(Y,Qs)}),mt&&Ca(Y,Me),Ee}function Se(Y,B,Z,he){var Ee=X(Z);if(typeof Ee!="function")throw Error(n(150));if(Z=Ee.call(Z),Z==null)throw Error(n(151));for(var Te=Ee=null,De=B,Me=B=0,Gt=null,Ze=Z.next();De!==null&&!Ze.done;Me++,Ze=Z.next()){De.index>Me?(Gt=De,De=null):Gt=De.sibling;var Qs=le(Y,De,Ze.value,he);if(Qs===null){De===null&&(De=Gt);break}a&&De&&Qs.alternate===null&&l(Y,De),B=j(Qs,B,Me),Te===null?Ee=Qs:Te.sibling=Qs,Te=Qs,De=Gt}if(Ze.done)return u(Y,De),mt&&Ca(Y,Me),Ee;if(De===null){for(;!Ze.done;Me++,Ze=Z.next())Ze=ue(Y,Ze.value,he),Ze!==null&&(B=j(Ze,B,Me),Te===null?Ee=Ze:Te.sibling=Ze,Te=Ze);return mt&&Ca(Y,Me),Ee}for(De=g(Y,De);!Ze.done;Me++,Ze=Z.next())Ze=ve(De,Y,Me,Ze.value,he),Ze!==null&&(a&&Ze.alternate!==null&&De.delete(Ze.key===null?Me:Ze.key),B=j(Ze,B,Me),Te===null?Ee=Ze:Te.sibling=Ze,Te=Ze);return a&&De.forEach(function(g2){return l(Y,g2)}),mt&&Ca(Y,Me),Ee}function Tt(Y,B,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===P&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:e:{for(var Ee=Z.key,Te=B;Te!==null;){if(Te.key===Ee){if(Ee=Z.type,Ee===P){if(Te.tag===7){u(Y,Te.sibling),B=y(Te,Z.props.children),B.return=Y,Y=B;break e}}else if(Te.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===se&&tx(Ee)===Te.type){u(Y,Te.sibling),B=y(Te,Z.props),B.ref=Wi(Y,Te,Z),B.return=Y,Y=B;break e}u(Y,Te);break}else l(Y,Te);Te=Te.sibling}Z.type===P?(B=Fa(Z.props.children,Y.mode,he,Z.key),B.return=Y,Y=B):(he=Jc(Z.type,Z.key,Z.props,null,Y.mode,he),he.ref=Wi(Y,B,Z),he.return=Y,Y=he)}return T(Y);case A:e:{for(Te=Z.key;B!==null;){if(B.key===Te)if(B.tag===4&&B.stateNode.containerInfo===Z.containerInfo&&B.stateNode.implementation===Z.implementation){u(Y,B.sibling),B=y(B,Z.children||[]),B.return=Y,Y=B;break e}else{u(Y,B);break}else l(Y,B);B=B.sibling}B=Ph(Z,Y.mode,he),B.return=Y,Y=B}return T(Y);case se:return Te=Z._init,Tt(Y,B,Te(Z._payload),he)}if(dn(Z))return ke(Y,B,Z,he);if(X(Z))return Se(Y,B,Z,he);_c(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,B!==null&&B.tag===6?(u(Y,B.sibling),B=y(B,Z),B.return=Y,Y=B):(u(Y,B),B=Dh(Z,Y.mode,he),B.return=Y,Y=B),T(Y)):u(Y,B)}return Tt}var Co=nx(!0),rx=nx(!1),Cc=Us(null),Tc=null,To=null,$f=null;function Bf(){$f=To=Tc=null}function Uf(a){var l=Cc.current;pt(Cc),a._currentValue=l}function Vf(a,l,u){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===u)break;a=a.return}}function Do(a,l){Tc=a,$f=To=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(Dn=!0),a.firstContext=null)}function or(a){var l=a._currentValue;if($f!==a)if(a={context:a,memoizedValue:l,next:null},To===null){if(Tc===null)throw Error(n(308));To=a,Tc.dependencies={lanes:0,firstContext:a}}else To=To.next=a;return l}var Ta=null;function Wf(a){Ta===null?Ta=[a]:Ta.push(a)}function sx(a,l,u,g){var y=l.interleaved;return y===null?(u.next=u,Wf(l)):(u.next=y.next,y.next=u),l.interleaved=u,bs(a,g)}function bs(a,l){a.lanes|=l;var u=a.alternate;for(u!==null&&(u.lanes|=l),u=a,a=a.return;a!==null;)a.childLanes|=l,u=a.alternate,u!==null&&(u.childLanes|=l),u=a,a=a.return;return u.tag===3?u.stateNode:null}var Hs=!1;function Hf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ax(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ws(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function qs(a,l,u){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Ye&2)!==0){var y=g.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),g.pending=l,bs(a,u)}return y=g.interleaved,y===null?(l.next=l,Wf(g)):(l.next=y.next,y.next=l),g.interleaved=l,bs(a,u)}function Dc(a,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194240)!==0)){var g=l.lanes;g&=a.pendingLanes,u|=g,l.lanes=u,sf(a,u)}}function ox(a,l){var u=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var y=null,j=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};j===null?y=j=T:j=j.next=T,u=u.next}while(u!==null);j===null?y=j=l:j=j.next=l}else y=j=l;u={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:j,shared:g.shared,effects:g.effects},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=l}function Pc(a,l,u,g){var y=a.updateQueue;Hs=!1;var j=y.firstBaseUpdate,T=y.lastBaseUpdate,L=y.shared.pending;if(L!==null){y.shared.pending=null;var $=L,ee=$.next;$.next=null,T===null?j=ee:T.next=ee,T=$;var ce=a.alternate;ce!==null&&(ce=ce.updateQueue,L=ce.lastBaseUpdate,L!==T&&(L===null?ce.firstBaseUpdate=ee:L.next=ee,ce.lastBaseUpdate=$))}if(j!==null){var ue=y.baseState;T=0,ce=ee=$=null,L=j;do{var le=L.lane,ve=L.eventTime;if((g&le)===le){ce!==null&&(ce=ce.next={eventTime:ve,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var ke=a,Se=L;switch(le=l,ve=u,Se.tag){case 1:if(ke=Se.payload,typeof ke=="function"){ue=ke.call(ve,ue,le);break e}ue=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Se.payload,le=typeof ke=="function"?ke.call(ve,ue,le):ke,le==null)break e;ue=ae({},ue,le);break e;case 2:Hs=!0}}L.callback!==null&&L.lane!==0&&(a.flags|=64,le=y.effects,le===null?y.effects=[L]:le.push(L))}else ve={eventTime:ve,lane:le,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ce===null?(ee=ce=ve,$=ue):ce=ce.next=ve,T|=le;if(L=L.next,L===null){if(L=y.shared.pending,L===null)break;le=L,L=le.next,le.next=null,y.lastBaseUpdate=le,y.shared.pending=null}}while(!0);if(ce===null&&($=ue),y.baseState=$,y.firstBaseUpdate=ee,y.lastBaseUpdate=ce,l=y.shared.interleaved,l!==null){y=l;do T|=y.lane,y=y.next;while(y!==l)}else j===null&&(y.shared.lanes=0);Ra|=T,a.lanes=T,a.memoizedState=ue}}function ix(a,l,u){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var g=a[l],y=g.callback;if(y!==null){if(g.callback=null,g=u,typeof y!="function")throw Error(n(191,y));y.call(g)}}}var Hi={},Jr=Us(Hi),qi=Us(Hi),Yi=Us(Hi);function Da(a){if(a===Hi)throw Error(n(174));return a}function qf(a,l){switch(lt(Yi,l),lt(qi,a),lt(Jr,Hi),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:nr(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=nr(l,a)}pt(Jr),lt(Jr,l)}function Po(){pt(Jr),pt(qi),pt(Yi)}function lx(a){Da(Yi.current);var l=Da(Jr.current),u=nr(l,a.type);l!==u&&(lt(qi,a),lt(Jr,u))}function Yf(a){qi.current===a&&(pt(Jr),pt(qi))}var xt=Us(0);function Rc(a){for(var l=a;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Kf=[];function Gf(){for(var a=0;a<Kf.length;a++)Kf[a]._workInProgressVersionPrimary=null;Kf.length=0}var Ac=D.ReactCurrentDispatcher,Zf=D.ReactCurrentBatchConfig,Pa=0,yt=null,$t=null,Yt=null,Ic=!1,Ki=!1,Gi=0,LE=0;function fn(){throw Error(n(321))}function Jf(a,l){if(l===null)return!1;for(var u=0;u<l.length&&u<a.length;u++)if(!wr(a[u],l[u]))return!1;return!0}function Xf(a,l,u,g,y,j){if(Pa=j,yt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Ac.current=a===null||a.memoizedState===null?UE:VE,a=u(g,y),Ki){j=0;do{if(Ki=!1,Gi=0,25<=j)throw Error(n(301));j+=1,Yt=$t=null,l.updateQueue=null,Ac.current=WE,a=u(g,y)}while(Ki)}if(Ac.current=Mc,l=$t!==null&&$t.next!==null,Pa=0,Yt=$t=yt=null,Ic=!1,l)throw Error(n(300));return a}function Qf(){var a=Gi!==0;return Gi=0,a}function Xr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?yt.memoizedState=Yt=a:Yt=Yt.next=a,Yt}function ir(){if($t===null){var a=yt.alternate;a=a!==null?a.memoizedState:null}else a=$t.next;var l=Yt===null?yt.memoizedState:Yt.next;if(l!==null)Yt=l,$t=a;else{if(a===null)throw Error(n(310));$t=a,a={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Yt===null?yt.memoizedState=Yt=a:Yt=Yt.next=a}return Yt}function Zi(a,l){return typeof l=="function"?l(a):l}function eh(a){var l=ir(),u=l.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var g=$t,y=g.baseQueue,j=u.pending;if(j!==null){if(y!==null){var T=y.next;y.next=j.next,j.next=T}g.baseQueue=y=j,u.pending=null}if(y!==null){j=y.next,g=g.baseState;var L=T=null,$=null,ee=j;do{var ce=ee.lane;if((Pa&ce)===ce)$!==null&&($=$.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),g=ee.hasEagerState?ee.eagerState:a(g,ee.action);else{var ue={lane:ce,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};$===null?(L=$=ue,T=g):$=$.next=ue,yt.lanes|=ce,Ra|=ce}ee=ee.next}while(ee!==null&&ee!==j);$===null?T=g:$.next=L,wr(g,l.memoizedState)||(Dn=!0),l.memoizedState=g,l.baseState=T,l.baseQueue=$,u.lastRenderedState=g}if(a=u.interleaved,a!==null){y=a;do j=y.lane,yt.lanes|=j,Ra|=j,y=y.next;while(y!==a)}else y===null&&(u.lanes=0);return[l.memoizedState,u.dispatch]}function th(a){var l=ir(),u=l.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var g=u.dispatch,y=u.pending,j=l.memoizedState;if(y!==null){u.pending=null;var T=y=y.next;do j=a(j,T.action),T=T.next;while(T!==y);wr(j,l.memoizedState)||(Dn=!0),l.memoizedState=j,l.baseQueue===null&&(l.baseState=j),u.lastRenderedState=j}return[j,g]}function cx(){}function dx(a,l){var u=yt,g=ir(),y=l(),j=!wr(g.memoizedState,y);if(j&&(g.memoizedState=y,Dn=!0),g=g.queue,nh(hx.bind(null,u,g,a),[a]),g.getSnapshot!==l||j||Yt!==null&&Yt.memoizedState.tag&1){if(u.flags|=2048,Ji(9,fx.bind(null,u,g,y,l),void 0,null),Kt===null)throw Error(n(349));(Pa&30)!==0||ux(u,l,y)}return y}function ux(a,l,u){a.flags|=16384,a={getSnapshot:l,value:u},l=yt.updateQueue,l===null?(l={lastEffect:null,stores:null},yt.updateQueue=l,l.stores=[a]):(u=l.stores,u===null?l.stores=[a]:u.push(a))}function fx(a,l,u,g){l.value=u,l.getSnapshot=g,px(l)&&mx(a)}function hx(a,l,u){return u(function(){px(l)&&mx(a)})}function px(a){var l=a.getSnapshot;a=a.value;try{var u=l();return!wr(a,u)}catch{return!0}}function mx(a){var l=bs(a,1);l!==null&&Er(l,a,1,-1)}function gx(a){var l=Xr();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},l.queue=a,a=a.dispatch=BE.bind(null,yt,a),[l.memoizedState,a]}function Ji(a,l,u,g){return a={tag:a,create:l,destroy:u,deps:g,next:null},l=yt.updateQueue,l===null?(l={lastEffect:null,stores:null},yt.updateQueue=l,l.lastEffect=a.next=a):(u=l.lastEffect,u===null?l.lastEffect=a.next=a:(g=u.next,u.next=a,a.next=g,l.lastEffect=a)),a}function vx(){return ir().memoizedState}function Oc(a,l,u,g){var y=Xr();yt.flags|=a,y.memoizedState=Ji(1|l,u,void 0,g===void 0?null:g)}function Fc(a,l,u,g){var y=ir();g=g===void 0?null:g;var j=void 0;if($t!==null){var T=$t.memoizedState;if(j=T.destroy,g!==null&&Jf(g,T.deps)){y.memoizedState=Ji(l,u,j,g);return}}yt.flags|=a,y.memoizedState=Ji(1|l,u,j,g)}function xx(a,l){return Oc(8390656,8,a,l)}function nh(a,l){return Fc(2048,8,a,l)}function yx(a,l){return Fc(4,2,a,l)}function bx(a,l){return Fc(4,4,a,l)}function wx(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function kx(a,l,u){return u=u!=null?u.concat([a]):null,Fc(4,4,wx.bind(null,l,a),u)}function rh(){}function jx(a,l){var u=ir();l=l===void 0?null:l;var g=u.memoizedState;return g!==null&&l!==null&&Jf(l,g[1])?g[0]:(u.memoizedState=[a,l],a)}function Nx(a,l){var u=ir();l=l===void 0?null:l;var g=u.memoizedState;return g!==null&&l!==null&&Jf(l,g[1])?g[0]:(a=a(),u.memoizedState=[a,l],a)}function Sx(a,l,u){return(Pa&21)===0?(a.baseState&&(a.baseState=!1,Dn=!0),a.memoizedState=u):(wr(u,l)||(u=tv(),yt.lanes|=u,Ra|=u,a.baseState=!0),l)}function zE(a,l){var u=nt;nt=u!==0&&4>u?u:4,a(!0);var g=Zf.transition;Zf.transition={};try{a(!1),l()}finally{nt=u,Zf.transition=g}}function Ex(){return ir().memoizedState}function $E(a,l,u){var g=Zs(a);if(u={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null},_x(a))Cx(l,u);else if(u=sx(a,l,u,g),u!==null){var y=xn();Er(u,a,g,y),Tx(u,l,g)}}function BE(a,l,u){var g=Zs(a),y={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null};if(_x(a))Cx(l,y);else{var j=a.alternate;if(a.lanes===0&&(j===null||j.lanes===0)&&(j=l.lastRenderedReducer,j!==null))try{var T=l.lastRenderedState,L=j(T,u);if(y.hasEagerState=!0,y.eagerState=L,wr(L,T)){var $=l.interleaved;$===null?(y.next=y,Wf(l)):(y.next=$.next,$.next=y),l.interleaved=y;return}}catch{}finally{}u=sx(a,l,y,g),u!==null&&(y=xn(),Er(u,a,g,y),Tx(u,l,g))}}function _x(a){var l=a.alternate;return a===yt||l!==null&&l===yt}function Cx(a,l){Ki=Ic=!0;var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}function Tx(a,l,u){if((u&4194240)!==0){var g=l.lanes;g&=a.pendingLanes,u|=g,l.lanes=u,sf(a,u)}}var Mc={readContext:or,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},UE={readContext:or,useCallback:function(a,l){return Xr().memoizedState=[a,l===void 0?null:l],a},useContext:or,useEffect:xx,useImperativeHandle:function(a,l,u){return u=u!=null?u.concat([a]):null,Oc(4194308,4,wx.bind(null,l,a),u)},useLayoutEffect:function(a,l){return Oc(4194308,4,a,l)},useInsertionEffect:function(a,l){return Oc(4,2,a,l)},useMemo:function(a,l){var u=Xr();return l=l===void 0?null:l,a=a(),u.memoizedState=[a,l],a},useReducer:function(a,l,u){var g=Xr();return l=u!==void 0?u(l):l,g.memoizedState=g.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},g.queue=a,a=a.dispatch=$E.bind(null,yt,a),[g.memoizedState,a]},useRef:function(a){var l=Xr();return a={current:a},l.memoizedState=a},useState:gx,useDebugValue:rh,useDeferredValue:function(a){return Xr().memoizedState=a},useTransition:function(){var a=gx(!1),l=a[0];return a=zE.bind(null,a[1]),Xr().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,u){var g=yt,y=Xr();if(mt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=l(),Kt===null)throw Error(n(349));(Pa&30)!==0||ux(g,l,u)}y.memoizedState=u;var j={value:u,getSnapshot:l};return y.queue=j,xx(hx.bind(null,g,j,a),[a]),g.flags|=2048,Ji(9,fx.bind(null,g,j,u,l),void 0,null),u},useId:function(){var a=Xr(),l=Kt.identifierPrefix;if(mt){var u=ys,g=xs;u=(g&~(1<<32-br(g)-1)).toString(32)+u,l=":"+l+"R"+u,u=Gi++,0<u&&(l+="H"+u.toString(32)),l+=":"}else u=LE++,l=":"+l+"r"+u.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},VE={readContext:or,useCallback:jx,useContext:or,useEffect:nh,useImperativeHandle:kx,useInsertionEffect:yx,useLayoutEffect:bx,useMemo:Nx,useReducer:eh,useRef:vx,useState:function(){return eh(Zi)},useDebugValue:rh,useDeferredValue:function(a){var l=ir();return Sx(l,$t.memoizedState,a)},useTransition:function(){var a=eh(Zi)[0],l=ir().memoizedState;return[a,l]},useMutableSource:cx,useSyncExternalStore:dx,useId:Ex,unstable_isNewReconciler:!1},WE={readContext:or,useCallback:jx,useContext:or,useEffect:nh,useImperativeHandle:kx,useInsertionEffect:yx,useLayoutEffect:bx,useMemo:Nx,useReducer:th,useRef:vx,useState:function(){return th(Zi)},useDebugValue:rh,useDeferredValue:function(a){var l=ir();return $t===null?l.memoizedState=a:Sx(l,$t.memoizedState,a)},useTransition:function(){var a=th(Zi)[0],l=ir().memoizedState;return[a,l]},useMutableSource:cx,useSyncExternalStore:dx,useId:Ex,unstable_isNewReconciler:!1};function jr(a,l){if(a&&a.defaultProps){l=ae({},l),a=a.defaultProps;for(var u in a)l[u]===void 0&&(l[u]=a[u]);return l}return l}function sh(a,l,u,g){l=a.memoizedState,u=u(g,l),u=u==null?l:ae({},l,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Lc={isMounted:function(a){return(a=a._reactInternals)?Na(a)===a:!1},enqueueSetState:function(a,l,u){a=a._reactInternals;var g=xn(),y=Zs(a),j=ws(g,y);j.payload=l,u!=null&&(j.callback=u),l=qs(a,j,y),l!==null&&(Er(l,a,y,g),Dc(l,a,y))},enqueueReplaceState:function(a,l,u){a=a._reactInternals;var g=xn(),y=Zs(a),j=ws(g,y);j.tag=1,j.payload=l,u!=null&&(j.callback=u),l=qs(a,j,y),l!==null&&(Er(l,a,y,g),Dc(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var u=xn(),g=Zs(a),y=ws(u,g);y.tag=2,l!=null&&(y.callback=l),l=qs(a,y,g),l!==null&&(Er(l,a,g,u),Dc(l,a,g))}};function Dx(a,l,u,g,y,j,T){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,j,T):l.prototype&&l.prototype.isPureReactComponent?!Mi(u,g)||!Mi(y,j):!0}function Px(a,l,u){var g=!1,y=Vs,j=l.contextType;return typeof j=="object"&&j!==null?j=or(j):(y=Tn(l)?Ea:un.current,g=l.contextTypes,j=(g=g!=null)?No(a,y):Vs),l=new l(u,j),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Lc,a.stateNode=l,l._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=j),l}function Rx(a,l,u,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,g),l.state!==a&&Lc.enqueueReplaceState(l,l.state,null)}function ah(a,l,u,g){var y=a.stateNode;y.props=u,y.state=a.memoizedState,y.refs={},Hf(a);var j=l.contextType;typeof j=="object"&&j!==null?y.context=or(j):(j=Tn(l)?Ea:un.current,y.context=No(a,j)),y.state=a.memoizedState,j=l.getDerivedStateFromProps,typeof j=="function"&&(sh(a,l,j,u),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Lc.enqueueReplaceState(y,y.state,null),Pc(a,u,y,g),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function Ro(a,l){try{var u="",g=l;do u+=H(g),g=g.return;while(g);var y=u}catch(j){y=`
Error generating stack: `+j.message+`
`+j.stack}return{value:a,source:l,stack:y,digest:null}}function oh(a,l,u){return{value:a,source:null,stack:u??null,digest:l??null}}function ih(a,l){try{console.error(l.value)}catch(u){setTimeout(function(){throw u})}}var HE=typeof WeakMap=="function"?WeakMap:Map;function Ax(a,l,u){u=ws(-1,u),u.tag=3,u.payload={element:null};var g=l.value;return u.callback=function(){Hc||(Hc=!0,kh=g),ih(a,l)},u}function Ix(a,l,u){u=ws(-1,u),u.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=l.value;u.payload=function(){return g(y)},u.callback=function(){ih(a,l)}}var j=a.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(u.callback=function(){ih(a,l),typeof g!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})}),u}function Ox(a,l,u){var g=a.pingCache;if(g===null){g=a.pingCache=new HE;var y=new Set;g.set(l,y)}else y=g.get(l),y===void 0&&(y=new Set,g.set(l,y));y.has(u)||(y.add(u),a=a2.bind(null,a,l,u),l.then(a,a))}function Fx(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function Mx(a,l,u,g,y){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(l=ws(-1,1),l.tag=2,qs(u,l,1))),u.lanes|=1),a):(a.flags|=65536,a.lanes=y,a)}var qE=D.ReactCurrentOwner,Dn=!1;function vn(a,l,u,g){l.child=a===null?rx(l,null,u,g):Co(l,a.child,u,g)}function Lx(a,l,u,g,y){u=u.render;var j=l.ref;return Do(l,y),g=Xf(a,l,u,g,j,y),u=Qf(),a!==null&&!Dn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,ks(a,l,y)):(mt&&u&&Of(l),l.flags|=1,vn(a,l,g,y),l.child)}function zx(a,l,u,g,y){if(a===null){var j=u.type;return typeof j=="function"&&!Th(j)&&j.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(l.tag=15,l.type=j,$x(a,l,j,g,y)):(a=Jc(u.type,null,g,l,l.mode,y),a.ref=l.ref,a.return=l,l.child=a)}if(j=a.child,(a.lanes&y)===0){var T=j.memoizedProps;if(u=u.compare,u=u!==null?u:Mi,u(T,g)&&a.ref===l.ref)return ks(a,l,y)}return l.flags|=1,a=Xs(j,g),a.ref=l.ref,a.return=l,l.child=a}function $x(a,l,u,g,y){if(a!==null){var j=a.memoizedProps;if(Mi(j,g)&&a.ref===l.ref)if(Dn=!1,l.pendingProps=g=j,(a.lanes&y)!==0)(a.flags&131072)!==0&&(Dn=!0);else return l.lanes=a.lanes,ks(a,l,y)}return lh(a,l,u,g,y)}function Bx(a,l,u){var g=l.pendingProps,y=g.children,j=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Io,qn),qn|=u;else{if((u&1073741824)===0)return a=j!==null?j.baseLanes|u:u,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,lt(Io,qn),qn|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=j!==null?j.baseLanes:u,lt(Io,qn),qn|=g}else j!==null?(g=j.baseLanes|u,l.memoizedState=null):g=u,lt(Io,qn),qn|=g;return vn(a,l,y,u),l.child}function Ux(a,l){var u=l.ref;(a===null&&u!==null||a!==null&&a.ref!==u)&&(l.flags|=512,l.flags|=2097152)}function lh(a,l,u,g,y){var j=Tn(u)?Ea:un.current;return j=No(l,j),Do(l,y),u=Xf(a,l,u,g,j,y),g=Qf(),a!==null&&!Dn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,ks(a,l,y)):(mt&&g&&Of(l),l.flags|=1,vn(a,l,u,y),l.child)}function Vx(a,l,u,g,y){if(Tn(u)){var j=!0;kc(l)}else j=!1;if(Do(l,y),l.stateNode===null)$c(a,l),Px(l,u,g),ah(l,u,g,y),g=!0;else if(a===null){var T=l.stateNode,L=l.memoizedProps;T.props=L;var $=T.context,ee=u.contextType;typeof ee=="object"&&ee!==null?ee=or(ee):(ee=Tn(u)?Ea:un.current,ee=No(l,ee));var ce=u.getDerivedStateFromProps,ue=typeof ce=="function"||typeof T.getSnapshotBeforeUpdate=="function";ue||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==g||$!==ee)&&Rx(l,T,g,ee),Hs=!1;var le=l.memoizedState;T.state=le,Pc(l,g,T,y),$=l.memoizedState,L!==g||le!==$||Cn.current||Hs?(typeof ce=="function"&&(sh(l,u,ce,g),$=l.memoizedState),(L=Hs||Dx(l,u,L,g,le,$,ee))?(ue||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(l.flags|=4194308)):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=$),T.props=g,T.state=$,T.context=ee,g=L):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{T=l.stateNode,ax(a,l),L=l.memoizedProps,ee=l.type===l.elementType?L:jr(l.type,L),T.props=ee,ue=l.pendingProps,le=T.context,$=u.contextType,typeof $=="object"&&$!==null?$=or($):($=Tn(u)?Ea:un.current,$=No(l,$));var ve=u.getDerivedStateFromProps;(ce=typeof ve=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==ue||le!==$)&&Rx(l,T,g,$),Hs=!1,le=l.memoizedState,T.state=le,Pc(l,g,T,y);var ke=l.memoizedState;L!==ue||le!==ke||Cn.current||Hs?(typeof ve=="function"&&(sh(l,u,ve,g),ke=l.memoizedState),(ee=Hs||Dx(l,u,ee,g,le,ke,$)||!1)?(ce||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(g,ke,$),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(g,ke,$)),typeof T.componentDidUpdate=="function"&&(l.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof T.componentDidUpdate!="function"||L===a.memoizedProps&&le===a.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===a.memoizedProps&&le===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=ke),T.props=g,T.state=ke,T.context=$,g=ee):(typeof T.componentDidUpdate!="function"||L===a.memoizedProps&&le===a.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===a.memoizedProps&&le===a.memoizedState||(l.flags|=1024),g=!1)}return ch(a,l,u,g,j,y)}function ch(a,l,u,g,y,j){Ux(a,l);var T=(l.flags&128)!==0;if(!g&&!T)return y&&Kv(l,u,!1),ks(a,l,j);g=l.stateNode,qE.current=l;var L=T&&typeof u.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,a!==null&&T?(l.child=Co(l,a.child,null,j),l.child=Co(l,null,L,j)):vn(a,l,L,j),l.memoizedState=g.state,y&&Kv(l,u,!0),l.child}function Wx(a){var l=a.stateNode;l.pendingContext?qv(a,l.pendingContext,l.pendingContext!==l.context):l.context&&qv(a,l.context,!1),qf(a,l.containerInfo)}function Hx(a,l,u,g,y){return _o(),zf(y),l.flags|=256,vn(a,l,u,g),l.child}var dh={dehydrated:null,treeContext:null,retryLane:0};function uh(a){return{baseLanes:a,cachePool:null,transitions:null}}function qx(a,l,u){var g=l.pendingProps,y=xt.current,j=!1,T=(l.flags&128)!==0,L;if((L=T)||(L=a!==null&&a.memoizedState===null?!1:(y&2)!==0),L?(j=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(y|=1),lt(xt,y&1),a===null)return Lf(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(T=g.children,a=g.fallback,j?(g=l.mode,j=l.child,T={mode:"hidden",children:T},(g&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=T):j=Xc(T,g,0,null),a=Fa(a,g,u,null),j.return=l,a.return=l,j.sibling=a,l.child=j,l.child.memoizedState=uh(u),l.memoizedState=dh,a):fh(l,T));if(y=a.memoizedState,y!==null&&(L=y.dehydrated,L!==null))return YE(a,l,T,g,L,y,u);if(j){j=g.fallback,T=l.mode,y=a.child,L=y.sibling;var $={mode:"hidden",children:g.children};return(T&1)===0&&l.child!==y?(g=l.child,g.childLanes=0,g.pendingProps=$,l.deletions=null):(g=Xs(y,$),g.subtreeFlags=y.subtreeFlags&14680064),L!==null?j=Xs(L,j):(j=Fa(j,T,u,null),j.flags|=2),j.return=l,g.return=l,g.sibling=j,l.child=g,g=j,j=l.child,T=a.child.memoizedState,T=T===null?uh(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},j.memoizedState=T,j.childLanes=a.childLanes&~u,l.memoizedState=dh,g}return j=a.child,a=j.sibling,g=Xs(j,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=u),g.return=l,g.sibling=null,a!==null&&(u=l.deletions,u===null?(l.deletions=[a],l.flags|=16):u.push(a)),l.child=g,l.memoizedState=null,g}function fh(a,l){return l=Xc({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function zc(a,l,u,g){return g!==null&&zf(g),Co(l,a.child,null,u),a=fh(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function YE(a,l,u,g,y,j,T){if(u)return l.flags&256?(l.flags&=-257,g=oh(Error(n(422))),zc(a,l,T,g)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(j=g.fallback,y=l.mode,g=Xc({mode:"visible",children:g.children},y,0,null),j=Fa(j,y,T,null),j.flags|=2,g.return=l,j.return=l,g.sibling=j,l.child=g,(l.mode&1)!==0&&Co(l,a.child,null,T),l.child.memoizedState=uh(T),l.memoizedState=dh,j);if((l.mode&1)===0)return zc(a,l,T,null);if(y.data==="$!"){if(g=y.nextSibling&&y.nextSibling.dataset,g)var L=g.dgst;return g=L,j=Error(n(419)),g=oh(j,g,void 0),zc(a,l,T,g)}if(L=(T&a.childLanes)!==0,Dn||L){if(g=Kt,g!==null){switch(T&-T){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(g.suspendedLanes|T))!==0?0:y,y!==0&&y!==j.retryLane&&(j.retryLane=y,bs(a,y),Er(g,a,y,-1))}return Ch(),g=oh(Error(n(421))),zc(a,l,T,g)}return y.data==="$?"?(l.flags|=128,l.child=a.child,l=o2.bind(null,a),y._reactRetry=l,null):(a=j.treeContext,Hn=Bs(y.nextSibling),Wn=l,mt=!0,kr=null,a!==null&&(sr[ar++]=xs,sr[ar++]=ys,sr[ar++]=_a,xs=a.id,ys=a.overflow,_a=l),l=fh(l,g.children),l.flags|=4096,l)}function Yx(a,l,u){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),Vf(a.return,l,u)}function hh(a,l,u,g,y){var j=a.memoizedState;j===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:y}:(j.isBackwards=l,j.rendering=null,j.renderingStartTime=0,j.last=g,j.tail=u,j.tailMode=y)}function Kx(a,l,u){var g=l.pendingProps,y=g.revealOrder,j=g.tail;if(vn(a,l,g.children,u),g=xt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Yx(a,u,l);else if(a.tag===19)Yx(a,u,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(lt(xt,g),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(u=l.child,y=null;u!==null;)a=u.alternate,a!==null&&Rc(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=l.child,l.child=null):(y=u.sibling,u.sibling=null),hh(l,!1,y,u,j);break;case"backwards":for(u=null,y=l.child,l.child=null;y!==null;){if(a=y.alternate,a!==null&&Rc(a)===null){l.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}hh(l,!0,u,null,j);break;case"together":hh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function $c(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function ks(a,l,u){if(a!==null&&(l.dependencies=a.dependencies),Ra|=l.lanes,(u&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,u=Xs(a,a.pendingProps),l.child=u,u.return=l;a.sibling!==null;)a=a.sibling,u=u.sibling=Xs(a,a.pendingProps),u.return=l;u.sibling=null}return l.child}function KE(a,l,u){switch(l.tag){case 3:Wx(l),_o();break;case 5:lx(l);break;case 1:Tn(l.type)&&kc(l);break;case 4:qf(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,y=l.memoizedProps.value;lt(Cc,g._currentValue),g._currentValue=y;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(lt(xt,xt.current&1),l.flags|=128,null):(u&l.child.childLanes)!==0?qx(a,l,u):(lt(xt,xt.current&1),a=ks(a,l,u),a!==null?a.sibling:null);lt(xt,xt.current&1);break;case 19:if(g=(u&l.childLanes)!==0,(a.flags&128)!==0){if(g)return Kx(a,l,u);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),lt(xt,xt.current),g)break;return null;case 22:case 23:return l.lanes=0,Bx(a,l,u)}return ks(a,l,u)}var Gx,ph,Zx,Jx;Gx=function(a,l){for(var u=l.child;u!==null;){if(u.tag===5||u.tag===6)a.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},ph=function(){},Zx=function(a,l,u,g){var y=a.memoizedProps;if(y!==g){a=l.stateNode,Da(Jr.current);var j=null;switch(u){case"input":y=ft(a,y),g=ft(a,g),j=[];break;case"select":y=ae({},y,{value:void 0}),g=ae({},g,{value:void 0}),j=[];break;case"textarea":y=kt(a,y),g=kt(a,g),j=[];break;default:typeof y.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=yc)}ps(u,g);var T;u=null;for(ee in y)if(!g.hasOwnProperty(ee)&&y.hasOwnProperty(ee)&&y[ee]!=null)if(ee==="style"){var L=y[ee];for(T in L)L.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(o.hasOwnProperty(ee)?j||(j=[]):(j=j||[]).push(ee,null));for(ee in g){var $=g[ee];if(L=y?.[ee],g.hasOwnProperty(ee)&&$!==L&&($!=null||L!=null))if(ee==="style")if(L){for(T in L)!L.hasOwnProperty(T)||$&&$.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in $)$.hasOwnProperty(T)&&L[T]!==$[T]&&(u||(u={}),u[T]=$[T])}else u||(j||(j=[]),j.push(ee,u)),u=$;else ee==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,L=L?L.__html:void 0,$!=null&&L!==$&&(j=j||[]).push(ee,$)):ee==="children"?typeof $!="string"&&typeof $!="number"||(j=j||[]).push(ee,""+$):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(o.hasOwnProperty(ee)?($!=null&&ee==="onScroll"&&ht("scroll",a),j||L===$||(j=[])):(j=j||[]).push(ee,$))}u&&(j=j||[]).push("style",u);var ee=j;(l.updateQueue=ee)&&(l.flags|=4)}},Jx=function(a,l,u,g){u!==g&&(l.flags|=4)};function Xi(a,l){if(!mt)switch(a.tailMode){case"hidden":l=a.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function hn(a){var l=a.alternate!==null&&a.alternate.child===a.child,u=0,g=0;if(l)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,g|=y.subtreeFlags&14680064,g|=y.flags&14680064,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=g,a.childLanes=u,l}function GE(a,l,u){var g=l.pendingProps;switch(Ff(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(l),null;case 1:return Tn(l.type)&&wc(),hn(l),null;case 3:return g=l.stateNode,Po(),pt(Cn),pt(un),Gf(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Ec(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,kr!==null&&(Sh(kr),kr=null))),ph(a,l),hn(l),null;case 5:Yf(l);var y=Da(Yi.current);if(u=l.type,a!==null&&l.stateNode!=null)Zx(a,l,u,g,y),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return hn(l),null}if(a=Da(Jr.current),Ec(l)){g=l.stateNode,u=l.type;var j=l.memoizedProps;switch(g[Zr]=l,g[Ui]=j,a=(l.mode&1)!==0,u){case"dialog":ht("cancel",g),ht("close",g);break;case"iframe":case"object":case"embed":ht("load",g);break;case"video":case"audio":for(y=0;y<zi.length;y++)ht(zi[y],g);break;case"source":ht("error",g);break;case"img":case"image":case"link":ht("error",g),ht("load",g);break;case"details":ht("toggle",g);break;case"input":mn(g,j),ht("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!j.multiple},ht("invalid",g);break;case"textarea":tr(g,j),ht("invalid",g)}ps(u,j),y=null;for(var T in j)if(j.hasOwnProperty(T)){var L=j[T];T==="children"?typeof L=="string"?g.textContent!==L&&(j.suppressHydrationWarning!==!0&&xc(g.textContent,L,a),y=["children",L]):typeof L=="number"&&g.textContent!==""+L&&(j.suppressHydrationWarning!==!0&&xc(g.textContent,L,a),y=["children",""+L]):o.hasOwnProperty(T)&&L!=null&&T==="onScroll"&&ht("scroll",g)}switch(u){case"input":Ae(g),As(g,j,!0);break;case"textarea":Ae(g),fo(g);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(g.onclick=yc)}g=y,l.updateQueue=g,g!==null&&(l.flags|=4)}else{T=y.nodeType===9?y:y.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=hs(u)),a==="http://www.w3.org/1999/xhtml"?u==="script"?(a=T.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=T.createElement(u,{is:g.is}):(a=T.createElement(u),u==="select"&&(T=a,g.multiple?T.multiple=!0:g.size&&(T.size=g.size))):a=T.createElementNS(a,u),a[Zr]=l,a[Ui]=g,Gx(a,l,!1,!1),l.stateNode=a;e:{switch(T=ka(u,g),u){case"dialog":ht("cancel",a),ht("close",a),y=g;break;case"iframe":case"object":case"embed":ht("load",a),y=g;break;case"video":case"audio":for(y=0;y<zi.length;y++)ht(zi[y],a);y=g;break;case"source":ht("error",a),y=g;break;case"img":case"image":case"link":ht("error",a),ht("load",a),y=g;break;case"details":ht("toggle",a),y=g;break;case"input":mn(a,g),y=ft(a,g),ht("invalid",a);break;case"option":y=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},y=ae({},g,{value:void 0}),ht("invalid",a);break;case"textarea":tr(a,g),y=kt(a,g),ht("invalid",a);break;default:y=g}ps(u,y),L=y;for(j in L)if(L.hasOwnProperty(j)){var $=L[j];j==="style"?po(a,$):j==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&rr(a,$)):j==="children"?typeof $=="string"?(u!=="textarea"||$!=="")&&gn(a,$):typeof $=="number"&&gn(a,""+$):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?$!=null&&j==="onScroll"&&ht("scroll",a):$!=null&&C(a,j,$,T))}switch(u){case"input":Ae(a),As(a,g,!1);break;case"textarea":Ae(a),fo(a);break;case"option":g.value!=null&&a.setAttribute("value",""+ie(g.value));break;case"select":a.multiple=!!g.multiple,j=g.value,j!=null?Un(a,!!g.multiple,j,!1):g.defaultValue!=null&&Un(a,!!g.multiple,g.defaultValue,!0);break;default:typeof y.onClick=="function"&&(a.onclick=yc)}switch(u){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return hn(l),null;case 6:if(a&&l.stateNode!=null)Jx(a,l,a.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(u=Da(Yi.current),Da(Jr.current),Ec(l)){if(g=l.stateNode,u=l.memoizedProps,g[Zr]=l,(j=g.nodeValue!==u)&&(a=Wn,a!==null))switch(a.tag){case 3:xc(g.nodeValue,u,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&xc(g.nodeValue,u,(a.mode&1)!==0)}j&&(l.flags|=4)}else g=(u.nodeType===9?u:u.ownerDocument).createTextNode(g),g[Zr]=l,l.stateNode=g}return hn(l),null;case 13:if(pt(xt),g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(mt&&Hn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)ex(),_o(),l.flags|=98560,j=!1;else if(j=Ec(l),g!==null&&g.dehydrated!==null){if(a===null){if(!j)throw Error(n(318));if(j=l.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Zr]=l}else _o(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;hn(l),j=!1}else kr!==null&&(Sh(kr),kr=null),j=!0;if(!j)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=u,l):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(xt.current&1)!==0?Bt===0&&(Bt=3):Ch())),l.updateQueue!==null&&(l.flags|=4),hn(l),null);case 4:return Po(),ph(a,l),a===null&&$i(l.stateNode.containerInfo),hn(l),null;case 10:return Uf(l.type._context),hn(l),null;case 17:return Tn(l.type)&&wc(),hn(l),null;case 19:if(pt(xt),j=l.memoizedState,j===null)return hn(l),null;if(g=(l.flags&128)!==0,T=j.rendering,T===null)if(g)Xi(j,!1);else{if(Bt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(T=Rc(a),T!==null){for(l.flags|=128,Xi(j,!1),g=T.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=u,u=l.child;u!==null;)j=u,a=g,j.flags&=14680066,T=j.alternate,T===null?(j.childLanes=0,j.lanes=a,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=T.childLanes,j.lanes=T.lanes,j.child=T.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=T.memoizedProps,j.memoizedState=T.memoizedState,j.updateQueue=T.updateQueue,j.type=T.type,a=T.dependencies,j.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),u=u.sibling;return lt(xt,xt.current&1|2),l.child}a=a.sibling}j.tail!==null&&Ct()>Oo&&(l.flags|=128,g=!0,Xi(j,!1),l.lanes=4194304)}else{if(!g)if(a=Rc(T),a!==null){if(l.flags|=128,g=!0,u=a.updateQueue,u!==null&&(l.updateQueue=u,l.flags|=4),Xi(j,!0),j.tail===null&&j.tailMode==="hidden"&&!T.alternate&&!mt)return hn(l),null}else 2*Ct()-j.renderingStartTime>Oo&&u!==1073741824&&(l.flags|=128,g=!0,Xi(j,!1),l.lanes=4194304);j.isBackwards?(T.sibling=l.child,l.child=T):(u=j.last,u!==null?u.sibling=T:l.child=T,j.last=T)}return j.tail!==null?(l=j.tail,j.rendering=l,j.tail=l.sibling,j.renderingStartTime=Ct(),l.sibling=null,u=xt.current,lt(xt,g?u&1|2:u&1),l):(hn(l),null);case 22:case 23:return _h(),g=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(qn&1073741824)!==0&&(hn(l),l.subtreeFlags&6&&(l.flags|=8192)):hn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function ZE(a,l){switch(Ff(l),l.tag){case 1:return Tn(l.type)&&wc(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Po(),pt(Cn),pt(un),Gf(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return Yf(l),null;case 13:if(pt(xt),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));_o()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return pt(xt),null;case 4:return Po(),null;case 10:return Uf(l.type._context),null;case 22:case 23:return _h(),null;case 24:return null;default:return null}}var Bc=!1,pn=!1,JE=typeof WeakSet=="function"?WeakSet:Set,we=null;function Ao(a,l){var u=a.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(g){jt(a,l,g)}else u.current=null}function mh(a,l,u){try{u()}catch(g){jt(a,l,g)}}var Xx=!1;function XE(a,l){if(_f=ic,a=Dv(),yf(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var y=g.anchorOffset,j=g.focusNode;g=g.focusOffset;try{u.nodeType,j.nodeType}catch{u=null;break e}var T=0,L=-1,$=-1,ee=0,ce=0,ue=a,le=null;t:for(;;){for(var ve;ue!==u||y!==0&&ue.nodeType!==3||(L=T+y),ue!==j||g!==0&&ue.nodeType!==3||($=T+g),ue.nodeType===3&&(T+=ue.nodeValue.length),(ve=ue.firstChild)!==null;)le=ue,ue=ve;for(;;){if(ue===a)break t;if(le===u&&++ee===y&&(L=T),le===j&&++ce===g&&($=T),(ve=ue.nextSibling)!==null)break;ue=le,le=ue.parentNode}ue=ve}u=L===-1||$===-1?null:{start:L,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(Cf={focusedElem:a,selectionRange:u},ic=!1,we=l;we!==null;)if(l=we,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,we=a;else for(;we!==null;){l=we;try{var ke=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Se=ke.memoizedProps,Tt=ke.memoizedState,Y=l.stateNode,B=Y.getSnapshotBeforeUpdate(l.elementType===l.type?Se:jr(l.type,Se),Tt);Y.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var Z=l.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){jt(l,l.return,he)}if(a=l.sibling,a!==null){a.return=l.return,we=a;break}we=l.return}return ke=Xx,Xx=!1,ke}function Qi(a,l,u){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var y=g=g.next;do{if((y.tag&a)===a){var j=y.destroy;y.destroy=void 0,j!==void 0&&mh(l,u,j)}y=y.next}while(y!==g)}}function Uc(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&a)===a){var g=u.create;u.destroy=g()}u=u.next}while(u!==l)}}function gh(a){var l=a.ref;if(l!==null){var u=a.stateNode;switch(a.tag){case 5:a=u;break;default:a=u}typeof l=="function"?l(a):l.current=a}}function Qx(a){var l=a.alternate;l!==null&&(a.alternate=null,Qx(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[Zr],delete l[Ui],delete l[Rf],delete l[IE],delete l[OE])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function ey(a){return a.tag===5||a.tag===3||a.tag===4}function ty(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||ey(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function vh(a,l,u){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?u.nodeType===8?u.parentNode.insertBefore(a,l):u.insertBefore(a,l):(u.nodeType===8?(l=u.parentNode,l.insertBefore(a,u)):(l=u,l.appendChild(a)),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=yc));else if(g!==4&&(a=a.child,a!==null))for(vh(a,l,u),a=a.sibling;a!==null;)vh(a,l,u),a=a.sibling}function xh(a,l,u){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?u.insertBefore(a,l):u.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(xh(a,l,u),a=a.sibling;a!==null;)xh(a,l,u),a=a.sibling}var nn=null,Nr=!1;function Ys(a,l,u){for(u=u.child;u!==null;)ny(a,l,u),u=u.sibling}function ny(a,l,u){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(tc,u)}catch{}switch(u.tag){case 5:pn||Ao(u,l);case 6:var g=nn,y=Nr;nn=null,Ys(a,l,u),nn=g,Nr=y,nn!==null&&(Nr?(a=nn,u=u.stateNode,a.nodeType===8?a.parentNode.removeChild(u):a.removeChild(u)):nn.removeChild(u.stateNode));break;case 18:nn!==null&&(Nr?(a=nn,u=u.stateNode,a.nodeType===8?Pf(a.parentNode,u):a.nodeType===1&&Pf(a,u),Pi(a)):Pf(nn,u.stateNode));break;case 4:g=nn,y=Nr,nn=u.stateNode.containerInfo,Nr=!0,Ys(a,l,u),nn=g,Nr=y;break;case 0:case 11:case 14:case 15:if(!pn&&(g=u.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){y=g=g.next;do{var j=y,T=j.destroy;j=j.tag,T!==void 0&&((j&2)!==0||(j&4)!==0)&&mh(u,l,T),y=y.next}while(y!==g)}Ys(a,l,u);break;case 1:if(!pn&&(Ao(u,l),g=u.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=u.memoizedProps,g.state=u.memoizedState,g.componentWillUnmount()}catch(L){jt(u,l,L)}Ys(a,l,u);break;case 21:Ys(a,l,u);break;case 22:u.mode&1?(pn=(g=pn)||u.memoizedState!==null,Ys(a,l,u),pn=g):Ys(a,l,u);break;default:Ys(a,l,u)}}function ry(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var u=a.stateNode;u===null&&(u=a.stateNode=new JE),l.forEach(function(g){var y=i2.bind(null,a,g);u.has(g)||(u.add(g),g.then(y,y))})}}function Sr(a,l){var u=l.deletions;if(u!==null)for(var g=0;g<u.length;g++){var y=u[g];try{var j=a,T=l,L=T;e:for(;L!==null;){switch(L.tag){case 5:nn=L.stateNode,Nr=!1;break e;case 3:nn=L.stateNode.containerInfo,Nr=!0;break e;case 4:nn=L.stateNode.containerInfo,Nr=!0;break e}L=L.return}if(nn===null)throw Error(n(160));ny(j,T,y),nn=null,Nr=!1;var $=y.alternate;$!==null&&($.return=null),y.return=null}catch(ee){jt(y,l,ee)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)sy(l,a),l=l.sibling}function sy(a,l){var u=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Sr(l,a),Qr(a),g&4){try{Qi(3,a,a.return),Uc(3,a)}catch(Se){jt(a,a.return,Se)}try{Qi(5,a,a.return)}catch(Se){jt(a,a.return,Se)}}break;case 1:Sr(l,a),Qr(a),g&512&&u!==null&&Ao(u,u.return);break;case 5:if(Sr(l,a),Qr(a),g&512&&u!==null&&Ao(u,u.return),a.flags&32){var y=a.stateNode;try{gn(y,"")}catch(Se){jt(a,a.return,Se)}}if(g&4&&(y=a.stateNode,y!=null)){var j=a.memoizedProps,T=u!==null?u.memoizedProps:j,L=a.type,$=a.updateQueue;if(a.updateQueue=null,$!==null)try{L==="input"&&j.type==="radio"&&j.name!=null&&ln(y,j),ka(L,T);var ee=ka(L,j);for(T=0;T<$.length;T+=2){var ce=$[T],ue=$[T+1];ce==="style"?po(y,ue):ce==="dangerouslySetInnerHTML"?rr(y,ue):ce==="children"?gn(y,ue):C(y,ce,ue,ee)}switch(L){case"input":cn(y,j);break;case"textarea":wa(y,j);break;case"select":var le=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!j.multiple;var ve=j.value;ve!=null?Un(y,!!j.multiple,ve,!1):le!==!!j.multiple&&(j.defaultValue!=null?Un(y,!!j.multiple,j.defaultValue,!0):Un(y,!!j.multiple,j.multiple?[]:"",!1))}y[Ui]=j}catch(Se){jt(a,a.return,Se)}}break;case 6:if(Sr(l,a),Qr(a),g&4){if(a.stateNode===null)throw Error(n(162));y=a.stateNode,j=a.memoizedProps;try{y.nodeValue=j}catch(Se){jt(a,a.return,Se)}}break;case 3:if(Sr(l,a),Qr(a),g&4&&u!==null&&u.memoizedState.isDehydrated)try{Pi(l.containerInfo)}catch(Se){jt(a,a.return,Se)}break;case 4:Sr(l,a),Qr(a);break;case 13:Sr(l,a),Qr(a),y=a.child,y.flags&8192&&(j=y.memoizedState!==null,y.stateNode.isHidden=j,!j||y.alternate!==null&&y.alternate.memoizedState!==null||(wh=Ct())),g&4&&ry(a);break;case 22:if(ce=u!==null&&u.memoizedState!==null,a.mode&1?(pn=(ee=pn)||ce,Sr(l,a),pn=ee):Sr(l,a),Qr(a),g&8192){if(ee=a.memoizedState!==null,(a.stateNode.isHidden=ee)&&!ce&&(a.mode&1)!==0)for(we=a,ce=a.child;ce!==null;){for(ue=we=ce;we!==null;){switch(le=we,ve=le.child,le.tag){case 0:case 11:case 14:case 15:Qi(4,le,le.return);break;case 1:Ao(le,le.return);var ke=le.stateNode;if(typeof ke.componentWillUnmount=="function"){g=le,u=le.return;try{l=g,ke.props=l.memoizedProps,ke.state=l.memoizedState,ke.componentWillUnmount()}catch(Se){jt(g,u,Se)}}break;case 5:Ao(le,le.return);break;case 22:if(le.memoizedState!==null){iy(ue);continue}}ve!==null?(ve.return=le,we=ve):iy(ue)}ce=ce.sibling}e:for(ce=null,ue=a;;){if(ue.tag===5){if(ce===null){ce=ue;try{y=ue.stateNode,ee?(j=y.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(L=ue.stateNode,$=ue.memoizedProps.style,T=$!=null&&$.hasOwnProperty("display")?$.display:null,L.style.display=ho("display",T))}catch(Se){jt(a,a.return,Se)}}}else if(ue.tag===6){if(ce===null)try{ue.stateNode.nodeValue=ee?"":ue.memoizedProps}catch(Se){jt(a,a.return,Se)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===a)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===a)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===a)break e;ce===ue&&(ce=null),ue=ue.return}ce===ue&&(ce=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Sr(l,a),Qr(a),g&4&&ry(a);break;case 21:break;default:Sr(l,a),Qr(a)}}function Qr(a){var l=a.flags;if(l&2){try{e:{for(var u=a.return;u!==null;){if(ey(u)){var g=u;break e}u=u.return}throw Error(n(160))}switch(g.tag){case 5:var y=g.stateNode;g.flags&32&&(gn(y,""),g.flags&=-33);var j=ty(a);xh(a,j,y);break;case 3:case 4:var T=g.stateNode.containerInfo,L=ty(a);vh(a,L,T);break;default:throw Error(n(161))}}catch($){jt(a,a.return,$)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function QE(a,l,u){we=a,ay(a)}function ay(a,l,u){for(var g=(a.mode&1)!==0;we!==null;){var y=we,j=y.child;if(y.tag===22&&g){var T=y.memoizedState!==null||Bc;if(!T){var L=y.alternate,$=L!==null&&L.memoizedState!==null||pn;L=Bc;var ee=pn;if(Bc=T,(pn=$)&&!ee)for(we=y;we!==null;)T=we,$=T.child,T.tag===22&&T.memoizedState!==null?ly(y):$!==null?($.return=T,we=$):ly(y);for(;j!==null;)we=j,ay(j),j=j.sibling;we=y,Bc=L,pn=ee}oy(a)}else(y.subtreeFlags&8772)!==0&&j!==null?(j.return=y,we=j):oy(a)}}function oy(a){for(;we!==null;){var l=we;if((l.flags&8772)!==0){var u=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:pn||Uc(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!pn)if(u===null)g.componentDidMount();else{var y=l.elementType===l.type?u.memoizedProps:jr(l.type,u.memoizedProps);g.componentDidUpdate(y,u.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var j=l.updateQueue;j!==null&&ix(l,j,g);break;case 3:var T=l.updateQueue;if(T!==null){if(u=null,l.child!==null)switch(l.child.tag){case 5:u=l.child.stateNode;break;case 1:u=l.child.stateNode}ix(l,T,u)}break;case 5:var L=l.stateNode;if(u===null&&l.flags&4){u=L;var $=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&u.focus();break;case"img":$.src&&(u.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ee=l.alternate;if(ee!==null){var ce=ee.memoizedState;if(ce!==null){var ue=ce.dehydrated;ue!==null&&Pi(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}pn||l.flags&512&&gh(l)}catch(le){jt(l,l.return,le)}}if(l===a){we=null;break}if(u=l.sibling,u!==null){u.return=l.return,we=u;break}we=l.return}}function iy(a){for(;we!==null;){var l=we;if(l===a){we=null;break}var u=l.sibling;if(u!==null){u.return=l.return,we=u;break}we=l.return}}function ly(a){for(;we!==null;){var l=we;try{switch(l.tag){case 0:case 11:case 15:var u=l.return;try{Uc(4,l)}catch($){jt(l,u,$)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var y=l.return;try{g.componentDidMount()}catch($){jt(l,y,$)}}var j=l.return;try{gh(l)}catch($){jt(l,j,$)}break;case 5:var T=l.return;try{gh(l)}catch($){jt(l,T,$)}}}catch($){jt(l,l.return,$)}if(l===a){we=null;break}var L=l.sibling;if(L!==null){L.return=l.return,we=L;break}we=l.return}}var e2=Math.ceil,Vc=D.ReactCurrentDispatcher,yh=D.ReactCurrentOwner,lr=D.ReactCurrentBatchConfig,Ye=0,Kt=null,Pt=null,rn=0,qn=0,Io=Us(0),Bt=0,el=null,Ra=0,Wc=0,bh=0,tl=null,Pn=null,wh=0,Oo=1/0,js=null,Hc=!1,kh=null,Ks=null,qc=!1,Gs=null,Yc=0,nl=0,jh=null,Kc=-1,Gc=0;function xn(){return(Ye&6)!==0?Ct():Kc!==-1?Kc:Kc=Ct()}function Zs(a){return(a.mode&1)===0?1:(Ye&2)!==0&&rn!==0?rn&-rn:ME.transition!==null?(Gc===0&&(Gc=tv()),Gc):(a=nt,a!==0||(a=window.event,a=a===void 0?16:dv(a.type)),a)}function Er(a,l,u,g){if(50<nl)throw nl=0,jh=null,Error(n(185));Ei(a,u,g),((Ye&2)===0||a!==Kt)&&(a===Kt&&((Ye&2)===0&&(Wc|=u),Bt===4&&Js(a,rn)),Rn(a,g),u===1&&Ye===0&&(l.mode&1)===0&&(Oo=Ct()+500,jc&&Ws()))}function Rn(a,l){var u=a.callbackNode;MS(a,l);var g=sc(a,a===Kt?rn:0);if(g===0)u!==null&&Xg(u),a.callbackNode=null,a.callbackPriority=0;else if(l=g&-g,a.callbackPriority!==l){if(u!=null&&Xg(u),l===1)a.tag===0?FE(dy.bind(null,a)):Gv(dy.bind(null,a)),RE(function(){(Ye&6)===0&&Ws()}),u=null;else{switch(nv(g)){case 1:u=tf;break;case 4:u=Qg;break;case 16:u=ec;break;case 536870912:u=ev;break;default:u=ec}u=xy(u,cy.bind(null,a))}a.callbackPriority=l,a.callbackNode=u}}function cy(a,l){if(Kc=-1,Gc=0,(Ye&6)!==0)throw Error(n(327));var u=a.callbackNode;if(Fo()&&a.callbackNode!==u)return null;var g=sc(a,a===Kt?rn:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||l)l=Zc(a,g);else{l=g;var y=Ye;Ye|=2;var j=fy();(Kt!==a||rn!==l)&&(js=null,Oo=Ct()+500,Ia(a,l));do try{r2();break}catch(L){uy(a,L)}while(!0);Bf(),Vc.current=j,Ye=y,Pt!==null?l=0:(Kt=null,rn=0,l=Bt)}if(l!==0){if(l===2&&(y=nf(a),y!==0&&(g=y,l=Nh(a,y))),l===1)throw u=el,Ia(a,0),Js(a,g),Rn(a,Ct()),u;if(l===6)Js(a,g);else{if(y=a.current.alternate,(g&30)===0&&!t2(y)&&(l=Zc(a,g),l===2&&(j=nf(a),j!==0&&(g=j,l=Nh(a,j))),l===1))throw u=el,Ia(a,0),Js(a,g),Rn(a,Ct()),u;switch(a.finishedWork=y,a.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:Oa(a,Pn,js);break;case 3:if(Js(a,g),(g&130023424)===g&&(l=wh+500-Ct(),10<l)){if(sc(a,0)!==0)break;if(y=a.suspendedLanes,(y&g)!==g){xn(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=Df(Oa.bind(null,a,Pn,js),l);break}Oa(a,Pn,js);break;case 4:if(Js(a,g),(g&4194240)===g)break;for(l=a.eventTimes,y=-1;0<g;){var T=31-br(g);j=1<<T,T=l[T],T>y&&(y=T),g&=~j}if(g=y,g=Ct()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*e2(g/1960))-g,10<g){a.timeoutHandle=Df(Oa.bind(null,a,Pn,js),g);break}Oa(a,Pn,js);break;case 5:Oa(a,Pn,js);break;default:throw Error(n(329))}}}return Rn(a,Ct()),a.callbackNode===u?cy.bind(null,a):null}function Nh(a,l){var u=tl;return a.current.memoizedState.isDehydrated&&(Ia(a,l).flags|=256),a=Zc(a,l),a!==2&&(l=Pn,Pn=u,l!==null&&Sh(l)),a}function Sh(a){Pn===null?Pn=a:Pn.push.apply(Pn,a)}function t2(a){for(var l=a;;){if(l.flags&16384){var u=l.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var g=0;g<u.length;g++){var y=u[g],j=y.getSnapshot;y=y.value;try{if(!wr(j(),y))return!1}catch{return!1}}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Js(a,l){for(l&=~bh,l&=~Wc,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var u=31-br(l),g=1<<u;a[u]=-1,l&=~g}}function dy(a){if((Ye&6)!==0)throw Error(n(327));Fo();var l=sc(a,0);if((l&1)===0)return Rn(a,Ct()),null;var u=Zc(a,l);if(a.tag!==0&&u===2){var g=nf(a);g!==0&&(l=g,u=Nh(a,g))}if(u===1)throw u=el,Ia(a,0),Js(a,l),Rn(a,Ct()),u;if(u===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Oa(a,Pn,js),Rn(a,Ct()),null}function Eh(a,l){var u=Ye;Ye|=1;try{return a(l)}finally{Ye=u,Ye===0&&(Oo=Ct()+500,jc&&Ws())}}function Aa(a){Gs!==null&&Gs.tag===0&&(Ye&6)===0&&Fo();var l=Ye;Ye|=1;var u=lr.transition,g=nt;try{if(lr.transition=null,nt=1,a)return a()}finally{nt=g,lr.transition=u,Ye=l,(Ye&6)===0&&Ws()}}function _h(){qn=Io.current,pt(Io)}function Ia(a,l){a.finishedWork=null,a.finishedLanes=0;var u=a.timeoutHandle;if(u!==-1&&(a.timeoutHandle=-1,PE(u)),Pt!==null)for(u=Pt.return;u!==null;){var g=u;switch(Ff(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&wc();break;case 3:Po(),pt(Cn),pt(un),Gf();break;case 5:Yf(g);break;case 4:Po();break;case 13:pt(xt);break;case 19:pt(xt);break;case 10:Uf(g.type._context);break;case 22:case 23:_h()}u=u.return}if(Kt=a,Pt=a=Xs(a.current,null),rn=qn=l,Bt=0,el=null,bh=Wc=Ra=0,Pn=tl=null,Ta!==null){for(l=0;l<Ta.length;l++)if(u=Ta[l],g=u.interleaved,g!==null){u.interleaved=null;var y=g.next,j=u.pending;if(j!==null){var T=j.next;j.next=y,g.next=T}u.pending=g}Ta=null}return a}function uy(a,l){do{var u=Pt;try{if(Bf(),Ac.current=Mc,Ic){for(var g=yt.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}Ic=!1}if(Pa=0,Yt=$t=yt=null,Ki=!1,Gi=0,yh.current=null,u===null||u.return===null){Bt=1,el=l,Pt=null;break}e:{var j=a,T=u.return,L=u,$=l;if(l=rn,L.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var ee=$,ce=L,ue=ce.tag;if((ce.mode&1)===0&&(ue===0||ue===11||ue===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var ve=Fx(T);if(ve!==null){ve.flags&=-257,Mx(ve,T,L,j,l),ve.mode&1&&Ox(j,ee,l),l=ve,$=ee;var ke=l.updateQueue;if(ke===null){var Se=new Set;Se.add($),l.updateQueue=Se}else ke.add($);break e}else{if((l&1)===0){Ox(j,ee,l),Ch();break e}$=Error(n(426))}}else if(mt&&L.mode&1){var Tt=Fx(T);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),Mx(Tt,T,L,j,l),zf(Ro($,L));break e}}j=$=Ro($,L),Bt!==4&&(Bt=2),tl===null?tl=[j]:tl.push(j),j=T;do{switch(j.tag){case 3:j.flags|=65536,l&=-l,j.lanes|=l;var Y=Ax(j,$,l);ox(j,Y);break e;case 1:L=$;var B=j.type,Z=j.stateNode;if((j.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Ks===null||!Ks.has(Z)))){j.flags|=65536,l&=-l,j.lanes|=l;var he=Ix(j,L,l);ox(j,he);break e}}j=j.return}while(j!==null)}py(u)}catch(Ee){l=Ee,Pt===u&&u!==null&&(Pt=u=u.return);continue}break}while(!0)}function fy(){var a=Vc.current;return Vc.current=Mc,a===null?Mc:a}function Ch(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Kt===null||(Ra&268435455)===0&&(Wc&268435455)===0||Js(Kt,rn)}function Zc(a,l){var u=Ye;Ye|=2;var g=fy();(Kt!==a||rn!==l)&&(js=null,Ia(a,l));do try{n2();break}catch(y){uy(a,y)}while(!0);if(Bf(),Ye=u,Vc.current=g,Pt!==null)throw Error(n(261));return Kt=null,rn=0,Bt}function n2(){for(;Pt!==null;)hy(Pt)}function r2(){for(;Pt!==null&&!CS();)hy(Pt)}function hy(a){var l=vy(a.alternate,a,qn);a.memoizedProps=a.pendingProps,l===null?py(a):Pt=l,yh.current=null}function py(a){var l=a;do{var u=l.alternate;if(a=l.return,(l.flags&32768)===0){if(u=GE(u,l,qn),u!==null){Pt=u;return}}else{if(u=ZE(u,l),u!==null){u.flags&=32767,Pt=u;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Bt=6,Pt=null;return}}if(l=l.sibling,l!==null){Pt=l;return}Pt=l=a}while(l!==null);Bt===0&&(Bt=5)}function Oa(a,l,u){var g=nt,y=lr.transition;try{lr.transition=null,nt=1,s2(a,l,u,g)}finally{lr.transition=y,nt=g}return null}function s2(a,l,u,g){do Fo();while(Gs!==null);if((Ye&6)!==0)throw Error(n(327));u=a.finishedWork;var y=a.finishedLanes;if(u===null)return null;if(a.finishedWork=null,a.finishedLanes=0,u===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var j=u.lanes|u.childLanes;if(LS(a,j),a===Kt&&(Pt=Kt=null,rn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||qc||(qc=!0,xy(ec,function(){return Fo(),null})),j=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||j){j=lr.transition,lr.transition=null;var T=nt;nt=1;var L=Ye;Ye|=4,yh.current=null,XE(a,u),sy(u,a),NE(Cf),ic=!!_f,Cf=_f=null,a.current=u,QE(u),TS(),Ye=L,nt=T,lr.transition=j}else a.current=u;if(qc&&(qc=!1,Gs=a,Yc=y),j=a.pendingLanes,j===0&&(Ks=null),RS(u.stateNode),Rn(a,Ct()),l!==null)for(g=a.onRecoverableError,u=0;u<l.length;u++)y=l[u],g(y.value,{componentStack:y.stack,digest:y.digest});if(Hc)throw Hc=!1,a=kh,kh=null,a;return(Yc&1)!==0&&a.tag!==0&&Fo(),j=a.pendingLanes,(j&1)!==0?a===jh?nl++:(nl=0,jh=a):nl=0,Ws(),null}function Fo(){if(Gs!==null){var a=nv(Yc),l=lr.transition,u=nt;try{if(lr.transition=null,nt=16>a?16:a,Gs===null)var g=!1;else{if(a=Gs,Gs=null,Yc=0,(Ye&6)!==0)throw Error(n(331));var y=Ye;for(Ye|=4,we=a.current;we!==null;){var j=we,T=j.child;if((we.flags&16)!==0){var L=j.deletions;if(L!==null){for(var $=0;$<L.length;$++){var ee=L[$];for(we=ee;we!==null;){var ce=we;switch(ce.tag){case 0:case 11:case 15:Qi(8,ce,j)}var ue=ce.child;if(ue!==null)ue.return=ce,we=ue;else for(;we!==null;){ce=we;var le=ce.sibling,ve=ce.return;if(Qx(ce),ce===ee){we=null;break}if(le!==null){le.return=ve,we=le;break}we=ve}}}var ke=j.alternate;if(ke!==null){var Se=ke.child;if(Se!==null){ke.child=null;do{var Tt=Se.sibling;Se.sibling=null,Se=Tt}while(Se!==null)}}we=j}}if((j.subtreeFlags&2064)!==0&&T!==null)T.return=j,we=T;else e:for(;we!==null;){if(j=we,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Qi(9,j,j.return)}var Y=j.sibling;if(Y!==null){Y.return=j.return,we=Y;break e}we=j.return}}var B=a.current;for(we=B;we!==null;){T=we;var Z=T.child;if((T.subtreeFlags&2064)!==0&&Z!==null)Z.return=T,we=Z;else e:for(T=B;we!==null;){if(L=we,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:Uc(9,L)}}catch(Ee){jt(L,L.return,Ee)}if(L===T){we=null;break e}var he=L.sibling;if(he!==null){he.return=L.return,we=he;break e}we=L.return}}if(Ye=y,Ws(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(tc,a)}catch{}g=!0}return g}finally{nt=u,lr.transition=l}}return!1}function my(a,l,u){l=Ro(u,l),l=Ax(a,l,1),a=qs(a,l,1),l=xn(),a!==null&&(Ei(a,1,l),Rn(a,l))}function jt(a,l,u){if(a.tag===3)my(a,a,u);else for(;l!==null;){if(l.tag===3){my(l,a,u);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ks===null||!Ks.has(g))){a=Ro(u,a),a=Ix(l,a,1),l=qs(l,a,1),a=xn(),l!==null&&(Ei(l,1,a),Rn(l,a));break}}l=l.return}}function a2(a,l,u){var g=a.pingCache;g!==null&&g.delete(l),l=xn(),a.pingedLanes|=a.suspendedLanes&u,Kt===a&&(rn&u)===u&&(Bt===4||Bt===3&&(rn&130023424)===rn&&500>Ct()-wh?Ia(a,0):bh|=u),Rn(a,l)}function gy(a,l){l===0&&((a.mode&1)===0?l=1:(l=rc,rc<<=1,(rc&130023424)===0&&(rc=4194304)));var u=xn();a=bs(a,l),a!==null&&(Ei(a,l,u),Rn(a,u))}function o2(a){var l=a.memoizedState,u=0;l!==null&&(u=l.retryLane),gy(a,u)}function i2(a,l){var u=0;switch(a.tag){case 13:var g=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),gy(a,u)}var vy;vy=function(a,l,u){if(a!==null)if(a.memoizedProps!==l.pendingProps||Cn.current)Dn=!0;else{if((a.lanes&u)===0&&(l.flags&128)===0)return Dn=!1,KE(a,l,u);Dn=(a.flags&131072)!==0}else Dn=!1,mt&&(l.flags&1048576)!==0&&Zv(l,Sc,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;$c(a,l),a=l.pendingProps;var y=No(l,un.current);Do(l,u),y=Xf(null,l,g,a,y,u);var j=Qf();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Tn(g)?(j=!0,kc(l)):j=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Hf(l),y.updater=Lc,l.stateNode=y,y._reactInternals=l,ah(l,g,a,u),l=ch(null,l,g,!0,j,u)):(l.tag=0,mt&&j&&Of(l),vn(null,l,y,u),l=l.child),l;case 16:g=l.elementType;e:{switch($c(a,l),a=l.pendingProps,y=g._init,g=y(g._payload),l.type=g,y=l.tag=c2(g),a=jr(g,a),y){case 0:l=lh(null,l,g,a,u);break e;case 1:l=Vx(null,l,g,a,u);break e;case 11:l=Lx(null,l,g,a,u);break e;case 14:l=zx(null,l,g,jr(g.type,a),u);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:jr(g,y),lh(a,l,g,y,u);case 1:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:jr(g,y),Vx(a,l,g,y,u);case 3:e:{if(Wx(l),a===null)throw Error(n(387));g=l.pendingProps,j=l.memoizedState,y=j.element,ax(a,l),Pc(l,g,null,u);var T=l.memoizedState;if(g=T.element,j.isDehydrated)if(j={element:g,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},l.updateQueue.baseState=j,l.memoizedState=j,l.flags&256){y=Ro(Error(n(423)),l),l=Hx(a,l,g,u,y);break e}else if(g!==y){y=Ro(Error(n(424)),l),l=Hx(a,l,g,u,y);break e}else for(Hn=Bs(l.stateNode.containerInfo.firstChild),Wn=l,mt=!0,kr=null,u=rx(l,null,g,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(_o(),g===y){l=ks(a,l,u);break e}vn(a,l,g,u)}l=l.child}return l;case 5:return lx(l),a===null&&Lf(l),g=l.type,y=l.pendingProps,j=a!==null?a.memoizedProps:null,T=y.children,Tf(g,y)?T=null:j!==null&&Tf(g,j)&&(l.flags|=32),Ux(a,l),vn(a,l,T,u),l.child;case 6:return a===null&&Lf(l),null;case 13:return qx(a,l,u);case 4:return qf(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=Co(l,null,g,u):vn(a,l,g,u),l.child;case 11:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:jr(g,y),Lx(a,l,g,y,u);case 7:return vn(a,l,l.pendingProps,u),l.child;case 8:return vn(a,l,l.pendingProps.children,u),l.child;case 12:return vn(a,l,l.pendingProps.children,u),l.child;case 10:e:{if(g=l.type._context,y=l.pendingProps,j=l.memoizedProps,T=y.value,lt(Cc,g._currentValue),g._currentValue=T,j!==null)if(wr(j.value,T)){if(j.children===y.children&&!Cn.current){l=ks(a,l,u);break e}}else for(j=l.child,j!==null&&(j.return=l);j!==null;){var L=j.dependencies;if(L!==null){T=j.child;for(var $=L.firstContext;$!==null;){if($.context===g){if(j.tag===1){$=ws(-1,u&-u),$.tag=2;var ee=j.updateQueue;if(ee!==null){ee=ee.shared;var ce=ee.pending;ce===null?$.next=$:($.next=ce.next,ce.next=$),ee.pending=$}}j.lanes|=u,$=j.alternate,$!==null&&($.lanes|=u),Vf(j.return,u,l),L.lanes|=u;break}$=$.next}}else if(j.tag===10)T=j.type===l.type?null:j.child;else if(j.tag===18){if(T=j.return,T===null)throw Error(n(341));T.lanes|=u,L=T.alternate,L!==null&&(L.lanes|=u),Vf(T,u,l),T=j.sibling}else T=j.child;if(T!==null)T.return=j;else for(T=j;T!==null;){if(T===l){T=null;break}if(j=T.sibling,j!==null){j.return=T.return,T=j;break}T=T.return}j=T}vn(a,l,y.children,u),l=l.child}return l;case 9:return y=l.type,g=l.pendingProps.children,Do(l,u),y=or(y),g=g(y),l.flags|=1,vn(a,l,g,u),l.child;case 14:return g=l.type,y=jr(g,l.pendingProps),y=jr(g.type,y),zx(a,l,g,y,u);case 15:return $x(a,l,l.type,l.pendingProps,u);case 17:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:jr(g,y),$c(a,l),l.tag=1,Tn(g)?(a=!0,kc(l)):a=!1,Do(l,u),Px(l,g,y),ah(l,g,y,u),ch(null,l,g,!0,a,u);case 19:return Kx(a,l,u);case 22:return Bx(a,l,u)}throw Error(n(156,l.tag))};function xy(a,l){return Jg(a,l)}function l2(a,l,u,g){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(a,l,u,g){return new l2(a,l,u,g)}function Th(a){return a=a.prototype,!(!a||!a.isReactComponent)}function c2(a){if(typeof a=="function")return Th(a)?1:0;if(a!=null){if(a=a.$$typeof,a===ne)return 11;if(a===pe)return 14}return 2}function Xs(a,l){var u=a.alternate;return u===null?(u=cr(a.tag,l,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=l,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&14680064,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,l=a.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u}function Jc(a,l,u,g,y,j){var T=2;if(g=a,typeof a=="function")Th(a)&&(T=1);else if(typeof a=="string")T=5;else e:switch(a){case P:return Fa(u.children,y,j,l);case F:T=8,y|=8;break;case W:return a=cr(12,u,l,y|2),a.elementType=W,a.lanes=j,a;case V:return a=cr(13,u,l,y),a.elementType=V,a.lanes=j,a;case re:return a=cr(19,u,l,y),a.elementType=re,a.lanes=j,a;case q:return Xc(u,y,j,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case U:T=10;break e;case G:T=9;break e;case ne:T=11;break e;case pe:T=14;break e;case se:T=16,g=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return l=cr(T,u,l,y),l.elementType=a,l.type=g,l.lanes=j,l}function Fa(a,l,u,g){return a=cr(7,a,g,l),a.lanes=u,a}function Xc(a,l,u,g){return a=cr(22,a,g,l),a.elementType=q,a.lanes=u,a.stateNode={isHidden:!1},a}function Dh(a,l,u){return a=cr(6,a,null,l),a.lanes=u,a}function Ph(a,l,u){return l=cr(4,a.children!==null?a.children:[],a.key,l),l.lanes=u,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function d2(a,l,u,g,y){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rf(0),this.expirationTimes=rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.identifierPrefix=g,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Rh(a,l,u,g,y,j,T,L,$){return a=new d2(a,l,u,L,$),l===1?(l=1,j===!0&&(l|=8)):l=0,j=cr(3,null,null,l),a.current=j,j.stateNode=a,j.memoizedState={element:g,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hf(j),a}function u2(a,l,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:g==null?null:""+g,children:a,containerInfo:l,implementation:u}}function yy(a){if(!a)return Vs;a=a._reactInternals;e:{if(Na(a)!==a||a.tag!==1)throw Error(n(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Tn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(a.tag===1){var u=a.type;if(Tn(u))return Yv(a,u,l)}return l}function by(a,l,u,g,y,j,T,L,$){return a=Rh(u,g,!0,a,y,j,T,L,$),a.context=yy(null),u=a.current,g=xn(),y=Zs(u),j=ws(g,y),j.callback=l??null,qs(u,j,y),a.current.lanes=y,Ei(a,y,g),Rn(a,g),a}function Qc(a,l,u,g){var y=l.current,j=xn(),T=Zs(y);return u=yy(u),l.context===null?l.context=u:l.pendingContext=u,l=ws(j,T),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=qs(y,l,T),a!==null&&(Er(a,y,T,j),Dc(a,y,T)),T}function ed(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function wy(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<l?u:l}}function Ah(a,l){wy(a,l),(a=a.alternate)&&wy(a,l)}function f2(){return null}var ky=typeof reportError=="function"?reportError:function(a){console.error(a)};function Ih(a){this._internalRoot=a}td.prototype.render=Ih.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));Qc(a,l,null,null)},td.prototype.unmount=Ih.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Aa(function(){Qc(null,a,null,null)}),l[gs]=null}};function td(a){this._internalRoot=a}td.prototype.unstable_scheduleHydration=function(a){if(a){var l=av();a={blockedOn:null,target:a,priority:l};for(var u=0;u<Ls.length&&l!==0&&l<Ls[u].priority;u++);Ls.splice(u,0,a),u===0&&lv(a)}};function Oh(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function nd(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function jy(){}function h2(a,l,u,g,y){if(y){if(typeof g=="function"){var j=g;g=function(){var ee=ed(T);j.call(ee)}}var T=by(l,g,a,0,null,!1,!1,"",jy);return a._reactRootContainer=T,a[gs]=T.current,$i(a.nodeType===8?a.parentNode:a),Aa(),T}for(;y=a.lastChild;)a.removeChild(y);if(typeof g=="function"){var L=g;g=function(){var ee=ed($);L.call(ee)}}var $=Rh(a,0,!1,null,null,!1,!1,"",jy);return a._reactRootContainer=$,a[gs]=$.current,$i(a.nodeType===8?a.parentNode:a),Aa(function(){Qc(l,$,u,g)}),$}function rd(a,l,u,g,y){var j=u._reactRootContainer;if(j){var T=j;if(typeof y=="function"){var L=y;y=function(){var $=ed(T);L.call($)}}Qc(l,T,a,y)}else T=h2(u,l,a,y,g);return ed(T)}rv=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var u=Si(l.pendingLanes);u!==0&&(sf(l,u|1),Rn(l,Ct()),(Ye&6)===0&&(Oo=Ct()+500,Ws()))}break;case 13:Aa(function(){var g=bs(a,1);if(g!==null){var y=xn();Er(g,a,1,y)}}),Ah(a,1)}},af=function(a){if(a.tag===13){var l=bs(a,134217728);if(l!==null){var u=xn();Er(l,a,134217728,u)}Ah(a,134217728)}},sv=function(a){if(a.tag===13){var l=Zs(a),u=bs(a,l);if(u!==null){var g=xn();Er(u,a,l,g)}Ah(a,l)}},av=function(){return nt},ov=function(a,l){var u=nt;try{return nt=a,l()}finally{nt=u}},ja=function(a,l,u){switch(l){case"input":if(cn(a,u),l=u.name,u.type==="radio"&&l!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<u.length;l++){var g=u[l];if(g!==a&&g.form===a.form){var y=bc(g);if(!y)throw Error(n(90));Oe(g),cn(g,y)}}}break;case"textarea":wa(a,u);break;case"select":l=u.value,l!=null&&Un(a,!!u.multiple,l,!1)}},Ge=Eh,et=Aa;var p2={usingClientEntryPoint:!1,Events:[Vi,ko,bc,_e,Qe,Eh]},rl={findFiberByHostInstance:Sa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m2={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Gg(a),a===null?null:a.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||f2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{tc=sd.inject(m2),Gr=sd}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p2,An.createPortal=function(a,l){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oh(l))throw Error(n(200));return u2(a,l,null,u)},An.createRoot=function(a,l){if(!Oh(a))throw Error(n(299));var u=!1,g="",y=ky;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=Rh(a,1,!1,null,null,u,!1,g,y),a[gs]=l.current,$i(a.nodeType===8?a.parentNode:a),new Ih(l)},An.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Gg(l),a=a===null?null:a.stateNode,a},An.flushSync=function(a){return Aa(a)},An.hydrate=function(a,l,u){if(!nd(l))throw Error(n(200));return rd(null,a,l,!0,u)},An.hydrateRoot=function(a,l,u){if(!Oh(a))throw Error(n(405));var g=u!=null&&u.hydratedSources||null,y=!1,j="",T=ky;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(j=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),l=by(l,null,a,1,u??null,y,!1,j,T),a[gs]=l.current,$i(a),g)for(a=0;a<g.length;a++)u=g[a],y=u._getVersion,y=y(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,y]:l.mutableSourceEagerHydrationData.push(u,y);return new td(l)},An.render=function(a,l,u){if(!nd(l))throw Error(n(200));return rd(null,a,l,!1,u)},An.unmountComponentAtNode=function(a){if(!nd(a))throw Error(n(40));return a._reactRootContainer?(Aa(function(){rd(null,null,a,!1,function(){a._reactRootContainer=null,a[gs]=null})}),!0):!1},An.unstable_batchedUpdates=Eh,An.unstable_renderSubtreeIntoContainer=function(a,l,u,g){if(!nd(u))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return rd(a,l,u,!1,g)},An.version="18.3.1-next-f1338f8080-20240426",An}var Py;function Hb(){if(Py)return Lh.exports;Py=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Lh.exports=N2(),Lh.exports}var Ry;function S2(){if(Ry)return ad;Ry=1;var e=Hb();return ad.createRoot=e.createRoot,ad.hydrateRoot=e.hydrateRoot,ad}var E2=S2();const _2="modulepreload",C2=function(e){return"/"+e},Ay={},_s=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let c=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");o=c(n.map(f=>{if(f=C2(f),f in Ay)return;Ay[f]=!0;const m=f.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":_2,m||(x.as="script"),x.crossOrigin="",x.href=f,h&&x.setAttribute("nonce",h),document.head.appendChild(x),m)return new Promise((b,w)=>{x.addEventListener("load",b),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&i(d.reason);return t().catch(i)})};var v=uu();const te=ym(v),bm=v2({__proto__:null,default:te},[v]),T2={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJwZWhwa2puYXlmaXJyaW93dmZiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzODExMDIsImV4cCI6MjA3NTk1NzEwMn0.kt22AC1YkGSD1ETb1LHldHBSRYJRvqPPfHCgphV-bHo",VITE_SUPABASE_PROJECT_ID:"bpehpkjnayfirriowvfb",VITE_SUPABASE_URL:"https://bpehpkjnayfirriowvfb.supabase.co"},D2="supabase.co";let od=null;const P2=()=>typeof globalThis<"u"?globalThis.__SUPABASE_ENV_OVERRIDE__:void 0,Iy=e=>{const n=P2()?.[e]??T2?.[e];return typeof n=="string"?n.trim():""},R2=e=>`Missing required Supabase environment variable${e.length>1?"s":""}: ${e.join(", ")}. Update your .env file or hosting configuration with the values documented in README.md.`;function wm(){if(od)return od;const e=Iy("VITE_SUPABASE_PROJECT_ID"),t=Iy("VITE_SUPABASE_ANON_KEY"),n=[];if(e||n.push("VITE_SUPABASE_PROJECT_ID"),t||n.push("VITE_SUPABASE_ANON_KEY"),n.length>0)throw new Error(R2(n));const s=`https://${e}.${D2}`;return od={projectId:e,publicAnonKey:t,supabaseUrl:s},od}const km=()=>wm().publicAnonKey,jm=()=>wm().supabaseUrl,A2=Object.freeze(Object.defineProperty({__proto__:null,getPublicAnonKey:km,getSupabaseConfig:wm,getSupabaseUrl:jm},Symbol.toStringTag,{value:"Module"})),I2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>_s(async()=>{const{default:s}=await Promise.resolve().then(()=>fi);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class Nm extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class Oy extends Nm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Fy extends Nm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class My extends Nm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Cp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Cp||(Cp={}));var O2=function(e,t,n,s){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function d(m){try{f(s.next(m))}catch(p){c(p)}}function h(m){try{f(s.throw(m))}catch(p){c(p)}}function f(m){m.done?i(m.value):o(m.value).then(d,h)}f((s=s.apply(e,t||[])).next())})};class F2{constructor(t,{headers:n={},customFetch:s,region:o=Cp.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=I2(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return O2(this,arguments,void 0,function*(n,s={}){var o;try{const{headers:i,method:c,body:d,signal:h}=s;let f={},{region:m}=s;m||(m=this.region);const p=new URL(`${this.url}/${n}`);m&&m!=="any"&&(f["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let x;d&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",x=d):typeof d=="string"?(f["Content-Type"]="text/plain",x=d):typeof FormData<"u"&&d instanceof FormData?x=d:(f["Content-Type"]="application/json",x=JSON.stringify(d)));const b=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),i),body:x,signal:h}).catch(E=>{throw E.name==="AbortError"?E:new Oy(E)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new Fy(b);if(!b.ok)throw new My(b);let k=((o=b.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),N;return k==="application/json"?N=yield b.json():k==="application/octet-stream"?N=yield b.blob():k==="text/event-stream"?N=b:k==="multipart/form-data"?N=yield b.formData():N=yield b.text(),{data:N,error:null,response:b}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Oy(i)}:{data:null,error:i,response:i instanceof My||i instanceof Fy?i.context:void 0}}})}}var Zt={},Mo={},Lo={},zo={},$o={},Bo={},M2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},li=M2();const L2=li.fetch,qb=li.fetch.bind(li),Yb=li.Headers,z2=li.Request,$2=li.Response,fi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Yb,Request:z2,Response:$2,default:qb,fetch:L2},Symbol.toStringTag,{value:"Module"})),B2=x2(fi);var id={},Ly;function Kb(){if(Ly)return id;Ly=1,Object.defineProperty(id,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return id.default=e,id}var zy;function Gb(){if(zy)return Bo;zy=1;var e=Bo&&Bo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Bo,"__esModule",{value:!0});const t=e(B2),n=e(Kb());class s{constructor(i){var c,d;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(c=i.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=i.signal,this.isMaybeSingle=(d=i.isMaybeSingle)!==null&&d!==void 0?d:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,c){return this.headers=new Headers(this.headers),this.headers.set(i,c),this}then(i,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var m,p,x,b;let w=null,k=null,N=null,E=f.status,S=f.statusText;if(f.ok){if(this.method!=="HEAD"){const A=await f.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?k=A:k=JSON.parse(A))}const D=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),_=(x=f.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");D&&_&&_.length>1&&(N=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(w={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,N=null,E=406,S="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const D=await f.text();try{w=JSON.parse(D),Array.isArray(w)&&f.status===404&&(k=[],w=null,E=200,S="OK")}catch{f.status===404&&D===""?(E=204,S="No Content"):w={message:D}}if(w&&this.isMaybeSingle&&(!((b=w?.details)===null||b===void 0)&&b.includes("0 rows"))&&(w=null,E=200,S="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:k,count:N,status:E,statusText:S}});return this.shouldThrowOnError||(h=h.catch(f=>{var m,p,x;return{error:{message:`${(m=f?.name)!==null&&m!==void 0?m:"FetchError"}: ${f?.message}`,details:`${(p=f?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(x=f?.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),h.then(i,c)}returns(){return this}overrideTypes(){return this}}return Bo.default=s,Bo}var $y;function Zb(){if($y)return $o;$y=1;var e=$o&&$o.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty($o,"__esModule",{value:!0});const t=e(Gb());class n extends t.default{select(o){let i=!1;const c=(o??"*").split("").map(d=>/\s/.test(d)&&!i?"":(d==='"'&&(i=!i),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:i=!0,nullsFirst:c,foreignTable:d,referencedTable:h=d}={}){const f=h?`${h}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${o}.${i?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:i,referencedTable:c=i}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,i,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"offset":`${d}.offset`,f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(f,`${i-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:i=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:f="text"}={}){var m;const p=[o?"analyze":null,i?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),x=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${x}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return $o.default=n,$o}var By;function Sm(){if(By)return zo;By=1;var e=zo&&zo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(zo,"__esModule",{value:!0});const t=e(Zb());class n extends t.default{eq(o,i){return this.url.searchParams.append(o,`eq.${i}`),this}neq(o,i){return this.url.searchParams.append(o,`neq.${i}`),this}gt(o,i){return this.url.searchParams.append(o,`gt.${i}`),this}gte(o,i){return this.url.searchParams.append(o,`gte.${i}`),this}lt(o,i){return this.url.searchParams.append(o,`lt.${i}`),this}lte(o,i){return this.url.searchParams.append(o,`lte.${i}`),this}like(o,i){return this.url.searchParams.append(o,`like.${i}`),this}likeAllOf(o,i){return this.url.searchParams.append(o,`like(all).{${i.join(",")}}`),this}likeAnyOf(o,i){return this.url.searchParams.append(o,`like(any).{${i.join(",")}}`),this}ilike(o,i){return this.url.searchParams.append(o,`ilike.${i}`),this}ilikeAllOf(o,i){return this.url.searchParams.append(o,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(o,i){return this.url.searchParams.append(o,`ilike(any).{${i.join(",")}}`),this}is(o,i){return this.url.searchParams.append(o,`is.${i}`),this}in(o,i){const c=Array.from(new Set(i)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cs.{${i.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(i)}`),this}containedBy(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cd.{${i.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(i)}`),this}rangeGt(o,i){return this.url.searchParams.append(o,`sr.${i}`),this}rangeGte(o,i){return this.url.searchParams.append(o,`nxl.${i}`),this}rangeLt(o,i){return this.url.searchParams.append(o,`sl.${i}`),this}rangeLte(o,i){return this.url.searchParams.append(o,`nxr.${i}`),this}rangeAdjacent(o,i){return this.url.searchParams.append(o,`adj.${i}`),this}overlaps(o,i){return typeof i=="string"?this.url.searchParams.append(o,`ov.${i}`):this.url.searchParams.append(o,`ov.{${i.join(",")}}`),this}textSearch(o,i,{config:c,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const f=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${h}fts${f}.${i}`),this}match(o){return Object.entries(o).forEach(([i,c])=>{this.url.searchParams.append(i,`eq.${c}`)}),this}not(o,i,c){return this.url.searchParams.append(o,`not.${i}.${c}`),this}or(o,{foreignTable:i,referencedTable:c=i}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,i,c){return this.url.searchParams.append(o,`${i}.${c}`),this}}return zo.default=n,zo}var Uy;function Jb(){if(Uy)return Lo;Uy=1;var e=Lo&&Lo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Lo,"__esModule",{value:!0});const t=e(Sm());class n{constructor(o,{headers:i={},schema:c,fetch:d}){this.url=o,this.headers=new Headers(i),this.schema=c,this.fetch=d}select(o,i){const{head:c=!1,count:d}=i??{},h=c?"HEAD":"GET";let f=!1;const m=(o??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",m),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:i,defaultToNull:c=!0}={}){var d;const h="POST";if(i&&this.headers.append("Prefer",`count=${i}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const f=o.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:i,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(p.length>0){const x=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(o,{count:i}={}){var c;const d="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var i;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Lo.default=n,Lo}var Vy;function U2(){if(Vy)return Mo;Vy=1;var e=Mo&&Mo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Mo,"__esModule",{value:!0});const t=e(Jb()),n=e(Sm());class s{constructor(i,{headers:c={},schema:d,fetch:h}={}){this.url=i,this.headers=new Headers(c),this.schemaName=d,this.fetch=h}from(i){const c=new URL(`${this.url}/${i}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new s(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,c={},{head:d=!1,get:h=!1,count:f}={}){var m;let p;const x=new URL(`${this.url}/rpc/${i}`);let b;d||h?(p=d?"HEAD":"GET",Object.entries(c).filter(([k,N])=>N!==void 0).map(([k,N])=>[k,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([k,N])=>{x.searchParams.append(k,N)})):(p="POST",b=c);const w=new Headers(this.headers);return f&&w.set("Prefer",`count=${f}`),new n.default({method:p,url:x,headers:w,schema:this.schemaName,body:b,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return Mo.default=s,Mo}var Wy;function V2(){if(Wy)return Zt;Wy=1;var e=Zt&&Zt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.PostgrestError=Zt.PostgrestBuilder=Zt.PostgrestTransformBuilder=Zt.PostgrestFilterBuilder=Zt.PostgrestQueryBuilder=Zt.PostgrestClient=void 0;const t=e(U2());Zt.PostgrestClient=t.default;const n=e(Jb());Zt.PostgrestQueryBuilder=n.default;const s=e(Sm());Zt.PostgrestFilterBuilder=s.default;const o=e(Zb());Zt.PostgrestTransformBuilder=o.default;const i=e(Gb());Zt.PostgrestBuilder=i.default;const c=e(Kb());return Zt.PostgrestError=c.default,Zt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:i.default,PostgrestError:c.default},Zt}var W2=V2();const H2=ym(W2),{PostgrestClient:q2,PostgrestQueryBuilder:LU,PostgrestFilterBuilder:zU,PostgrestTransformBuilder:$U,PostgrestBuilder:BU,PostgrestError:UU}=H2;class Y2{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const s=this.getWebSocketConstructor();return new s(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const K2="2.75.1",G2=`realtime-js/${K2}`,Z2="1.0.0",Tp=1e4,J2=1e3,X2=100;var fl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fl||(fl={}));var Vt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Vt||(Vt={}));var Tr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Tr||(Tr={}));var Dp;(function(e){e.websocket="websocket"})(Dp||(Dp={}));var Va;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Va||(Va={}));class Q2{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const o=n.getUint8(1),i=n.getUint8(2);let c=this.HEADER_LENGTH+2;const d=s.decode(t.slice(c,c+o));c=c+o;const h=s.decode(t.slice(c,c+i));c=c+i;const f=JSON.parse(s.decode(t.slice(c,t.byteLength)));return{ref:null,topic:d,event:h,payload:f}}}class Xb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ct;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ct||(ct={}));const Hy=(e,t,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((i,c)=>(i[c]=e_(c,e,t,o),i),{}):{}},e_=(e,t,n,s)=>{const o=t.find(d=>d.name===e),i=o?.type,c=n[e];return i&&!s.includes(i)?Qb(i,c):Pp(c)},Qb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return s_(t,n)}switch(e){case ct.bool:return t_(t);case ct.float4:case ct.float8:case ct.int2:case ct.int4:case ct.int8:case ct.numeric:case ct.oid:return n_(t);case ct.json:case ct.jsonb:return r_(t);case ct.timestamp:return a_(t);case ct.abstime:case ct.date:case ct.daterange:case ct.int4range:case ct.int8range:case ct.money:case ct.reltime:case ct.text:case ct.time:case ct.timestamptz:case ct.timetz:case ct.tsrange:case ct.tstzrange:return Pp(t);default:return Pp(t)}},Pp=e=>e,t_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},n_=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},r_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},s_=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let i;const c=e.slice(1,n);try{i=JSON.parse("["+c+"]")}catch{i=c?c.split(","):[]}return i.map(d=>Qb(t,d))}return e},a_=e=>typeof e=="string"?e.replace(" ","T"):e,ew=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Bh{constructor(t,n,s={},o=Tp){this.channel=t,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qy||(qy={}));class hl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:i,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hl.syncState(this.state,o,i,c),this.pendingDiffs.forEach(h=>{this.state=hl.syncDiff(this.state,h,i,c)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:i,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=hl.syncDiff(this.state,o,i,c),d())}),this.onJoin((o,i,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:c})}),this.onLeave((o,i,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,o){const i=this.cloneDeep(t),c=this.transformState(n),d={},h={};return this.map(i,(f,m)=>{c[f]||(h[f]=m)}),this.map(c,(f,m)=>{const p=i[f];if(p){const x=m.map(N=>N.presence_ref),b=p.map(N=>N.presence_ref),w=m.filter(N=>b.indexOf(N.presence_ref)<0),k=p.filter(N=>x.indexOf(N.presence_ref)<0);w.length>0&&(d[f]=w),k.length>0&&(h[f]=k)}else d[f]=m}),this.syncDiff(i,{joins:d,leaves:h},s,o)}static syncDiff(t,n,s,o){const{joins:i,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(i,(d,h)=>{var f;const m=(f=t[d])!==null&&f!==void 0?f:[];if(t[d]=this.cloneDeep(h),m.length>0){const p=t[d].map(b=>b.presence_ref),x=m.filter(b=>p.indexOf(b.presence_ref)<0);t[d].unshift(...x)}s(d,m,h)}),this.map(c,(d,h)=>{let f=t[d];if(!f)return;const m=h.map(p=>p.presence_ref);f=f.filter(p=>m.indexOf(p.presence_ref)<0),t[d]=f,o(d,f,h),f.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const o=t[s];return"metas"in o?n[s]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Yy||(Yy={}));var pl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(pl||(pl={}));var Es;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Es||(Es={}));class Em{constructor(t,n={config:{}},s){var o,i;if(this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Bh(this,Tr.join,this.params,this.timeout),this.rejoinTimer=new Xb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tr.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new hl(this),this.broadcastEndpointURL=ew(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var s,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Vt.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,f=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(b=>b.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[pl.PRESENCE]&&this.bindings[pl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},x={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:m}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>t?.(Es.CHANNEL_ERROR,b)),this._onClose(()=>t?.(Es.CLOSED)),this.updateJoinPayload(Object.assign({config:x},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket.setAuth(),b===void 0){t?.(Es.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,N=(w=k?.length)!==null&&w!==void 0?w:0,E=[];for(let S=0;S<N;S++){const C=k[S],{filter:{event:D,schema:_,table:A,filter:P}}=C,F=b&&b[S];if(F&&F.event===D&&F.schema===_&&F.table===A&&F.filter===P)E.push(Object.assign(Object.assign({},C),{id:F.id}));else{this.unsubscribe(),this.state=Vt.errored,t?.(Es.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(Es.SUBSCRIBED);return}}).receive("error",b=>{this.state=Vt.errored,t?.(Es.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t?.(Es.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===Vt.joined&&t===pl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,s)}async send(t,n={}){var s,o;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:c}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var c,d,h;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new Bh(this,Tr.leave,{},t),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vt.closed,this.bindings={}}async _fetchWithTimeout(t,n,s){const o=new AbortController,i=setTimeout(()=>o.abort(),s),c=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),c}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Bh(this,t,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>X2){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var o,i;const c=t.toLocaleLowerCase(),{close:d,error:h,leave:f,join:m}=Tr;if(s&&[d,h,f,m].indexOf(c)>=0&&s!==this._joinRef())return;let x=this._onMessage(c,n,s);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var w,k,N;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((N=(k=b.filter)===null||k===void 0?void 0:k.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===c}).map(b=>b.callback(x,s)):(i=this.bindings[c])===null||i===void 0||i.filter(b=>{var w,k,N,E,S,C;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const D=b.id,_=(w=b.filter)===null||w===void 0?void 0:w.event;return D&&((k=n.ids)===null||k===void 0?void 0:k.includes(D))&&(_==="*"||_?.toLocaleLowerCase()===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const D=(S=(E=b?.filter)===null||E===void 0?void 0:E.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return D==="*"||D===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof x=="object"&&"ids"in x){const w=x.data,{schema:k,table:N,commit_timestamp:E,type:S,errors:C}=w;x=Object.assign(Object.assign({},{schema:k,table:N,commit_timestamp:E,eventType:S,new:{},old:{},errors:C}),this._getPayloadRecords(w))}b.callback(x,s)})}_isClosed(){return this.state===Vt.closed}_isJoined(){return this.state===Vt.joined}_isJoining(){return this.state===Vt.joining}_isLeaving(){return this.state===Vt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Em.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Tr.close,{},t)}_onError(t){this._on(Tr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Hy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Hy(t.columns,t.old_record)),n}}const Uh=()=>{},ld={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},o_=[1e3,2e3,5e3,1e4],i_=1e4,l_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class c_{constructor(t,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tp,this.transport=null,this.heartbeatIntervalMs=ld.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uh,this.ref=0,this.reconnectTimer=null,this.logger=Uh,this.conn=null,this.sendBuffer=[],this.serializer=new Q2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...c)=>_s(async()=>{const{default:d}=await Promise.resolve().then(()=>fi);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...c)=>i(...c)},!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Dp.websocket}`,this.httpEndpoint=ew(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Y2.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Z2}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case fl.connecting:return Va.Connecting;case fl.open:return Va.Open;case fl.closing:return Va.Closing;default:return Va.Closed}}isConnected(){return this.connectionState()===Va.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const s=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===s);if(o)return o;{const i=new Em(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:s,payload:o,ref:i}=t,c=()=>{this.encode(t,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${s} (${i})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(J2,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ld.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:i,ref:c}=n,d=c?`(${c})`:"",h=i.status||"";this.log("receive",`${h} ${s} ${o} ${d}`.trim(),i),this.channels.filter(f=>f._isMember(s)).forEach(f=>f._trigger(o,i,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Tr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${s}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([l_],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:G2};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Tr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Xb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ld.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,s,o,i,c,d,h,f,m;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=t?.timeout)!==null&&s!==void 0?s:Tp,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:ld.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:Uh,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(p=>o_[p-1]||i_),this.encode=(f=t?.encode)!==null&&f!==void 0?f:((p,x)=>x(JSON.stringify(p))),this.decode=(m=t?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class _m extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function At(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class d_ extends _m{constructor(t,n,s){super(t),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Rp extends _m{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var u_=function(e,t,n,s){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function d(m){try{f(s.next(m))}catch(p){c(p)}}function h(m){try{f(s.throw(m))}catch(p){c(p)}}function f(m){m.done?i(m.value):o(m.value).then(d,h)}f((s=s.apply(e,t||[])).next())})};const tw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>_s(async()=>{const{default:s}=await Promise.resolve().then(()=>fi);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},f_=()=>u_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _s(()=>Promise.resolve().then(()=>fi),void 0)).Response:Response}),Ap=e=>{if(Array.isArray(e))return e.map(n=>Ap(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=Ap(s)}),t},h_=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ro=function(e,t,n,s){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function d(m){try{f(s.next(m))}catch(p){c(p)}}function h(m){try{f(s.throw(m))}catch(p){c(p)}}function f(m){m.done?i(m.value):o(m.value).then(d,h)}f((s=s.apply(e,t||[])).next())})};const Vh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),p_=(e,t,n)=>ro(void 0,void 0,void 0,function*(){const s=yield f_();e instanceof s&&!n?.noResolveJson?e.json().then(o=>{const i=e.status||500,c=o?.statusCode||i+"";t(new d_(Vh(o),i,c))}).catch(o=>{t(new Rp(Vh(o),o))}):t(new Rp(Vh(e),e))}),m_=(e,t,n,s)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"||!s?o:(h_(s)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(s)):o.body=s,t?.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),n))};function Fl(e,t,n,s,o,i){return ro(this,void 0,void 0,function*(){return new Promise((c,d)=>{e(n,m_(t,s,o,i)).then(h=>{if(!h.ok)throw h;return s?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>p_(h,d,s))})})}function Ad(e,t,n,s){return ro(this,void 0,void 0,function*(){return Fl(e,"GET",t,n,s)})}function ts(e,t,n,s,o){return ro(this,void 0,void 0,function*(){return Fl(e,"POST",t,s,o,n)})}function Ip(e,t,n,s,o){return ro(this,void 0,void 0,function*(){return Fl(e,"PUT",t,s,o,n)})}function g_(e,t,n,s){return ro(this,void 0,void 0,function*(){return Fl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function nw(e,t,n,s,o){return ro(this,void 0,void 0,function*(){return Fl(e,"DELETE",t,s,o,n)})}var v_=function(e,t,n,s){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function d(m){try{f(s.next(m))}catch(p){c(p)}}function h(m){try{f(s.throw(m))}catch(p){c(p)}}function f(m){m.done?i(m.value):o(m.value).then(d,h)}f((s=s.apply(e,t||[])).next())})};class x_{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return v_(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(At(t))return{data:null,error:t};throw t}})}}var y_=function(e,t,n,s){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function d(m){try{f(s.next(m))}catch(p){c(p)}}function h(m){try{f(s.throw(m))}catch(p){c(p)}}function f(m){m.done?i(m.value):o(m.value).then(d,h)}f((s=s.apply(e,t||[])).next())})},rw;class b_{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[rw]="BlobDownloadBuilder",this.promise=null}asStream(){return new x_(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return y_(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(At(t))return{data:null,error:t};throw t}})}}rw=Symbol.toStringTag;var In=function(e,t,n,s){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function d(m){try{f(s.next(m))}catch(p){c(p)}}function h(m){try{f(s.throw(m))}catch(p){c(p)}}function f(m){m.done?i(m.value):o(m.value).then(d,h)}f((s=s.apply(e,t||[])).next())})};const w_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ky={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class k_{constructor(t,n={},s,o){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=s,this.fetch=tw(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,s,o){return In(this,void 0,void 0,function*(){try{let i;const c=Object.assign(Object.assign({},Ky),o);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",c.cacheControl),h&&i.append("metadata",this.encodeMetadata(h)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",c.cacheControl),h&&i.append("metadata",this.encodeMetadata(h))):(i=s,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const f=this._removeEmptyFolders(n),m=this._getFinalPath(f),p=yield(t=="PUT"?Ip:ts)(this.fetch,`${this.url}/object/${m}`,i,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}upload(t,n,s){return In(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,o){return In(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),c=this._getFinalPath(i),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",n);try{let h;const f=Object.assign({upsert:Ky.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.append("cacheControl",f.cacheControl)):(h=s,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const p=yield Ip(this.fetch,d.toString(),h,{headers:m});return{data:{path:i,fullPath:p.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(At(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,n){return In(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");const i=yield ts(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),c=new URL(this.url+i.url),d=c.searchParams.get("token");if(!d)throw new _m("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}})}update(t,n,s){return In(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return In(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(At(o))return{data:null,error:o};throw o}})}copy(t,n,s){return In(this,void 0,void 0,function*(){try{return{data:{path:(yield ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(At(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,s){return In(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield ts(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${c}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(At(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,s){return In(this,void 0,void 0,function*(){try{const o=yield ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(At(o))return{data:null,error:o};throw o}})}download(t,n){const o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),c=i?`?${i}`:"",d=this._getFinalPath(t),h=()=>Ad(this.fetch,`${this.url}/${o}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new b_(h,this.shouldThrowOnError)}info(t){return In(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield Ad(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ap(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}})}exists(t){return In(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield g_(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(At(s)&&s instanceof Rp){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);const d=typeof n?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(n?.transform||{});h!==""&&o.push(h);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${f}`)}}}remove(t){return In(this,void 0,void 0,function*(){try{return{data:yield nw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}list(t,n,s){return In(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},w_),n),{prefix:t||""});return{data:yield ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(At(o))return{data:null,error:o};throw o}})}listV2(t,n){return In(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield ts(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const j_="2.75.1",N_={"X-Client-Info":`storage-js/${j_}`};var Uo=function(e,t,n,s){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function d(m){try{f(s.next(m))}catch(p){c(p)}}function h(m){try{f(s.throw(m))}catch(p){c(p)}}function f(m){m.done?i(m.value):o(m.value).then(d,h)}f((s=s.apply(e,t||[])).next())})};class S_{constructor(t,n={},s,o){this.shouldThrowOnError=!1;const i=new URL(t);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},N_),n),this.fetch=tw(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Uo(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(At(t))return{data:null,error:t};throw t}})}getBucket(t){return Uo(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}createBucket(t){return Uo(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield ts(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(At(o))return{data:null,error:o};throw o}})}updateBucket(t,n){return Uo(this,void 0,void 0,function*(){try{return{data:yield Ip(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Uo(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Uo(this,void 0,void 0,function*(){try{return{data:yield nw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}}class E_ extends S_{constructor(t,n={},s,o){super(t,n,s,o)}from(t){return new k_(this.url,this.headers,t,this.fetch)}}const __="2.75.1";let cl="";typeof Deno<"u"?cl="deno":typeof document<"u"?cl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cl="react-native":cl="node";const C_={"X-Client-Info":`supabase-js-${cl}/${__}`},T_={headers:C_},D_={schema:"public"},P_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},R_={};var A_=function(e,t,n,s){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function d(m){try{f(s.next(m))}catch(p){c(p)}}function h(m){try{f(s.throw(m))}catch(p){c(p)}}function f(m){m.done?i(m.value):o(m.value).then(d,h)}f((s=s.apply(e,t||[])).next())})};const I_=e=>{let t;return e?t=e:typeof fetch>"u"?t=qb:t=fetch,(...n)=>t(...n)},O_=()=>typeof Headers>"u"?Yb:Headers,F_=(e,t,n)=>{const s=I_(n),o=O_();return(i,c)=>A_(void 0,void 0,void 0,function*(){var d;const h=(d=yield t())!==null&&d!==void 0?d:e;let f=new o(c?.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),s(i,Object.assign(Object.assign({},c),{headers:f}))})};var M_=function(e,t,n,s){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function d(m){try{f(s.next(m))}catch(p){c(p)}}function h(m){try{f(s.throw(m))}catch(p){c(p)}}function f(m){m.done?i(m.value):o(m.value).then(d,h)}f((s=s.apply(e,t||[])).next())})};function L_(e){return e.endsWith("/")?e:e+"/"}function z_(e,t){var n,s;const{db:o,auth:i,realtime:c,global:d}=e,{db:h,auth:f,realtime:m,global:p}=t,x={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},f),i),realtime:Object.assign(Object.assign({},m),c),storage:{},global:Object.assign(Object.assign(Object.assign({},p),d),{headers:Object.assign(Object.assign({},(n=p?.headers)!==null&&n!==void 0?n:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>M_(this,void 0,void 0,function*(){return""})};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function $_(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(L_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const sw="2.75.1",Qo=30*1e3,Op=3,Wh=Op*Qo,B_="http://localhost:9999",U_="supabase.auth.token",V_={"X-Client-Info":`gotrue-js/${sw}`},Fp="X-Supabase-Api-Version",aw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},W_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H_=600*1e3;class xl extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class q_ extends xl{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Y_(e){return Pe(e)&&e.name==="AuthApiError"}class Wa extends xl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class va extends xl{constructor(t,n,s,o){super(t,s,o),this.name=n,this.status=s}}class ra extends va{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function K_(e){return Pe(e)&&e.name==="AuthSessionMissingError"}class Vo extends va{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cd extends va{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class dd extends va{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function G_(e){return Pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Gy extends va{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mp extends va{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Hh(e){return Pe(e)&&e.name==="AuthRetryableFetchError"}class Zy extends va{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Lp extends va{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Id="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jy=` 	
\r=`.split(""),Z_=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Jy.length;t+=1)e[Jy[t].charCodeAt(0)]=-2;for(let t=0;t<Id.length;t+=1)e[Id[t].charCodeAt(0)]=t;return e})();function Xy(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Id[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Id[s]),t.queuedBits-=6}}function ow(e,t,n){const s=Z_[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Qy(e){const t=[],n=c=>{t.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=c=>{Q_(c,s,n)};for(let c=0;c<e.length;c+=1)ow(e.charCodeAt(c),o,i);return t.join("")}function J_(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function X_(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}J_(s,t)}}function Q_(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ni(e){const t=[],n={queue:0,queuedBits:0},s=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)ow(e.charCodeAt(o),n,s);return new Uint8Array(t)}function eC(e){const t=[];return X_(e,n=>t.push(n)),new Uint8Array(t)}function Ha(e){const t=[],n={queue:0,queuedBits:0},s=o=>{t.push(o)};return e.forEach(o=>Xy(o,n,s)),Xy(null,n,s),t.join("")}function tC(e){return Math.round(Date.now()/1e3)+e}function nC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Yn=()=>typeof window<"u"&&typeof document<"u",Ma={tested:!1,writable:!1},iw=()=>{if(!Yn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ma.tested)return Ma.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ma.tested=!0,Ma.writable=!0}catch{Ma.tested=!0,Ma.writable=!1}return Ma.writable};function rC(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((s,o)=>{t[o]=s}),t}const lw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>_s(async()=>{const{default:s}=await Promise.resolve().then(()=>fi);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},sC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ei=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},La=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ea=async(e,t)=>{await e.removeItem(t)};class fu{constructor(){this.promise=new fu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}fu.promiseConstructor=Promise;function qh(e){const t=e.split(".");if(t.length!==3)throw new Lp("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!W_.test(t[s]))throw new Lp("JWT not in base64url format");return{header:JSON.parse(Qy(t[0])),payload:JSON.parse(Qy(t[1])),signature:ni(t[2]),raw:{header:t[0],payload:t[1]}}}async function aC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function oC(e,t){return new Promise((s,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{const c=await e(i);if(!t(i,null,c)){s(c);return}}catch(c){if(!t(i,c)){o(c);return}}})()})}function iC(e){return("0"+e.toString(16)).substr(-2)}function lC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(t),Array.from(t,iC).join("")}async function cC(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function dC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await cC(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wo(e,t,n=!1){const s=lC();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await ei(e,`${t}-code-verifier`,o);const i=await dC(s);return[i,s===i?"plain":"s256"]}const uC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fC(e){const t=e.headers.get(Fp);if(!t||!t.match(uC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function hC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function pC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ho(e){if(!mC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yh(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function e0(e){return JSON.parse(JSON.stringify(e))}var gC=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n};const Ba=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vC=[502,503,504];async function t0(e){var t;if(!sC(e))throw new Mp(Ba(e),0);if(vC.includes(e.status))throw new Mp(Ba(e),e.status);let n;try{n=await e.json()}catch(i){throw new Wa(Ba(i),i)}let s;const o=fC(e);if(o&&o.getTime()>=aw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Zy(Ba(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new ra}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,c)=>i&&typeof c=="string",!0))throw new Zy(Ba(n),e.status,n.weak_password.reasons);throw new q_(Ba(n),e.status||500,s)}const xC=(e,t,n,s)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function Le(e,t,n,s){var o;const i=Object.assign({},s?.headers);i[Fp]||(i[Fp]=aw["2024-01-01"].name),s?.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const c=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await yC(e,t,n+d,{headers:i,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function yC(e,t,n,s,o,i){const c=xC(t,s,o,i);let d;try{d=await e(n,Object.assign({},c))}catch(h){throw console.error(h),new Mp(Ba(h),0)}if(d.ok||await t0(d),s?.noResolveJson)return d;try{return await d.json()}catch(h){await t0(h)}}function _r(e){var t;let n=null;kC(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=tC(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function n0(e){const t=_r(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function oa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function bC(e){return{data:e,error:null}}function wC(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:o,verification_type:i}=e,c=gC(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:s,redirect_to:o,verification_type:i},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function r0(e){return e}function kC(e){return e.access_token&&e.refresh_token&&e.expires_in}const Kh=["global","local","others"];var jC=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n};class NC{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=lw(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Kh[0]){if(Kh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kh.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:oa})}catch(s){if(Pe(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=jC(t,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:wC,redirectTo:n?.redirectTo})}catch(n){if(Pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:oa})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,o,i,c,d,h;try{const f={nextPage:null,lastPage:0,total:0},m=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:r0});if(m.error)throw m.error;const p=await m.json(),x=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(h=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(w=>{const k=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(w.split(";")[1].split("=")[1]);f[`${N}Page`]=k}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Pe(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Ho(t);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:oa})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ho(t);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:oa})}catch(s){if(Pe(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Ho(t);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:oa})}catch(s){if(Pe(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ho(t.userId);try{const{data:n,error:s}=await Le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ho(t.userId),Ho(t.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,s,o,i,c,d,h;try{const f={nextPage:null,lastPage:0,total:0},m=await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:r0});if(m.error)throw m.error;const p=await m.json(),x=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(h=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(w=>{const k=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(w.split(";")[1].split("=")[1]);f[`${N}Page`]=k}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Pe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}}function s0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const qo={debug:!!(globalThis&&iw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class SC extends cw{}async function EC(e,t,n){qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),qo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new SC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function _C(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function dw(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function CC(e){return parseInt(e,16)}function TC(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function DC(e){var t;const{chainId:n,domain:s,expirationTime:o,issuedAt:i=new Date,nonce:c,notBefore:d,requestId:h,resources:f,scheme:m,uri:p,version:x}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=dw(e.address),w=m?`${m}://${s}`:s,k=e.statement?`${e.statement}
`:"",N=`${w} wants you to sign in with your Ethereum account:
${b}

${k}`;let E=`URI: ${p}
Version: ${x}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${i.toISOString()}`;if(o&&(E+=`
Expiration Time: ${o.toISOString()}`),d&&(E+=`
Not Before: ${d.toISOString()}`),h&&(E+=`
Request ID: ${h}`),f){let S=`
Resources:`;for(const C of f){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);S+=`
- ${C}`}E+=S}return`${N}
${E}`}class Rt extends Error{constructor({message:t,code:n,cause:s,name:o}){var i;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=o??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Od extends Rt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function PC({error:e,options:t}){var n,s,o;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Rt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(fw(c)){if(i.rp.id!==c)return new Rt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function RC({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Rt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(fw(s)){if(n.rpId!==s)return new Rt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var uw=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n};class AC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const IC=new AC;function OC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:s}=e,o=uw(e,["challenge","user","excludeCredentials"]),i=ni(t).buffer,c=Object.assign(Object.assign({},n),{id:ni(n.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:i,user:c});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const f=s[h];d.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:ni(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return d}function FC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,s=uw(e,["challenge","allowCredentials"]),o=ni(t).buffer,i=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];i.allowCredentials[c]=Object.assign(Object.assign({},d),{id:ni(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return i}function MC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ha(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ha(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function LC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,s=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ha(new Uint8Array(o.authenticatorData)),clientDataJSON:Ha(new Uint8Array(o.clientDataJSON)),signature:Ha(new Uint8Array(o.signature)),userHandle:o.userHandle?Ha(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fw(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function a0(){var e,t;return!!(Yn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function zC(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Od("Browser returned unexpected credential type",t)}:{data:null,error:new Od("Empty credential response",t)}}catch(t){return{data:null,error:PC({error:t,options:e})}}}async function $C(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Od("Browser returned unexpected credential type",t)}:{data:null,error:new Od("Empty credential response",t)}}catch(t){return{data:null,error:RC({error:t,options:e})}}}const BC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},UC={userVerification:"preferred",hints:["security-key"]};function Fd(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of e)if(o)for(const i in o){const c=o[i];if(c!==void 0)if(Array.isArray(c))s[i]=c;else if(n(c))s[i]=c;else if(t(c)){const d=s[i];t(d)?s[i]=Fd(d,c):s[i]=Fd(c)}else s[i]=c}return s}function VC(e,t){return Fd(BC,e,t||{})}function WC(e,t){return Fd(UC,e,t||{})}class HC{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:s,signal:o},i){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!c)return{data:null,error:d};const h=o??IC.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:f}=c.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${s}`),f.displayName||(f.displayName=f.name)}switch(c.webauthn.type){case"create":{const f=VC(c.webauthn.credential_options.publicKey,i?.create),{data:m,error:p}=await zC({publicKey:f,signal:h});return m?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const f=WC(c.webauthn.credential_options.publicKey,i?.request),{data:m,error:p}=await $C(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f,signal:h}));return m?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(c){return Pe(c)?{data:null,error:c}:{data:null,error:new Wa("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}},i){if(!n)return{data:null,error:new xl("rpId is required for WebAuthn authentication")};try{if(!a0())return{data:null,error:new Wa("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:i});if(!c)return{data:null,error:d};const{webauthn:h}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:s,credential_response:h.credential_response}})}catch(c){return Pe(c)?{data:null,error:c}:{data:null,error:new Wa("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o},i){if(!n)return{data:null,error:new xl("rpId is required for WebAuthn registration")};try{if(!a0())return{data:null,error:new Wa("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:d};const{data:h,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:i});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(c){return Pe(c)?{data:null,error:c}:{data:null,error:new Wa("Unexpected error in register",c)}}}}_C();const qC={url:B_,storageKey:U_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:V_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function o0(e,t,n){return await n()}const Yo={};class yl{get jwks(){var t,n;return(n=(t=Yo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Yo[this.storageKey]=Object.assign(Object.assign({},Yo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Yo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yo[this.storageKey]=Object.assign(Object.assign({},Yo[this.storageKey]),{cachedAt:t})}constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yl.nextInstanceID,yl.nextInstanceID+=1,this.instanceID>0&&Yn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},qC),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new NC({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=lw(o.fetch),this.lock=o.lock||o0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Yn()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=EC:this.lock=o0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new HC(this)},this.persistSession?(o.storage?this.storage=o.storage:iw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=s0(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=s0(this.memoryStorage)),Yn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=rC(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Yn()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),G_(i)){const h=(t=i.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:c,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Pe(n)?{error:n}:{error:new Wa("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,o;try{const i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:_r}),{data:c,error:d}=i;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(i){if(Pe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,s,o;try{let i;if("email"in t){const{email:m,password:p,options:x}=t;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await Wo(this.storage,this.storageKey)),i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:m,password:p,data:(n=x?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:b,code_challenge_method:w},xform:_r})}else if("phone"in t){const{phone:m,password:p,options:x}=t;i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(s=x?.data)!==null&&s!==void 0?s:{},channel:(o=x?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:_r})}else throw new cd("You must provide either an email or phone number and a password");const{data:c,error:d}=i;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(i){if(Pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:c,options:d}=t;n=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:n0})}else if("phone"in t){const{phone:i,password:c,options:d}=t;n=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:n0})}else throw new cd("You must provide either an email or phone number and a password");const{data:s,error:o}=n;return o?{data:{user:null,session:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Vo}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(Pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,o,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,s,o,i,c,d,h,f,m,p,x;let b,w;if("message"in t)b=t.message,w=t.signature;else{const{chain:k,wallet:N,statement:E,options:S}=t;let C;if(Yn())if(typeof N=="object")C=N;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")C=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=N}const D=new URL((n=S?.url)!==null&&n!==void 0?n:window.location.href),_=await C.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=dw(_[0]);let P=(s=S?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!P){const W=await C.request({method:"eth_chainId"});P=CC(W)}const F={domain:D.host,address:A,statement:E,uri:D.href,version:"1",chainId:P,nonce:(o=S?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(i=S?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=S?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=S?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=S?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=S?.signInWithEthereum)===null||m===void 0?void 0:m.resources};b=DC(F),w=await C.request({method:"personal_sign",params:[TC(b),A]})}try{const{data:k,error:N}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:w},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:_r});if(N)throw N;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Vo}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:N})}catch(k){if(Pe(k))return{data:{user:null,session:null},error:k};throw k}}async signInWithSolana(t){var n,s,o,i,c,d,h,f,m,p,x,b;let w,k;if("message"in t)w=t.message,k=t.signature;else{const{chain:N,wallet:E,statement:S,options:C}=t;let D;if(Yn())if(typeof E=="object")D=E;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))D=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=E}const _=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const A=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),S?{statement:S}:null));let P;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")P=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)P=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)w=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),k=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${_.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(o=(s=C?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((i=C?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((p=(m=C?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...C.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const A=await D.signMessage(new TextEncoder().encode(w),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=A}}try{const{data:N,error:E}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Ha(k)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:_r});if(E)throw E;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Vo}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:E})}catch(N){if(Pe(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const n=await La(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{const{data:i,error:c}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:_r});if(await ea(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Vo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:o??null}),error:c})}catch(i){if(Pe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:s,token:o,access_token:i,nonce:c}=t,d=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:i,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:_r}),{data:h,error:f}=d;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Vo}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:f})}catch(n){if(Pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,o,i,c;try{if("email"in t){const{email:d,options:h}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Wo(this.storage,this.storageKey));const{error:p}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:d,options:h}=t,{data:f,error:m}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:f?.message_id},error:m}}throw new cd("You must provide either an email or phone number.")}catch(d){if(Pe(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var n,s;try{let o,i;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:d}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:o,xform:_r});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,f=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(o){if(Pe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,s,o;try{let i=null,c=null;return this.flowType==="pkce"&&([i,c]=await Wo(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:c}),headers:this.headers,xform:bC})}catch(i){if(Pe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new ra;const{error:o}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:o,options:i}=t,{error:c}=await Le(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:s,type:o,options:i}=t,{data:c,error:d}=await Le(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new cd("You must provide either an email or phone number and a type")}catch(n){if(Pe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await La(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Wh:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const c=await La(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Yh()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(h,f,m)=>(!c&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,f,m))})}return{data:{session:t},error:null}}const{data:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:oa}):await this._useSession(async n=>{var s,o,i;const{data:c,error:d}=n;if(d)throw d;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ra}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:oa})})}catch(n){if(Pe(n))return K_(n)&&(await this._removeSession(),await ea(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:o,error:i}=s;if(i)throw i;if(!o.session)throw new ra;const c=o.session;let d=null,h=null;this.flowType==="pkce"&&t.email!=null&&([d,h]=await Wo(this.storage,this.storageKey));const{data:f,error:m}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:oa});if(m)throw m;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(s){if(Pe(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ra;const n=Date.now()/1e3;let s=n,o=!0,i=null;const{payload:c}=qh(t.access_token);if(c.exp&&(s=c.exp,o=s<=n),o){const{data:d,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};i=d}else{const{data:d,error:h}=await this._getUser(t.access_token);if(h)throw h;i={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Pe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:c,error:d}=n;if(d)throw d;t=(s=c.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new ra;const{data:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Pe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Yn())throw new dd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new dd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Gy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Gy("No code detected.");const{data:S,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:i,refresh_token:c,expires_in:d,expires_at:h,token_type:f}=t;if(!i||!d||!c||!f)throw new dd("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(d);let x=m+p;h&&(x=parseInt(h));const b=x-m;b*1e3<=Qo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const w=x-p;m-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,x,m):m-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,x,m);const{data:k,error:N}=await this._getUser(i);if(N)throw N;const E={provider_token:s,provider_refresh_token:o,access_token:i,expires_in:p,expires_at:x,refresh_token:c,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(s){if(Pe(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await La(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:i}=n;if(i)return{error:i};const c=(s=o.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:d}=await this.admin.signOut(c,t);if(d&&!(Y_(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await ea(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=nC(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,o;try{const{data:{session:i},error:c}=n;if(c)throw c;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Wo(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Pe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:s,error:o}=await this._useSession(async i=>{var c,d,h,f,m;const{data:p,error:x}=i;if(x)throw x;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",b,{headers:this.headers,jwt:(m=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return Yn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:t.provider,url:s?.url},error:null}}catch(s){if(Pe(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:i}}=n;if(o)throw o;const{options:c,provider:d,token:h,access_token:f,nonce:m}=t,p=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:h,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:_r}),{data:x,error:b}=p;return b?{data:{user:null,session:null},error:b}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new Vo}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),{data:x,error:b})}catch(o){if(Pe(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,o;const{data:i,error:c}=n;if(c)throw c;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await oC(async o=>(o>0&&await aC(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_r})),(o,i)=>{const c=200*Math.pow(2,o);return i&&Hh(i)&&Date.now()+c-s<Qo})}catch(s){if(this._debug(n,"error",s),Pe(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),Yn()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await La(this.storage,this.storageKey);if(o&&this.userStorage){let c=await La(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await ei(this.userStorage,this.storageKey+"-user",c)),o.user=(t=c?.user)!==null&&t!==void 0?t:Yh()}else if(o&&!o.user&&!o.user){const c=await La(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await ea(this.storage,this.storageKey+"-user"),await ei(this.storage,this.storageKey,o)):o.user=Yh()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const i=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Wh;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Wh}s`),i){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Hh(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(o.access_token);!d&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new ra;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new fu;const{data:i,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!i.session)throw new ra;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const d={data:i.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(i){if(this._debug(o,"error",i),Pe(i)){const c={data:null,error:i};return Hh(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,s=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(h){i.push(h)}});if(await Promise.all(c),i.length>0){for(let d=0;d<i.length;d+=1)console.error(i[d]);throw i[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await ei(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const i=e0(o);await ei(this.storage,this.storageKey,i)}else{const o=e0(n);await ei(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await ea(this.storage,this.storageKey),await ea(this.storage,this.storageKey+"-code-verifier"),await ea(this.storage,this.storageKey+"-user"),this.userStorage&&await ea(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Yn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Qo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-t)/Qo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Qo}ms, refresh threshold is ${Op} ticks`),o<=Op&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,c]=await Wo(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(d.toString())}if(s?.queryParams){const i=new URLSearchParams(s.queryParams);o.push(i.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:o,error:i}=n;return i?{data:null,error:i}:await Le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,o;const{data:i,error:c}=n;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:f}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?MC(t.webauthn.credential_response):LC(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:h}=await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const c=await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:OC(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:FC(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n?.factors)!==null&&t!==void 0?t:[])o.all.push(i),i.status==="verified"&&o[i.factor_type].push(i);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:o},error:i}=t;if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=qh(o.access_token);let d=null;c.aal&&(d=c.aal);let h=d;((s=(n=o.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const m=c.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(d=>d.kid===t);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===t),s&&this.jwks_cached_at+H_>o)return s;const{data:i,error:c}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=o,s=i.keys.find(d=>d.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:b,error:w}=await this.getSession();if(w||!b.session)return{data:null,error:w};s=b.session.access_token}const{header:o,payload:i,signature:c,raw:{header:d,payload:h}}=qh(s);n?.allowExpired||hC(i.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:b}=await this.getUser(s);if(b)throw b;return{data:{claims:i,header:o,signature:c},error:null}}const m=pC(o.alg),p=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,c,eC(`${d}.${h}`)))throw new Lp("Invalid JWT signature");return{data:{claims:i,header:o,signature:c},error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}}}yl.nextInstanceID=0;const YC=yl;class KC extends YC{constructor(t){super(t)}}var GC=function(e,t,n,s){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function d(m){try{f(s.next(m))}catch(p){c(p)}}function h(m){try{f(s.throw(m))}catch(p){c(p)}}function f(m){m.done?i(m.value):o(m.value).then(d,h)}f((s=s.apply(e,t||[])).next())})};class ZC{constructor(t,n,s){var o,i,c;this.supabaseUrl=t,this.supabaseKey=n;const d=$_(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:D_,realtime:R_,auth:Object.assign(Object.assign({},P_),{storageKey:h}),global:T_},m=z_(s??{},f);this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=m.global.headers)!==null&&i!==void 0?i:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=F_(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new q2(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new E_(this.storageUrl.href,this.headers,this.fetch,s?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new F2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return GC(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:o,userStorage:i,storageKey:c,flowType:d,lock:h,debug:f},m,p){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new KC({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),m),storageKey:c,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:o,userStorage:i,flowType:d,lock:h,debug:f,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new c_(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const JC=(e,t,n)=>new ZC(e,t,n);function XC(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}XC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let Gh=null;function hw(){if(!Gh){const e=jm(),t=km();Gh=JC(e,t)}return Gh}const Rr=hw(),zp=Object.freeze(Object.defineProperty({__proto__:null,createClient:hw,supabase:Rr},Symbol.toStringTag,{value:"Module"}));class QC{refreshTimer=null;refreshPromise=null;isSessionExpired(){try{const t=sessionStorage.getItem("expires_at");if(!t)return!0;const n=parseInt(t);return Date.now()>=n-300*1e3}catch{return!0}}async getAccessToken(){try{const t=sessionStorage.getItem("access_token");return t?this.isSessionExpired()?(await this.refreshSession())?.access_token||null:t:null}catch{return(await this.refreshSession())?.access_token||null}}async refreshSession(){if(this.refreshPromise)return this.refreshPromise;this.refreshPromise=this._performRefresh();const t=await this.refreshPromise;return this.refreshPromise=null,t}async _performRefresh(){try{const{data:t,error:n}=await Rr.auth.refreshSession();if(n||!t.session)return this.clearSession(),window.dispatchEvent(new CustomEvent("auth:refresh-failed",{detail:{error:n?.message||"Session refresh failed"}})),null;const s={access_token:t.session.access_token,refresh_token:t.session.refresh_token,expires_at:t.session.expires_at,user:{id:t.session.user.id,email:t.session.user.email,name:t.session.user.user_metadata?.name||"",role:t.session.user.user_metadata?.role||"tenant",createdAt:t.session.user.created_at}};return this.saveSession(s),this.setupAutoRefresh(s.expires_at),s}catch(t){return this.clearSession(),window.dispatchEvent(new CustomEvent("auth:error",{detail:{error:t instanceof Error?t.message:"Authentication error occurred"}})),null}}saveSession(t){try{sessionStorage.setItem("access_token",t.access_token),sessionStorage.setItem("user_id",t.user.id),t.refresh_token&&sessionStorage.setItem("refresh_token",t.refresh_token),t.expires_at&&sessionStorage.setItem("expires_at",String(t.expires_at*1e3)),sessionStorage.setItem("user_data",JSON.stringify(t.user))}catch{}}clearSession(){try{sessionStorage.removeItem("access_token"),sessionStorage.removeItem("refresh_token"),sessionStorage.removeItem("expires_at"),sessionStorage.removeItem("user_id"),sessionStorage.removeItem("user_data")}catch{}this.refreshTimer&&(clearTimeout(this.refreshTimer),this.refreshTimer=null)}setupAutoRefresh(t){if(this.refreshTimer&&clearTimeout(this.refreshTimer),!t)return;const n=t*1e3,s=Date.now(),o=n-s-600*1e3;o>0&&(this.refreshTimer=setTimeout(()=>{this.refreshSession()},o))}async initialize(){try{const{data:t,error:n}=await Rr.auth.getSession();if(n)return window.dispatchEvent(new CustomEvent("auth:init-failed",{detail:{error:n.message||"Failed to initialize authentication"}})),!1;if(t.session){const s={access_token:t.session.access_token,refresh_token:t.session.refresh_token,expires_at:t.session.expires_at,user:{id:t.session.user.id,email:t.session.user.email,name:t.session.user.user_metadata?.name||"",role:t.session.user.user_metadata?.role||"tenant",createdAt:t.session.user.created_at}};return this.saveSession(s),this.setupAutoRefresh(s.expires_at),!0}return!1}catch(t){return window.dispatchEvent(new CustomEvent("auth:error",{detail:{error:t instanceof Error?t.message:"Authentication initialization failed"}})),!1}}getCurrentUser(){const t=sessionStorage.getItem("user_data");if(t)try{return JSON.parse(t)}catch{return null}return null}handleAuthError(t){if(t?.status===401||t?.message?.includes("JWT expired")){this.clearSession(),window.dispatchEvent(new CustomEvent("auth:expired",{detail:{message:"Your session has expired. Please sign in again."}}));return}if(t?.message?.includes("Failed to fetch")||t?.message?.includes("Network")){window.dispatchEvent(new CustomEvent("auth:network-error",{detail:{message:"Network connection lost. Please check your internet connection."}}));return}window.dispatchEvent(new CustomEvent("auth:error",{detail:{message:t?.message||"An authentication error occurred. Please try again."}}))}}const Fn=new QC;class eT{csrfToken=null;generateToken(){const t=new Uint8Array(32);crypto.getRandomValues(t),this.csrfToken=Array.from(t,n=>n.toString(16).padStart(2,"0")).join("");try{sessionStorage.setItem("csrf_token",this.csrfToken)}catch{}return this.csrfToken}getToken(){if(!this.csrfToken){try{this.csrfToken=sessionStorage.getItem("csrf_token")}catch{}this.csrfToken||(this.csrfToken=this.generateToken())}return this.csrfToken}validateToken(t){return t===this.getToken()}clearToken(){this.csrfToken=null;try{sessionStorage.removeItem("csrf_token")}catch{}}}const tT=new eT;function oe(e,t,n){function s(d,h){var f;Object.defineProperty(d,"_zod",{value:d._zod??{},enumerable:!1}),(f=d._zod).traits??(f.traits=new Set),d._zod.traits.add(e),t(d,h);for(const m in c.prototype)m in d||Object.defineProperty(d,m,{value:c.prototype[m].bind(d)});d._zod.constr=c,d._zod.def=h}const o=n?.Parent??Object;class i extends o{}Object.defineProperty(i,"name",{value:e});function c(d){var h;const f=n?.Parent?new i:this;s(f,d),(h=f._zod).deferred??(h.deferred=[]);for(const m of f._zod.deferred)m();return f}return Object.defineProperty(c,"init",{value:s}),Object.defineProperty(c,Symbol.hasInstance,{value:d=>n?.Parent&&d instanceof n.Parent?!0:d?._zod?.traits?.has(e)}),Object.defineProperty(c,"name",{value:e}),c}class ri extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class pw extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const mw={};function Ka(e){return mw}function nT(e){const t=Object.values(e).filter(s=>typeof s=="number");return Object.entries(e).filter(([s,o])=>t.indexOf(+s)===-1).map(([s,o])=>o)}function $p(e,t){return typeof t=="bigint"?t.toString():t}function Cm(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Tm(e){return e==null}function Dm(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function rT(e,t){const n=(e.toString().split(".")[1]||"").length,s=t.toString();let o=(s.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(s)){const h=s.match(/\d?e-(\d?)/);h?.[1]&&(o=Number.parseInt(h[1]))}const i=n>o?n:o,c=Number.parseInt(e.toFixed(i).replace(".","")),d=Number.parseInt(t.toFixed(i).replace(".",""));return c%d/10**i}const i0=Symbol("evaluating");function dt(e,t,n){let s;Object.defineProperty(e,t,{get(){if(s!==i0)return s===void 0&&(s=i0,s=n()),s},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function so(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ao(...e){const t={};for(const n of e){const s=Object.getOwnPropertyDescriptors(n);Object.assign(t,s)}return Object.defineProperties({},t)}function l0(e){return JSON.stringify(e)}const gw="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Md(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const sT=Cm(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function bl(e){if(Md(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Md(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function vw(e){return bl(e)?{...e}:Array.isArray(e)?[...e]:e}const aT=new Set(["string","number","symbol"]);function hu(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function xa(e,t,n){const s=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(s._zod.parent=e),s}function Ce(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function oT(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const iT={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function lT(e,t){const n=e._zod.def,s=ao(e._zod.def,{get shape(){const o={};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(o[i]=n.shape[i])}return so(this,"shape",o),o},checks:[]});return xa(e,s)}function cT(e,t){const n=e._zod.def,s=ao(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete o[i]}return so(this,"shape",o),o},checks:[]});return xa(e,s)}function dT(e,t){if(!bl(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=ao(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return so(this,"shape",i),i},checks:[]});return xa(e,o)}function uT(e,t){if(!bl(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const s={...e._zod.def.shape,...t};return so(this,"shape",s),s},checks:e._zod.def.checks};return xa(e,n)}function fT(e,t){const n=ao(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t._zod.def.shape};return so(this,"shape",s),s},get catchall(){return t._zod.def.catchall},checks:[]});return xa(e,n)}function hT(e,t,n){const s=ao(t._zod.def,{get shape(){const o=t._zod.def.shape,i={...o};if(n)for(const c in n){if(!(c in o))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(i[c]=e?new e({type:"optional",innerType:o[c]}):o[c])}else for(const c in o)i[c]=e?new e({type:"optional",innerType:o[c]}):o[c];return so(this,"shape",i),i},checks:[]});return xa(t,s)}function pT(e,t,n){const s=ao(t._zod.def,{get shape(){const o=t._zod.def.shape,i={...o};if(n)for(const c in n){if(!(c in i))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(i[c]=new e({type:"nonoptional",innerType:o[c]}))}else for(const c in o)i[c]=new e({type:"nonoptional",innerType:o[c]});return so(this,"shape",i),i},checks:[]});return xa(t,s)}function ti(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function xw(e,t){return t.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(e),n})}function ud(e){return typeof e=="string"?e:e?.message}function Ga(e,t,n){const s={...e,path:e.path??[]};if(!e.message){const o=ud(e.inst?._zod.def?.error?.(e))??ud(t?.error?.(e))??ud(n.customError?.(e))??ud(n.localeError?.(e))??"Invalid input";s.message=o}return delete s.inst,delete s.continue,t?.reportInput||delete s.input,s}function Pm(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function wl(...e){const[t,n,s]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:s}:{...t}}const yw=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,$p,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},bw=oe("$ZodError",yw),ww=oe("$ZodError",yw,{Parent:Error});function mT(e,t=n=>n.message){const n={},s=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):s.push(t(o));return{formErrors:s,fieldErrors:n}}function gT(e,t=n=>n.message){const n={_errors:[]},s=o=>{for(const i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(c=>s({issues:c}));else if(i.code==="invalid_key")s({issues:i.issues});else if(i.code==="invalid_element")s({issues:i.issues});else if(i.path.length===0)n._errors.push(t(i));else{let c=n,d=0;for(;d<i.path.length;){const h=i.path[d];d===i.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(t(i))):c[h]=c[h]||{_errors:[]},c=c[h],d++}}};return s(e),n}const Rm=e=>(t,n,s,o)=>{const i=s?Object.assign(s,{async:!1}):{async:!1},c=t._zod.run({value:n,issues:[]},i);if(c instanceof Promise)throw new ri;if(c.issues.length){const d=new(o?.Err??e)(c.issues.map(h=>Ga(h,i,Ka())));throw gw(d,o?.callee),d}return c.value},Am=e=>async(t,n,s,o)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let c=t._zod.run({value:n,issues:[]},i);if(c instanceof Promise&&(c=await c),c.issues.length){const d=new(o?.Err??e)(c.issues.map(h=>Ga(h,i,Ka())));throw gw(d,o?.callee),d}return c.value},pu=e=>(t,n,s)=>{const o=s?{...s,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new ri;return i.issues.length?{success:!1,error:new(e??bw)(i.issues.map(c=>Ga(c,o,Ka())))}:{success:!0,data:i.value}},vT=pu(ww),mu=e=>async(t,n,s)=>{const o=s?Object.assign(s,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(c=>Ga(c,o,Ka())))}:{success:!0,data:i.value}},xT=mu(ww),yT=e=>(t,n,s)=>{const o=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Rm(e)(t,n,o)},bT=e=>(t,n,s)=>Rm(e)(t,n,s),wT=e=>async(t,n,s)=>{const o=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Am(e)(t,n,o)},kT=e=>async(t,n,s)=>Am(e)(t,n,s),jT=e=>(t,n,s)=>{const o=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return pu(e)(t,n,o)},NT=e=>(t,n,s)=>pu(e)(t,n,s),ST=e=>async(t,n,s)=>{const o=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return mu(e)(t,n,o)},ET=e=>async(t,n,s)=>mu(e)(t,n,s),_T=/^[cC][^\s-]{8,}$/,CT=/^[0-9a-z]+$/,TT=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,DT=/^[0-9a-vA-V]{20}$/,PT=/^[A-Za-z0-9]{27}$/,RT=/^[a-zA-Z0-9_-]{21}$/,AT=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,IT=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,c0=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,OT=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,FT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function MT(){return new RegExp(FT,"u")}const LT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zT=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,$T=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,BT=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,UT=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,kw=/^[A-Za-z0-9_-]*$/,VT=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,WT=/^\+(?:[0-9]){6,14}[0-9]$/,jw="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",HT=new RegExp(`^${jw}$`);function Nw(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function qT(e){return new RegExp(`^${Nw(e)}$`)}function YT(e){const t=Nw({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${t}(?:${n.join("|")})`;return new RegExp(`^${jw}T(?:${s})$`)}const KT=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},GT=/^-?\d+$/,ZT=/^-?\d+(?:\.\d+)?/,JT=/^(?:true|false)$/i,XT=/^[^A-Z]*$/,QT=/^[^a-z]*$/,$n=oe("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Sw={number:"number",bigint:"bigint",object:"date"},Ew=oe("$ZodCheckLessThan",(e,t)=>{$n.init(e,t);const n=Sw[typeof t.value];e._zod.onattach.push(s=>{const o=s._zod.bag,i=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value<=t.value:s.value<t.value)||s.issues.push({origin:n,code:"too_big",maximum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),_w=oe("$ZodCheckGreaterThan",(e,t)=>{$n.init(e,t);const n=Sw[typeof t.value];e._zod.onattach.push(s=>{const o=s._zod.bag,i=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value>=t.value:s.value>t.value)||s.issues.push({origin:n,code:"too_small",minimum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),e5=oe("$ZodCheckMultipleOf",(e,t)=>{$n.init(e,t),e._zod.onattach.push(n=>{var s;(s=n._zod.bag).multipleOf??(s.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):rT(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),t5=oe("$ZodCheckNumberFormat",(e,t)=>{$n.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),s=n?"int":"number",[o,i]=iT[t.format];e._zod.onattach.push(c=>{const d=c._zod.bag;d.format=t.format,d.minimum=o,d.maximum=i,n&&(d.pattern=GT)}),e._zod.check=c=>{const d=c.value;if(n){if(!Number.isInteger(d)){c.issues.push({expected:s,format:t.format,code:"invalid_type",continue:!1,input:d,inst:e});return}if(!Number.isSafeInteger(d)){d>0?c.issues.push({input:d,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort}):c.issues.push({input:d,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort});return}}d<o&&c.issues.push({origin:"number",input:d,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),d>i&&c.issues.push({origin:"number",input:d,code:"too_big",maximum:i,inst:e})}}),n5=oe("$ZodCheckMaxLength",(e,t)=>{var n;$n.init(e,t),(n=e._zod.def).when??(n.when=s=>{const o=s.value;return!Tm(o)&&o.length!==void 0}),e._zod.onattach.push(s=>{const o=s._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(s._zod.bag.maximum=t.maximum)}),e._zod.check=s=>{const o=s.value;if(o.length<=t.maximum)return;const c=Pm(o);s.issues.push({origin:c,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),r5=oe("$ZodCheckMinLength",(e,t)=>{var n;$n.init(e,t),(n=e._zod.def).when??(n.when=s=>{const o=s.value;return!Tm(o)&&o.length!==void 0}),e._zod.onattach.push(s=>{const o=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(s._zod.bag.minimum=t.minimum)}),e._zod.check=s=>{const o=s.value;if(o.length>=t.minimum)return;const c=Pm(o);s.issues.push({origin:c,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),s5=oe("$ZodCheckLengthEquals",(e,t)=>{var n;$n.init(e,t),(n=e._zod.def).when??(n.when=s=>{const o=s.value;return!Tm(o)&&o.length!==void 0}),e._zod.onattach.push(s=>{const o=s._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=s=>{const o=s.value,i=o.length;if(i===t.length)return;const c=Pm(o),d=i>t.length;s.issues.push({origin:c,...d?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:s.value,inst:e,continue:!t.abort})}}),gu=oe("$ZodCheckStringFormat",(e,t)=>{var n,s;$n.init(e,t),e._zod.onattach.push(o=>{const i=o._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(s=e._zod).check??(s.check=()=>{})}),a5=oe("$ZodCheckRegex",(e,t)=>{gu.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),o5=oe("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=XT),gu.init(e,t)}),i5=oe("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=QT),gu.init(e,t)}),l5=oe("$ZodCheckIncludes",(e,t)=>{$n.init(e,t);const n=hu(t.includes),s=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=s,e._zod.onattach.push(o=>{const i=o._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(s)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),c5=oe("$ZodCheckStartsWith",(e,t)=>{$n.init(e,t);const n=new RegExp(`^${hu(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=s=>{s.value.startsWith(t.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:s.value,inst:e,continue:!t.abort})}}),d5=oe("$ZodCheckEndsWith",(e,t)=>{$n.init(e,t);const n=new RegExp(`.*${hu(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=s=>{s.value.endsWith(t.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:s.value,inst:e,continue:!t.abort})}}),u5=oe("$ZodCheckOverwrite",(e,t)=>{$n.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class f5{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const s=t.split(`
`).filter(c=>c),o=Math.min(...s.map(c=>c.length-c.trimStart().length)),i=s.map(c=>c.slice(o)).map(c=>" ".repeat(this.indent*2)+c);for(const c of i)this.content.push(c)}compile(){const t=Function,n=this?.args,o=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...n,o.join(`
`))}}const h5={major:4,minor:1,patch:12},Dt=oe("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=h5;const s=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&s.unshift(e);for(const o of s)for(const i of o._zod.onattach)i(e);if(s.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(c,d,h)=>{let f=ti(c),m;for(const p of d){if(p._zod.def.when){if(!p._zod.def.when(c))continue}else if(f)continue;const x=c.issues.length,b=p._zod.check(c);if(b instanceof Promise&&h?.async===!1)throw new ri;if(m||b instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await b,c.issues.length!==x&&(f||(f=ti(c,x)))});else{if(c.issues.length===x)continue;f||(f=ti(c,x))}}return m?m.then(()=>c):c},i=(c,d,h)=>{if(ti(c))return c.aborted=!0,c;const f=o(d,s,h);if(f instanceof Promise){if(h.async===!1)throw new ri;return f.then(m=>e._zod.parse(m,h))}return e._zod.parse(f,h)};e._zod.run=(c,d)=>{if(d.skipChecks)return e._zod.parse(c,d);if(d.direction==="backward"){const f=e._zod.parse({value:c.value,issues:[]},{...d,skipChecks:!0});return f instanceof Promise?f.then(m=>i(m,c,d)):i(f,c,d)}const h=e._zod.parse(c,d);if(h instanceof Promise){if(d.async===!1)throw new ri;return h.then(f=>o(f,s,d))}return o(h,s,d)}}e["~standard"]={validate:o=>{try{const i=vT(e,o);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return xT(e,o).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}}),Im=oe("$ZodString",(e,t)=>{Dt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??KT(e._zod.bag),e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),gt=oe("$ZodStringFormat",(e,t)=>{gu.init(e,t),Im.init(e,t)}),p5=oe("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=IT),gt.init(e,t)}),m5=oe("$ZodUUID",(e,t)=>{if(t.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(s===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=c0(s))}else t.pattern??(t.pattern=c0());gt.init(e,t)}),g5=oe("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=OT),gt.init(e,t)}),v5=oe("$ZodURL",(e,t)=>{gt.init(e,t),e._zod.check=n=>{try{const s=n.value.trim(),o=new URL(s);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:VT.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=o.href:n.value=s;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),x5=oe("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=MT()),gt.init(e,t)}),y5=oe("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=RT),gt.init(e,t)}),b5=oe("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=_T),gt.init(e,t)}),w5=oe("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=CT),gt.init(e,t)}),k5=oe("$ZodULID",(e,t)=>{t.pattern??(t.pattern=TT),gt.init(e,t)}),j5=oe("$ZodXID",(e,t)=>{t.pattern??(t.pattern=DT),gt.init(e,t)}),N5=oe("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=PT),gt.init(e,t)}),S5=oe("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=YT(t)),gt.init(e,t)}),E5=oe("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=HT),gt.init(e,t)}),_5=oe("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=qT(t)),gt.init(e,t)}),C5=oe("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=AT),gt.init(e,t)}),T5=oe("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=LT),gt.init(e,t),e._zod.onattach.push(n=>{const s=n._zod.bag;s.format="ipv4"})}),D5=oe("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=zT),gt.init(e,t),e._zod.onattach.push(n=>{const s=n._zod.bag;s.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),P5=oe("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=$T),gt.init(e,t)}),R5=oe("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=BT),gt.init(e,t),e._zod.check=n=>{const s=n.value.split("/");try{if(s.length!==2)throw new Error;const[o,i]=s;if(!i)throw new Error;const c=Number(i);if(`${c}`!==i)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Cw(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const A5=oe("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=UT),gt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{Cw(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function I5(e){if(!kw.test(e))return!1;const t=e.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Cw(n)}const O5=oe("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=kw),gt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{I5(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),F5=oe("$ZodE164",(e,t)=>{t.pattern??(t.pattern=WT),gt.init(e,t)});function M5(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const o=JSON.parse(atob(s));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const L5=oe("$ZodJWT",(e,t)=>{gt.init(e,t),e._zod.check=n=>{M5(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Tw=oe("$ZodNumber",(e,t)=>{Dt.init(e,t),e._zod.pattern=e._zod.bag.pattern??ZT,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const i=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...i?{received:i}:{}}),n}}),z5=oe("$ZodNumber",(e,t)=>{t5.init(e,t),Tw.init(e,t)}),$5=oe("$ZodBoolean",(e,t)=>{Dt.init(e,t),e._zod.pattern=JT,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=!!n.value}catch{}const o=n.value;return typeof o=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),n}}),B5=oe("$ZodUnknown",(e,t)=>{Dt.init(e,t),e._zod.parse=n=>n}),U5=oe("$ZodNever",(e,t)=>{Dt.init(e,t),e._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function d0(e,t,n){e.issues.length&&t.issues.push(...xw(n,e.issues)),t.value[n]=e.value}const V5=oe("$ZodArray",(e,t)=>{Dt.init(e,t),e._zod.parse=(n,s)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const i=[];for(let c=0;c<o.length;c++){const d=o[c],h=t.element._zod.run({value:d,issues:[]},s);h instanceof Promise?i.push(h.then(f=>d0(f,n,c))):d0(h,n,c)}return i.length?Promise.all(i).then(()=>n):n}});function Ld(e,t,n,s){e.issues.length&&t.issues.push(...xw(n,e.issues)),e.value===void 0?n in s&&(t.value[n]=void 0):t.value[n]=e.value}function Dw(e){const t=Object.keys(e.shape);for(const s of t)if(!e.shape?.[s]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${s}": expected a Zod schema`);const n=oT(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Pw(e,t,n,s,o,i){const c=[],d=o.keySet,h=o.catchall._zod,f=h.def.type;for(const m of Object.keys(t)){if(d.has(m))continue;if(f==="never"){c.push(m);continue}const p=h.run({value:t[m],issues:[]},s);p instanceof Promise?e.push(p.then(x=>Ld(x,n,m,t))):Ld(p,n,m,t)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:t,inst:i}),e.length?Promise.all(e).then(()=>n):n}const W5=oe("$ZodObject",(e,t)=>{if(Dt.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const d=t.shape;Object.defineProperty(t,"shape",{get:()=>{const h={...d};return Object.defineProperty(t,"shape",{value:h}),h}})}const s=Cm(()=>Dw(t));dt(e._zod,"propValues",()=>{const d=t.shape,h={};for(const f in d){const m=d[f]._zod;if(m.values){h[f]??(h[f]=new Set);for(const p of m.values)h[f].add(p)}}return h});const o=Md,i=t.catchall;let c;e._zod.parse=(d,h)=>{c??(c=s.value);const f=d.value;if(!o(f))return d.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),d;d.value={};const m=[],p=c.shape;for(const x of c.keys){const w=p[x]._zod.run({value:f[x],issues:[]},h);w instanceof Promise?m.push(w.then(k=>Ld(k,d,x,f))):Ld(w,d,x,f)}return i?Pw(m,f,d,h,s.value,e):m.length?Promise.all(m).then(()=>d):d}}),H5=oe("$ZodObjectJIT",(e,t)=>{W5.init(e,t);const n=e._zod.parse,s=Cm(()=>Dw(t)),o=x=>{const b=new f5(["shape","payload","ctx"]),w=s.value,k=C=>{const D=l0(C);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};b.write("const input = payload.value;");const N=Object.create(null);let E=0;for(const C of w.keys)N[C]=`key_${E++}`;b.write("const newResult = {};");for(const C of w.keys){const D=N[C],_=l0(C);b.write(`const ${D} = ${k(C)};`),b.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${_}, ...iss.path] : [${_}]
          })));
        }
        
        
        if (${D}.value === undefined) {
          if (${_} in input) {
            newResult[${_}] = undefined;
          }
        } else {
          newResult[${_}] = ${D}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");const S=b.compile();return(C,D)=>S(x,C,D)};let i;const c=Md,d=!mw.jitless,f=d&&sT.value,m=t.catchall;let p;e._zod.parse=(x,b)=>{p??(p=s.value);const w=x.value;return c(w)?d&&f&&b?.async===!1&&b.jitless!==!0?(i||(i=o(t.shape)),x=i(x,b),m?Pw([],w,x,b,p,e):x):n(x,b):(x.issues.push({expected:"object",code:"invalid_type",input:w,inst:e}),x)}});function u0(e,t,n,s){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const o=e.filter(i=>!ti(i));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(i=>i.issues.map(c=>Ga(c,s,Ka())))}),t)}const q5=oe("$ZodUnion",(e,t)=>{Dt.init(e,t),dt(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),dt(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),dt(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),dt(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${o.map(i=>Dm(i.source)).join("|")})$`)}});const n=t.options.length===1,s=t.options[0]._zod.run;e._zod.parse=(o,i)=>{if(n)return s(o,i);let c=!1;const d=[];for(const h of t.options){const f=h._zod.run({value:o.value,issues:[]},i);if(f instanceof Promise)d.push(f),c=!0;else{if(f.issues.length===0)return f;d.push(f)}}return c?Promise.all(d).then(h=>u0(h,o,e,i)):u0(d,o,e,i)}}),Y5=oe("$ZodIntersection",(e,t)=>{Dt.init(e,t),e._zod.parse=(n,s)=>{const o=n.value,i=t.left._zod.run({value:o,issues:[]},s),c=t.right._zod.run({value:o,issues:[]},s);return i instanceof Promise||c instanceof Promise?Promise.all([i,c]).then(([h,f])=>f0(n,h,f)):f0(n,i,c)}});function Bp(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(bl(e)&&bl(t)){const n=Object.keys(t),s=Object.keys(e).filter(i=>n.indexOf(i)!==-1),o={...e,...t};for(const i of s){const c=Bp(e[i],t[i]);if(!c.valid)return{valid:!1,mergeErrorPath:[i,...c.mergeErrorPath]};o[i]=c.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<e.length;s++){const o=e[s],i=t[s],c=Bp(o,i);if(!c.valid)return{valid:!1,mergeErrorPath:[s,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function f0(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),ti(e))return e;const s=Bp(t.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const K5=oe("$ZodEnum",(e,t)=>{Dt.init(e,t);const n=nT(t.entries),s=new Set(n);e._zod.values=s,e._zod.pattern=new RegExp(`^(${n.filter(o=>aT.has(typeof o)).map(o=>typeof o=="string"?hu(o):o.toString()).join("|")})$`),e._zod.parse=(o,i)=>{const c=o.value;return s.has(c)||o.issues.push({code:"invalid_value",values:n,input:c,inst:e}),o}}),G5=oe("$ZodTransform",(e,t)=>{Dt.init(e,t),e._zod.parse=(n,s)=>{if(s.direction==="backward")throw new pw(e.constructor.name);const o=t.transform(n.value,n);if(s.async)return(o instanceof Promise?o:Promise.resolve(o)).then(c=>(n.value=c,n));if(o instanceof Promise)throw new ri;return n.value=o,n}});function h0(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Z5=oe("$ZodOptional",(e,t)=>{Dt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),dt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Dm(n.source)})?$`):void 0}),e._zod.parse=(n,s)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(n,s);return o instanceof Promise?o.then(i=>h0(i,n.value)):h0(o,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,s)}}),J5=oe("$ZodNullable",(e,t)=>{Dt.init(e,t),dt(e._zod,"optin",()=>t.innerType._zod.optin),dt(e._zod,"optout",()=>t.innerType._zod.optout),dt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Dm(n.source)}|null)$`):void 0}),dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,s)=>n.value===null?n:t.innerType._zod.run(n,s)}),X5=oe("$ZodDefault",(e,t)=>{Dt.init(e,t),e._zod.optin="optional",dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);if(n.value===void 0)return n.value=t.defaultValue,n;const o=t.innerType._zod.run(n,s);return o instanceof Promise?o.then(i=>p0(i,t)):p0(o,t)}});function p0(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Q5=oe("$ZodPrefault",(e,t)=>{Dt.init(e,t),e._zod.optin="optional",dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>(s.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,s))}),eD=oe("$ZodNonOptional",(e,t)=>{Dt.init(e,t),dt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),e._zod.parse=(n,s)=>{const o=t.innerType._zod.run(n,s);return o instanceof Promise?o.then(i=>m0(i,e)):m0(o,e)}});function m0(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const tD=oe("$ZodCatch",(e,t)=>{Dt.init(e,t),dt(e._zod,"optin",()=>t.innerType._zod.optin),dt(e._zod,"optout",()=>t.innerType._zod.optout),dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);const o=t.innerType._zod.run(n,s);return o instanceof Promise?o.then(i=>(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(c=>Ga(c,s,Ka()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(i=>Ga(i,s,Ka()))},input:n.value}),n.issues=[]),n)}}),nD=oe("$ZodPipe",(e,t)=>{Dt.init(e,t),dt(e._zod,"values",()=>t.in._zod.values),dt(e._zod,"optin",()=>t.in._zod.optin),dt(e._zod,"optout",()=>t.out._zod.optout),dt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,s)=>{if(s.direction==="backward"){const i=t.out._zod.run(n,s);return i instanceof Promise?i.then(c=>fd(c,t.in,s)):fd(i,t.in,s)}const o=t.in._zod.run(n,s);return o instanceof Promise?o.then(i=>fd(i,t.out,s)):fd(o,t.out,s)}});function fd(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const rD=oe("$ZodReadonly",(e,t)=>{Dt.init(e,t),dt(e._zod,"propValues",()=>t.innerType._zod.propValues),dt(e._zod,"values",()=>t.innerType._zod.values),dt(e._zod,"optin",()=>t.innerType._zod.optin),dt(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);const o=t.innerType._zod.run(n,s);return o instanceof Promise?o.then(g0):g0(o)}});function g0(e){return e.value=Object.freeze(e.value),e}const sD=oe("$ZodCustom",(e,t)=>{$n.init(e,t),Dt.init(e,t),e._zod.parse=(n,s)=>n,e._zod.check=n=>{const s=n.value,o=t.fn(s);if(o instanceof Promise)return o.then(i=>v0(i,n,s,e));v0(o,n,s,e)}});function v0(e,t,n,s){if(!e){const o={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(o.params=s._zod.def.params),t.issues.push(wl(o))}}class aD{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const s=n[0];if(this._map.set(t,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const s={...this.get(n)??{}};delete s.id;const o={...s,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function oD(){return new aD}const hd=oD();function iD(e,t){return new e({type:"string",...Ce(t)})}function lD(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ce(t)})}function x0(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ce(t)})}function cD(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ce(t)})}function dD(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ce(t)})}function uD(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ce(t)})}function fD(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ce(t)})}function hD(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ce(t)})}function pD(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ce(t)})}function mD(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ce(t)})}function gD(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ce(t)})}function vD(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ce(t)})}function xD(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ce(t)})}function yD(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ce(t)})}function bD(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ce(t)})}function wD(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ce(t)})}function kD(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ce(t)})}function jD(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ce(t)})}function ND(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ce(t)})}function SD(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ce(t)})}function ED(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ce(t)})}function _D(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ce(t)})}function CD(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ce(t)})}function TD(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ce(t)})}function DD(e,t){return new e({type:"string",format:"date",check:"string_format",...Ce(t)})}function PD(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ce(t)})}function RD(e,t){return new e({type:"string",format:"duration",check:"string_format",...Ce(t)})}function AD(e,t){return new e({type:"number",checks:[],...Ce(t)})}function ID(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ce(t)})}function OD(e,t){return new e({type:"boolean",...Ce(t)})}function FD(e){return new e({type:"unknown"})}function MD(e,t){return new e({type:"never",...Ce(t)})}function y0(e,t){return new Ew({check:"less_than",...Ce(t),value:e,inclusive:!1})}function Zh(e,t){return new Ew({check:"less_than",...Ce(t),value:e,inclusive:!0})}function b0(e,t){return new _w({check:"greater_than",...Ce(t),value:e,inclusive:!1})}function Jh(e,t){return new _w({check:"greater_than",...Ce(t),value:e,inclusive:!0})}function w0(e,t){return new e5({check:"multiple_of",...Ce(t),value:e})}function Rw(e,t){return new n5({check:"max_length",...Ce(t),maximum:e})}function zd(e,t){return new r5({check:"min_length",...Ce(t),minimum:e})}function Aw(e,t){return new s5({check:"length_equals",...Ce(t),length:e})}function LD(e,t){return new a5({check:"string_format",format:"regex",...Ce(t),pattern:e})}function zD(e){return new o5({check:"string_format",format:"lowercase",...Ce(e)})}function $D(e){return new i5({check:"string_format",format:"uppercase",...Ce(e)})}function BD(e,t){return new l5({check:"string_format",format:"includes",...Ce(t),includes:e})}function UD(e,t){return new c5({check:"string_format",format:"starts_with",...Ce(t),prefix:e})}function VD(e,t){return new d5({check:"string_format",format:"ends_with",...Ce(t),suffix:e})}function Ml(e){return new u5({check:"overwrite",tx:e})}function WD(e){return Ml(t=>t.normalize(e))}function HD(){return Ml(e=>e.trim())}function qD(){return Ml(e=>e.toLowerCase())}function YD(){return Ml(e=>e.toUpperCase())}function KD(e,t,n){return new e({type:"array",element:t,...Ce(n)})}function GD(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Ce(n)})}function ZD(e){const t=JD(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(wl(s,n.value,t._zod.def));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),n.issues.push(wl(o))}},e(n.value,n)));return t}function JD(e,t){const n=new $n({check:"custom",...Ce(t)});return n._zod.check=e,n}const XD=oe("ZodISODateTime",(e,t)=>{S5.init(e,t),wt.init(e,t)});function QD(e){return TD(XD,e)}const e4=oe("ZodISODate",(e,t)=>{E5.init(e,t),wt.init(e,t)});function t4(e){return DD(e4,e)}const n4=oe("ZodISOTime",(e,t)=>{_5.init(e,t),wt.init(e,t)});function r4(e){return PD(n4,e)}const s4=oe("ZodISODuration",(e,t)=>{C5.init(e,t),wt.init(e,t)});function a4(e){return RD(s4,e)}const o4=(e,t)=>{bw.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>gT(e,n)},flatten:{value:n=>mT(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,$p,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,$p,2)}},isEmpty:{get(){return e.issues.length===0}}})},gr=oe("ZodError",o4,{Parent:Error}),i4=Rm(gr),l4=Am(gr),c4=pu(gr),d4=mu(gr),u4=yT(gr),f4=bT(gr),h4=wT(gr),p4=kT(gr),m4=jT(gr),g4=NT(gr),v4=ST(gr),x4=ET(gr),Mt=oe("ZodType",(e,t)=>(Dt.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(ao(t,{checks:[...t.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]})),e.clone=(n,s)=>xa(e,n,s),e.brand=()=>e,e.register=((n,s)=>(n.add(e,s),e)),e.parse=(n,s)=>i4(e,n,s,{callee:e.parse}),e.safeParse=(n,s)=>c4(e,n,s),e.parseAsync=async(n,s)=>l4(e,n,s,{callee:e.parseAsync}),e.safeParseAsync=async(n,s)=>d4(e,n,s),e.spa=e.safeParseAsync,e.encode=(n,s)=>u4(e,n,s),e.decode=(n,s)=>f4(e,n,s),e.encodeAsync=async(n,s)=>h4(e,n,s),e.decodeAsync=async(n,s)=>p4(e,n,s),e.safeEncode=(n,s)=>m4(e,n,s),e.safeDecode=(n,s)=>g4(e,n,s),e.safeEncodeAsync=async(n,s)=>v4(e,n,s),e.safeDecodeAsync=async(n,s)=>x4(e,n,s),e.refine=(n,s)=>e.check(lP(n,s)),e.superRefine=n=>e.check(cP(n)),e.overwrite=n=>e.check(Ml(n)),e.optional=()=>S0(e),e.nullable=()=>E0(e),e.nullish=()=>S0(E0(e)),e.nonoptional=n=>tP(e,n),e.array=()=>Gn(e),e.or=n=>H4([e,n]),e.and=n=>Y4(e,n),e.transform=n=>_0(e,G4(n)),e.default=n=>X4(e,n),e.prefault=n=>eP(e,n),e.catch=n=>rP(e,n),e.pipe=n=>_0(e,n),e.readonly=()=>oP(e),e.describe=n=>{const s=e.clone();return hd.add(s,{description:n}),s},Object.defineProperty(e,"description",{get(){return hd.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return hd.get(e);const s=e.clone();return hd.add(s,n[0]),s},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Iw=oe("_ZodString",(e,t)=>{Im.init(e,t),Mt.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...s)=>e.check(LD(...s)),e.includes=(...s)=>e.check(BD(...s)),e.startsWith=(...s)=>e.check(UD(...s)),e.endsWith=(...s)=>e.check(VD(...s)),e.min=(...s)=>e.check(zd(...s)),e.max=(...s)=>e.check(Rw(...s)),e.length=(...s)=>e.check(Aw(...s)),e.nonempty=(...s)=>e.check(zd(1,...s)),e.lowercase=s=>e.check(zD(s)),e.uppercase=s=>e.check($D(s)),e.trim=()=>e.check(HD()),e.normalize=(...s)=>e.check(WD(...s)),e.toLowerCase=()=>e.check(qD()),e.toUpperCase=()=>e.check(YD())}),y4=oe("ZodString",(e,t)=>{Im.init(e,t),Iw.init(e,t),e.email=n=>e.check(lD(b4,n)),e.url=n=>e.check(hD(w4,n)),e.jwt=n=>e.check(CD(F4,n)),e.emoji=n=>e.check(pD(k4,n)),e.guid=n=>e.check(x0(k0,n)),e.uuid=n=>e.check(cD(pd,n)),e.uuidv4=n=>e.check(dD(pd,n)),e.uuidv6=n=>e.check(uD(pd,n)),e.uuidv7=n=>e.check(fD(pd,n)),e.nanoid=n=>e.check(mD(j4,n)),e.guid=n=>e.check(x0(k0,n)),e.cuid=n=>e.check(gD(N4,n)),e.cuid2=n=>e.check(vD(S4,n)),e.ulid=n=>e.check(xD(E4,n)),e.base64=n=>e.check(SD(A4,n)),e.base64url=n=>e.check(ED(I4,n)),e.xid=n=>e.check(yD(_4,n)),e.ksuid=n=>e.check(bD(C4,n)),e.ipv4=n=>e.check(wD(T4,n)),e.ipv6=n=>e.check(kD(D4,n)),e.cidrv4=n=>e.check(jD(P4,n)),e.cidrv6=n=>e.check(ND(R4,n)),e.e164=n=>e.check(_D(O4,n)),e.datetime=n=>e.check(QD(n)),e.date=n=>e.check(t4(n)),e.time=n=>e.check(r4(n)),e.duration=n=>e.check(a4(n))});function fe(e){return iD(y4,e)}const wt=oe("ZodStringFormat",(e,t)=>{gt.init(e,t),Iw.init(e,t)}),b4=oe("ZodEmail",(e,t)=>{g5.init(e,t),wt.init(e,t)}),k0=oe("ZodGUID",(e,t)=>{p5.init(e,t),wt.init(e,t)}),pd=oe("ZodUUID",(e,t)=>{m5.init(e,t),wt.init(e,t)}),w4=oe("ZodURL",(e,t)=>{v5.init(e,t),wt.init(e,t)}),k4=oe("ZodEmoji",(e,t)=>{x5.init(e,t),wt.init(e,t)}),j4=oe("ZodNanoID",(e,t)=>{y5.init(e,t),wt.init(e,t)}),N4=oe("ZodCUID",(e,t)=>{b5.init(e,t),wt.init(e,t)}),S4=oe("ZodCUID2",(e,t)=>{w5.init(e,t),wt.init(e,t)}),E4=oe("ZodULID",(e,t)=>{k5.init(e,t),wt.init(e,t)}),_4=oe("ZodXID",(e,t)=>{j5.init(e,t),wt.init(e,t)}),C4=oe("ZodKSUID",(e,t)=>{N5.init(e,t),wt.init(e,t)}),T4=oe("ZodIPv4",(e,t)=>{T5.init(e,t),wt.init(e,t)}),D4=oe("ZodIPv6",(e,t)=>{D5.init(e,t),wt.init(e,t)}),P4=oe("ZodCIDRv4",(e,t)=>{P5.init(e,t),wt.init(e,t)}),R4=oe("ZodCIDRv6",(e,t)=>{R5.init(e,t),wt.init(e,t)}),A4=oe("ZodBase64",(e,t)=>{A5.init(e,t),wt.init(e,t)}),I4=oe("ZodBase64URL",(e,t)=>{O5.init(e,t),wt.init(e,t)}),O4=oe("ZodE164",(e,t)=>{F5.init(e,t),wt.init(e,t)}),F4=oe("ZodJWT",(e,t)=>{L5.init(e,t),wt.init(e,t)}),Ow=oe("ZodNumber",(e,t)=>{Tw.init(e,t),Mt.init(e,t),e.gt=(s,o)=>e.check(b0(s,o)),e.gte=(s,o)=>e.check(Jh(s,o)),e.min=(s,o)=>e.check(Jh(s,o)),e.lt=(s,o)=>e.check(y0(s,o)),e.lte=(s,o)=>e.check(Zh(s,o)),e.max=(s,o)=>e.check(Zh(s,o)),e.int=s=>e.check(j0(s)),e.safe=s=>e.check(j0(s)),e.positive=s=>e.check(b0(0,s)),e.nonnegative=s=>e.check(Jh(0,s)),e.negative=s=>e.check(y0(0,s)),e.nonpositive=s=>e.check(Zh(0,s)),e.multipleOf=(s,o)=>e.check(w0(s,o)),e.step=(s,o)=>e.check(w0(s,o)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function ia(e){return AD(Ow,e)}const M4=oe("ZodNumberFormat",(e,t)=>{z5.init(e,t),Ow.init(e,t)});function j0(e){return ID(M4,e)}const L4=oe("ZodBoolean",(e,t)=>{$5.init(e,t),Mt.init(e,t)});function kl(e){return OD(L4,e)}const z4=oe("ZodUnknown",(e,t)=>{B5.init(e,t),Mt.init(e,t)});function N0(){return FD(z4)}const $4=oe("ZodNever",(e,t)=>{U5.init(e,t),Mt.init(e,t)});function B4(e){return MD($4,e)}const U4=oe("ZodArray",(e,t)=>{V5.init(e,t),Mt.init(e,t),e.element=t.element,e.min=(n,s)=>e.check(zd(n,s)),e.nonempty=n=>e.check(zd(1,n)),e.max=(n,s)=>e.check(Rw(n,s)),e.length=(n,s)=>e.check(Aw(n,s)),e.unwrap=()=>e.element});function Gn(e,t){return KD(U4,e,t)}const V4=oe("ZodObject",(e,t)=>{H5.init(e,t),Mt.init(e,t),dt(e,"shape",()=>t.shape),e.keyof=()=>mr(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:N0()}),e.loose=()=>e.clone({...e._zod.def,catchall:N0()}),e.strict=()=>e.clone({...e._zod.def,catchall:B4()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>dT(e,n),e.safeExtend=n=>uT(e,n),e.merge=n=>fT(e,n),e.pick=n=>lT(e,n),e.omit=n=>cT(e,n),e.partial=(...n)=>hT(Fw,e,n[0]),e.required=(...n)=>pT(Mw,e,n[0])});function pr(e,t){const n={type:"object",shape:e??{},...Ce(t)};return new V4(n)}const W4=oe("ZodUnion",(e,t)=>{q5.init(e,t),Mt.init(e,t),e.options=t.options});function H4(e,t){return new W4({type:"union",options:e,...Ce(t)})}const q4=oe("ZodIntersection",(e,t)=>{Y5.init(e,t),Mt.init(e,t)});function Y4(e,t){return new q4({type:"intersection",left:e,right:t})}const Up=oe("ZodEnum",(e,t)=>{K5.init(e,t),Mt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(s,o)=>{const i={};for(const c of s)if(n.has(c))i[c]=t.entries[c];else throw new Error(`Key ${c} not found in enum`);return new Up({...t,checks:[],...Ce(o),entries:i})},e.exclude=(s,o)=>{const i={...t.entries};for(const c of s)if(n.has(c))delete i[c];else throw new Error(`Key ${c} not found in enum`);return new Up({...t,checks:[],...Ce(o),entries:i})}});function mr(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(s=>[s,s])):e;return new Up({type:"enum",entries:n,...Ce(t)})}const K4=oe("ZodTransform",(e,t)=>{G5.init(e,t),Mt.init(e,t),e._zod.parse=(n,s)=>{if(s.direction==="backward")throw new pw(e.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(wl(i,n.value,t));else{const c=i;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=e),n.issues.push(wl(c))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(i=>(n.value=i,n)):(n.value=o,n)}});function G4(e){return new K4({type:"transform",transform:e})}const Fw=oe("ZodOptional",(e,t)=>{Z5.init(e,t),Mt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function S0(e){return new Fw({type:"optional",innerType:e})}const Z4=oe("ZodNullable",(e,t)=>{J5.init(e,t),Mt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function E0(e){return new Z4({type:"nullable",innerType:e})}const J4=oe("ZodDefault",(e,t)=>{X5.init(e,t),Mt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function X4(e,t){return new J4({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():vw(t)}})}const Q4=oe("ZodPrefault",(e,t)=>{Q5.init(e,t),Mt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function eP(e,t){return new Q4({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():vw(t)}})}const Mw=oe("ZodNonOptional",(e,t)=>{eD.init(e,t),Mt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function tP(e,t){return new Mw({type:"nonoptional",innerType:e,...Ce(t)})}const nP=oe("ZodCatch",(e,t)=>{tD.init(e,t),Mt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function rP(e,t){return new nP({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const sP=oe("ZodPipe",(e,t)=>{nD.init(e,t),Mt.init(e,t),e.in=t.in,e.out=t.out});function _0(e,t){return new sP({type:"pipe",in:e,out:t})}const aP=oe("ZodReadonly",(e,t)=>{rD.init(e,t),Mt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function oP(e){return new aP({type:"readonly",innerType:e})}const iP=oe("ZodCustom",(e,t)=>{sD.init(e,t),Mt.init(e,t)});function lP(e,t={}){return GD(iP,e,t)}function cP(e){return ZD(e)}pr({id:fe().uuid(),email:fe().email(),displayName:fe().optional(),avatarUrl:fe().url().optional(),role:mr(["landlord","property_agent","tenant","staff","admin"]).optional(),createdAt:fe().datetime().optional(),updatedAt:fe().datetime().optional()});const dP=pr({userId:fe().uuid(),role:mr(["landlord","property_agent","tenant","staff","admin"]),permissions:Gn(fe()).optional(),joinedAt:fe().datetime().optional()}),Lw=pr({id:fe().uuid(),name:fe().min(1,"Villa name is required").max(100),description:fe().optional(),address:fe().optional(),mainImage:fe().url().optional(),images:Gn(fe().url()).optional(),amenities:Gn(fe()).optional(),ownerId:fe().uuid(),status:mr(["active","maintenance","inactive"]).default("active"),users:Gn(dP).optional(),createdAt:fe().datetime().optional(),updatedAt:fe().datetime().optional()}),zw=pr({id:fe().uuid(),villaId:fe().uuid(),title:fe().min(1,"Task title is required").max(200),description:fe().optional(),status:mr(["pending","in_progress","completed","cancelled"]).default("pending"),priority:mr(["low","medium","high","urgent"]).default("medium"),assignedTo:fe().uuid().optional(),createdBy:fe().uuid(),dueDate:fe().datetime().optional(),completedAt:fe().datetime().optional(),tags:Gn(fe()).optional(),attachments:Gn(fe().url()).optional(),createdAt:fe().datetime().optional(),updatedAt:fe().datetime().optional()}),uP=pr({description:fe().min(1,"Item description is required"),quantity:ia().positive("Quantity must be positive"),unitPrice:ia().nonnegative("Unit price cannot be negative"),total:ia().nonnegative("Total cannot be negative")}),$w=pr({id:fe().uuid(),villaId:fe().uuid(),category:mr(["maintenance","utilities","supplies","services","other"]),amount:ia().positive("Amount must be positive"),currency:fe().length(3,"Currency code must be 3 characters").default("USD"),description:fe().min(1,"Description is required").max(500),vendor:fe().optional(),invoiceNumber:fe().optional(),items:Gn(uP).optional(),date:fe().datetime(),paidBy:fe().uuid(),approvedBy:fe().uuid().optional(),status:mr(["pending","approved","rejected","paid"]).default("pending"),attachments:Gn(fe().url()).optional(),notes:fe().optional(),createdAt:fe().datetime().optional(),updatedAt:fe().datetime().optional()});pr({id:fe().uuid(),villaId:fe().uuid(),userId:fe().uuid(),name:fe().min(1,"Name is required").max(100),role:fe().min(1,"Role is required").max(50),phone:fe().regex(/^\+?[1-9]\d{1,14}$/,"Invalid phone number").optional(),email:fe().email().optional(),employmentType:mr(["full-time","part-time","contract","seasonal"]),startDate:fe().datetime(),endDate:fe().datetime().optional(),salary:ia().nonnegative("Salary cannot be negative").optional(),emergencyContact:pr({name:fe(),phone:fe(),relationship:fe()}).optional(),documents:Gn(fe().url()).optional(),active:kl().default(!0),createdAt:fe().datetime().optional(),updatedAt:fe().datetime().optional()});pr({id:fe().uuid(),villaId:fe().uuid(),title:fe().min(1,"Event title is required").max(200),description:fe().optional(),type:mr(["booking","maintenance","inspection","meeting","other"]),startDate:fe().datetime(),endDate:fe().datetime(),allDay:kl().default(!1),location:fe().optional(),attendees:Gn(fe().uuid()).optional(),createdBy:fe().uuid(),recurring:kl().default(!1),recurrenceRule:fe().optional(),color:fe().regex(/^#[0-9A-F]{6}$/i,"Invalid color format").optional(),reminders:Gn(pr({type:mr(["email","push","sms"]),minutesBefore:ia().positive()})).optional(),createdAt:fe().datetime().optional(),updatedAt:fe().datetime().optional()});pr({id:fe().uuid(),villaId:fe().uuid().optional(),senderId:fe().uuid(),recipientId:fe().uuid().optional(),channelId:fe().uuid().optional(),content:fe().min(1,"Message content is required").max(5e3),type:mr(["text","image","file","system"]).default("text"),attachments:Gn(pr({url:fe().url(),type:fe(),name:fe(),size:ia()})).optional(),isRead:kl().default(!1),isEdited:kl().default(!1),editedAt:fe().datetime().optional(),deletedAt:fe().datetime().optional(),createdAt:fe().datetime().optional()});Lw.omit({id:!0,createdAt:!0,updatedAt:!0,users:!0}).extend({name:fe().min(1,"Villa name is required").max(100),ownerId:fe().uuid().optional()});Lw.partial().omit({id:!0,createdAt:!0,updatedAt:!0});zw.omit({id:!0,createdAt:!0,updatedAt:!0,completedAt:!0}).extend({title:fe().min(1,"Task title is required").max(200),villaId:fe().uuid()});zw.partial().omit({id:!0,villaId:!0,createdBy:!0,createdAt:!0,updatedAt:!0});$w.omit({id:!0,createdAt:!0,updatedAt:!0,approvedBy:!0}).extend({amount:ia().positive("Amount must be positive"),description:fe().min(1,"Description is required").max(500),villaId:fe().uuid()});$w.partial().omit({id:!0,villaId:!0,paidBy:!0,createdAt:!0,updatedAt:!0});const C0=`${jm()}/functions/v1/make-server-41a1615d`;class fP{requests=new Map;maxRequests=60;windowMs=6e4;canMakeRequest(t){const n=Date.now(),o=(this.requests.get(t)||[]).filter(i=>n-i<this.windowMs);return o.length>=this.maxRequests?!1:(o.push(n),this.requests.set(t,o),!0)}getRemainingTime(t){const n=this.requests.get(t)||[];if(n.length===0)return 0;const s=Math.min(...n);return Math.max(0,this.windowMs-(Date.now()-s))}}const T0=new fP;async function de(e,t={},n=!0){if(!T0.canMakeRequest(e)){const i=T0.getRemainingTime(e);throw new Error(`Rate limit exceeded. Please wait ${Math.ceil(i/1e3)} seconds.`)}const s={"Content-Type":"application/json",...t.headers};if(n)try{const i=await Fn.getAccessToken();if(i)s.Authorization=`Bearer ${i}`;else throw new Error("Authentication required. Please sign in.")}catch(i){throw console.error("Failed to get access token:",i),new Error("Authentication failed. Please sign in again.")}else s.Authorization=`Bearer ${km()}`;const o=t.method?.toUpperCase()||"GET";["POST","PUT","DELETE","PATCH"].includes(o)&&(s["X-CSRF-Token"]=tT.getToken());try{const i=await fetch(`${C0}${e}`,{...t,headers:s});if(i.status===401&&n){const d=await Fn.refreshSession();if(d){s.Authorization=`Bearer ${d.access_token}`;const h=await fetch(`${C0}${e}`,{...t,headers:s}),f=await h.json();if(!h.ok)throw Fn.handleAuthError({status:h.status}),new Error(f.error||"Authentication failed");return f}else Fn.handleAuthError({status:401})}const c=await i.json();if(!i.ok)throw console.error(`API Error [${e}]:`,c),i.status===401?(Fn.handleAuthError({status:401}),new Error("Your session has expired. Please sign in again.")):i.status===403?new Error("You do not have permission to perform this action."):i.status===404?new Error("The requested resource was not found."):i.status===429?new Error("Too many requests. Please wait a moment and try again."):i.status>=500?new Error("Server error. Please try again later."):new Error(c.error||"An unexpected error occurred. Please try again.");return c}catch(i){throw i instanceof Error&&i.message.includes("JWT expired")&&Fn.handleAuthError(i),i}}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pP=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),D0=e=>{const t=pP(e);return t.charAt(0).toUpperCase()+t.slice(1)},Bw=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:i,iconNode:c,...d},h)=>v.createElement("svg",{ref:h,...mP,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:Bw("lucide",o),...d},[...c.map(([f,m])=>v.createElement(f,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(e,t)=>{const n=v.forwardRef(({className:s,...o},i)=>v.createElement(gP,{ref:i,iconNode:t,className:Bw(`lucide-${hP(D0(e))}`,`lucide-${e}`,s),...o}));return n.displayName=D0(e),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],P0=me("activity",vP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],yP=me("arrow-down",xP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_d=me("arrow-left",bP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],kP=me("arrow-right",wP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],NP=me("arrow-up-down",jP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],EP=me("arrow-up",SP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],oo=me("bell",_P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Vp=me("bookmark",CP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Om=me("briefcase",TP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],bn=me("building-2",DP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tt=me("calendar",PP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],AP=me("camera",RP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],OP=me("chart-column",IP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jl=me("check",FP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],vu=me("chevron-down",MP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Jn=me("chevron-left",LP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hi=me("chevron-right",zP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],BP=me("chevron-up",$P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Fm=me("circle-alert",UP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ln=me("circle-check-big",VP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Uw=me("circle-check",WP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$d=me("circle-x",HP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],YP=me("circle",qP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],GP=me("clipboard-list",KP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],er=me("clock",ZP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Mm=me("copy",JP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],QP=me("database",XP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Or=me("dollar-sign",eR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],nR=me("download",tR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],sR=me("ellipsis-vertical",rR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],oR=me("eye-off",aR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vw=me("eye",iR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fr=me("file-text",lR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],dR=me("flag",cR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],io=me("funnel",uR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ww=me("globe",fR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],pR=me("grip-vertical",hR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],xu=me("house",mR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Hw=me("image",gR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Lm=me("info",vR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],yR=me("layout-dashboard",xR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ua=me("loader-circle",bR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],kR=me("log-in",wR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],zm=me("log-out",jR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],yu=me("mail",NR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qa=me("map-pin",SR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],_R=me("maximize-2",ER);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],TR=me("menu",CR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Wp=me("message-circle",DR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Bd=me("message-square",PR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],AR=me("minimize-2",RR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],$m=me("monitor",IR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Ud=me("moon",OR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],MR=me("palette",FR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Xh=me("panels-top-left",LR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],$R=me("paperclip",zR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Bm=me("phone",BR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bt=me("plus",UR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],si=me("receipt",VR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],HR=me("refresh-ccw",WR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Um=me("refresh-cw",qR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],qw=me("rotate-ccw",YR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],GR=me("save",KR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ds=me("search",ZR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Vm=me("send",JR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Wm=me("settings",XR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],eA=me("share-2",QR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Yw=me("shield",tA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ya=me("square-check-big",nA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Kw=me("square-pen",rA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Vd=me("sun",sA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Wd=me("trash-2",aA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],iA=me("trending-down",oA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ll=me("trending-up",lA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nl=me("triangle-alert",cA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M22 12a10.06 10.06 1 0 0-20 0Z",key:"1teyop"}],["path",{d:"M12 12v8a2 2 0 0 0 4 0",key:"ulpmoc"}],["path",{d:"M12 2v1",key:"11qlp1"}]],uA=me("umbrella",dA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Gw=me("upload",fA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],pA=me("user-check",hA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Hm=me("user-plus",mA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],vA=me("user-x",gA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cs=me("user",xA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],wn=me("users",yA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],wA=me("wallet",bA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fa=me("x",kA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Hd=me("zap",jA);function R0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function bu(...e){return t=>{let n=!1;const s=e.map(o=>{const i=R0(o,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<s.length;o++){const i=s[o];typeof i=="function"?i():R0(e[o],null)}}}}function Ue(...e){return v.useCallback(bu(...e),e)}function Za(e){const t=NA(e),n=v.forwardRef((s,o)=>{const{children:i,...c}=s,d=v.Children.toArray(i),h=d.find(EA);if(h){const f=h.props.children,m=d.map(p=>p===h?v.Children.count(f)>1?v.Children.only(null):v.isValidElement(f)?f.props.children:null:p);return r.jsx(t,{...c,ref:o,children:v.isValidElement(f)?v.cloneElement(f,void 0,m):null})}return r.jsx(t,{...c,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}var Zw=Za("Slot");function NA(e){const t=v.forwardRef((n,s)=>{const{children:o,...i}=n;if(v.isValidElement(o)){const c=CA(o),d=_A(i,o.props);return o.type!==v.Fragment&&(d.ref=s?bu(s,c):c),v.cloneElement(o,d)}return v.Children.count(o)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SA=Symbol("radix.slottable");function EA(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SA}function _A(e,t){const n={...t};for(const s in t){const o=e[s],i=t[s];/^on[A-Z]/.test(s)?o&&i?n[s]=(...d)=>{const h=i(...d);return o(...d),h}:o&&(n[s]=o):s==="style"?n[s]={...o,...i}:s==="className"&&(n[s]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function CA(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Jw(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Jw(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Xw(){for(var e,t,n=0,s="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Jw(e))&&(s&&(s+=" "),s+=t);return s}const A0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,I0=Xw,Qw=(e,t)=>n=>{var s;if(t?.variants==null)return I0(e,n?.class,n?.className);const{variants:o,defaultVariants:i}=t,c=Object.keys(o).map(f=>{const m=n?.[f],p=i?.[f];if(m===null)return null;const x=A0(m)||A0(p);return o[f][x]}),d=n&&Object.entries(n).reduce((f,m)=>{let[p,x]=m;return x===void 0||(f[p]=x),f},{}),h=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((f,m)=>{let{class:p,className:x,...b}=m;return Object.entries(b).every(w=>{let[k,N]=w;return Array.isArray(N)?N.includes({...i,...d}[k]):{...i,...d}[k]===N})?[...f,p,x]:f},[]);return I0(e,c,h,n?.class,n?.className)},qm="-",TA=e=>{const t=PA(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:c=>{const d=c.split(qm);return d[0]===""&&d.length!==1&&d.shift(),ek(d,t)||DA(c)},getConflictingClassGroupIds:(c,d)=>{const h=n[c]||[];return d&&s[c]?[...h,...s[c]]:h}}},ek=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),o=s?ek(e.slice(1),s):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(qm);return t.validators.find(({validator:c})=>c(i))?.classGroupId},O0=/^\[(.+)\]$/,DA=e=>{if(O0.test(e)){const t=O0.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},PA=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const o in n)Hp(n[o],s,o,t);return s},Hp=(e,t,n,s)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:F0(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(RA(o)){Hp(o(s),t,n,s);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,c])=>{Hp(c,F0(t,i),n,s)})})},F0=(e,t)=>{let n=e;return t.split(qm).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},RA=e=>e.isThemeGetter,AA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const o=(i,c)=>{n.set(i,c),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let c=n.get(i);if(c!==void 0)return c;if((c=s.get(i))!==void 0)return o(i,c),c},set(i,c){n.has(i)?n.set(i,c):o(i,c)}}},qp="!",Yp=":",IA=Yp.length,OA=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=o=>{const i=[];let c=0,d=0,h=0,f;for(let w=0;w<o.length;w++){let k=o[w];if(c===0&&d===0){if(k===Yp){i.push(o.slice(h,w)),h=w+IA;continue}if(k==="/"){f=w;continue}}k==="["?c++:k==="]"?c--:k==="("?d++:k===")"&&d--}const m=i.length===0?o:o.substring(h),p=FA(m),x=p!==m,b=f&&f>h?f-h:void 0;return{modifiers:i,hasImportantModifier:x,baseClassName:p,maybePostfixModifierPosition:b}};if(t){const o=t+Yp,i=s;s=c=>c.startsWith(o)?i(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const o=s;s=i=>n({className:i,parseClassName:o})}return s},FA=e=>e.endsWith(qp)?e.substring(0,e.length-1):e.startsWith(qp)?e.substring(1):e,MA=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let i=[];return s.forEach(c=>{c[0]==="["||t[c]?(o.push(...i.sort(),c),i=[]):i.push(c)}),o.push(...i.sort()),o}},LA=e=>({cache:AA(e.cacheSize),parseClassName:OA(e),sortModifiers:MA(e),...TA(e)}),zA=/\s+/,$A=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:i}=t,c=[],d=e.trim().split(zA);let h="";for(let f=d.length-1;f>=0;f-=1){const m=d[f],{isExternal:p,modifiers:x,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:k}=n(m);if(p){h=m+(h.length>0?" "+h:h);continue}let N=!!k,E=s(N?w.substring(0,k):w);if(!E){if(!N){h=m+(h.length>0?" "+h:h);continue}if(E=s(w),!E){h=m+(h.length>0?" "+h:h);continue}N=!1}const S=i(x).join(":"),C=b?S+qp:S,D=C+E;if(c.includes(D))continue;c.push(D);const _=o(E,N);for(let A=0;A<_.length;++A){const P=_[A];c.push(C+P)}h=m+(h.length>0?" "+h:h)}return h};function BA(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=tk(t))&&(s&&(s+=" "),s+=n);return s}const tk=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=tk(e[s]))&&(n&&(n+=" "),n+=t);return n};function UA(e,...t){let n,s,o,i=c;function c(h){const f=t.reduce((m,p)=>p(m),e());return n=LA(f),s=n.cache.get,o=n.cache.set,i=d,d(h)}function d(h){const f=s(h);if(f)return f;const m=$A(h,n);return o(h,m),m}return function(){return i(BA.apply(null,arguments))}}const Ut=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},nk=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,VA=/^\d+\/\d+$/,WA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,YA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ko=e=>VA.test(e),$e=e=>!!e&&!Number.isNaN(Number(e)),ta=e=>!!e&&Number.isInteger(Number(e)),Qh=e=>e.endsWith("%")&&$e(e.slice(0,-1)),Ns=e=>WA.test(e),GA=()=>!0,ZA=e=>HA.test(e)&&!qA.test(e),sk=()=>!1,JA=e=>YA.test(e),XA=e=>KA.test(e),QA=e=>!je(e)&&!Ne(e),eI=e=>pi(e,ik,sk),je=e=>nk.test(e),za=e=>pi(e,lk,ZA),ep=e=>pi(e,aI,$e),M0=e=>pi(e,ak,sk),tI=e=>pi(e,ok,XA),md=e=>pi(e,ck,JA),Ne=e=>rk.test(e),al=e=>mi(e,lk),nI=e=>mi(e,oI),L0=e=>mi(e,ak),rI=e=>mi(e,ik),sI=e=>mi(e,ok),gd=e=>mi(e,ck,!0),pi=(e,t,n)=>{const s=nk.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},mi=(e,t,n=!1)=>{const s=rk.exec(e);return s?s[1]?t(s[1]):n:!1},ak=e=>e==="position"||e==="percentage",ok=e=>e==="image"||e==="url",ik=e=>e==="length"||e==="size"||e==="bg-size",lk=e=>e==="length",aI=e=>e==="number",oI=e=>e==="family-name",ck=e=>e==="shadow",iI=()=>{const e=Ut("color"),t=Ut("font"),n=Ut("text"),s=Ut("font-weight"),o=Ut("tracking"),i=Ut("leading"),c=Ut("breakpoint"),d=Ut("container"),h=Ut("spacing"),f=Ut("radius"),m=Ut("shadow"),p=Ut("inset-shadow"),x=Ut("text-shadow"),b=Ut("drop-shadow"),w=Ut("blur"),k=Ut("perspective"),N=Ut("aspect"),E=Ut("ease"),S=Ut("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...D(),Ne,je],A=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],F=()=>[Ne,je,h],W=()=>[Ko,"full","auto",...F()],U=()=>[ta,"none","subgrid",Ne,je],G=()=>["auto",{span:["full",ta,Ne,je]},ta,Ne,je],ne=()=>[ta,"auto",Ne,je],V=()=>["auto","min","max","fr",Ne,je],re=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],pe=()=>["start","end","center","stretch","center-safe","end-safe"],se=()=>["auto",...F()],q=()=>[Ko,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],M=()=>[e,Ne,je],X=()=>[...D(),L0,M0,{position:[Ne,je]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",rI,eI,{size:[Ne,je]}],R=()=>[Qh,al,za],O=()=>["","none","full",f,Ne,je],z=()=>["",$e,al,za],H=()=>["solid","dashed","dotted","double"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[$e,Qh,L0,M0],ie=()=>["","none",w,Ne,je],be=()=>["none",$e,Ne,je],ge=()=>["none",$e,Ne,je],Ae=()=>[$e,Ne,je],Oe=()=>[Ko,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ns],breakpoint:[Ns],color:[GA],container:[Ns],"drop-shadow":[Ns],ease:["in","out","in-out"],font:[QA],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ns],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ns],shadow:[Ns],spacing:["px",$e],text:[Ns],"text-shadow":[Ns],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ko,je,Ne,N]}],container:["container"],columns:[{columns:[$e,je,Ne,d]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[ta,"auto",Ne,je]}],basis:[{basis:[Ko,"full","auto",d,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,Ko,"auto","initial","none",je]}],grow:[{grow:["",$e,Ne,je]}],shrink:[{shrink:["",$e,Ne,je]}],order:[{order:[ta,"first","last","none",Ne,je]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:G()}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:G()}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...re(),"normal"]}],"justify-items":[{"justify-items":[...pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...pe()]}],"align-content":[{content:["normal",...re()]}],"align-items":[{items:[...pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":re()}],"place-items":[{"place-items":[...pe(),"baseline"]}],"place-self":[{"place-self":["auto",...pe()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:se()}],mx:[{mx:se()}],my:[{my:se()}],ms:[{ms:se()}],me:[{me:se()}],mt:[{mt:se()}],mr:[{mr:se()}],mb:[{mb:se()}],ml:[{ml:se()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[d,"screen",...q()]}],"min-w":[{"min-w":[d,"screen","none",...q()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,al,za]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ne,ep]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Qh,je]}],"font-family":[{font:[nI,je,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ne,je]}],"line-clamp":[{"line-clamp":[$e,"none",Ne,ep]}],leading:[{leading:[i,...F()]}],"list-image":[{"list-image":["none",Ne,je]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,je]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",Ne,za]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[$e,"auto",Ne,je]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ta,Ne,je],radial:["",Ne,je],conic:[ta,Ne,je]},sI,tI]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:R()}],"gradient-via-pos":[{via:R()}],"gradient-to-pos":[{to:R()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:O()}],"rounded-s":[{"rounded-s":O()}],"rounded-e":[{"rounded-e":O()}],"rounded-t":[{"rounded-t":O()}],"rounded-r":[{"rounded-r":O()}],"rounded-b":[{"rounded-b":O()}],"rounded-l":[{"rounded-l":O()}],"rounded-ss":[{"rounded-ss":O()}],"rounded-se":[{"rounded-se":O()}],"rounded-ee":[{"rounded-ee":O()}],"rounded-es":[{"rounded-es":O()}],"rounded-tl":[{"rounded-tl":O()}],"rounded-tr":[{"rounded-tr":O()}],"rounded-br":[{"rounded-br":O()}],"rounded-bl":[{"rounded-bl":O()}],"border-w":[{border:z()}],"border-w-x":[{"border-x":z()}],"border-w-y":[{"border-y":z()}],"border-w-s":[{"border-s":z()}],"border-w-e":[{"border-e":z()}],"border-w-t":[{"border-t":z()}],"border-w-r":[{"border-r":z()}],"border-w-b":[{"border-b":z()}],"border-w-l":[{"border-l":z()}],"divide-x":[{"divide-x":z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,Ne,je]}],"outline-w":[{outline:["",$e,al,za]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",m,gd,md]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",p,gd,md]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[$e,za]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":z()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",x,gd,md]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[$e,Ne,je]}],"mix-blend":[{"mix-blend":[...Q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[Ne,je]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,je]}],filter:[{filter:["","none",Ne,je]}],blur:[{blur:ie()}],brightness:[{brightness:[$e,Ne,je]}],contrast:[{contrast:[$e,Ne,je]}],"drop-shadow":[{"drop-shadow":["","none",b,gd,md]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",$e,Ne,je]}],"hue-rotate":[{"hue-rotate":[$e,Ne,je]}],invert:[{invert:["",$e,Ne,je]}],saturate:[{saturate:[$e,Ne,je]}],sepia:[{sepia:["",$e,Ne,je]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,je]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[$e,Ne,je]}],"backdrop-contrast":[{"backdrop-contrast":[$e,Ne,je]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,Ne,je]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,Ne,je]}],"backdrop-invert":[{"backdrop-invert":["",$e,Ne,je]}],"backdrop-opacity":[{"backdrop-opacity":[$e,Ne,je]}],"backdrop-saturate":[{"backdrop-saturate":[$e,Ne,je]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,Ne,je]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,je]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",Ne,je]}],ease:[{ease:["linear","initial",E,Ne,je]}],delay:[{delay:[$e,Ne,je]}],animate:[{animate:["none",S,Ne,je]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,Ne,je]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:be()}],"rotate-x":[{"rotate-x":be()}],"rotate-y":[{"rotate-y":be()}],"rotate-z":[{"rotate-z":be()}],scale:[{scale:ge()}],"scale-x":[{"scale-x":ge()}],"scale-y":[{"scale-y":ge()}],"scale-z":[{"scale-z":ge()}],"scale-3d":["scale-3d"],skew:[{skew:Ae()}],"skew-x":[{"skew-x":Ae()}],"skew-y":[{"skew-y":Ae()}],transform:[{transform:[Ne,je,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Oe()}],"translate-x":[{"translate-x":Oe()}],"translate-y":[{"translate-y":Oe()}],"translate-z":[{"translate-z":Oe()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,je]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,je]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[$e,al,za,ep]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},lI=UA(iI);function Ie(...e){return lI(Xw(e))}const Kp=Qw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),ze=v.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...o},i)=>{const c=s?Zw:"button";return r.jsx(c,{ref:i,"data-slot":"button",className:Ie(Kp({variant:t,size:n,className:e})),...o})});ze.displayName="Button";class cI extends te.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),this.setState({errorInfo:n}),this.props.onError&&this.props.onError(t,n),window.location.hostname!=="localhost"&&console.error("Production error logged:",{error:t.toString(),componentStack:n.componentStack,timestamp:new Date().toISOString()})}resetError=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError&&this.state.error?this.props.fallback?this.props.fallback(this.state.error,this.resetError):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F8F8F8] p-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Nl,{className:"w-8 h-8 text-red-600"})}),r.jsx("h1",{className:"text-2xl font-bold text-[#1F1F1F] mb-2",children:"Oops! Something went wrong"}),r.jsx("p",{className:"text-[#6E6B7B] mb-6",children:"We encountered an unexpected error. The issue has been logged and we'll look into it."}),!1,r.jsxs("div",{className:"flex gap-3 justify-center",children:[r.jsxs(ze,{variant:"outline",onClick:this.resetError,className:"gap-2",children:[r.jsx(Um,{className:"w-4 h-4"}),"Try Again"]}),r.jsxs(ze,{onClick:()=>window.location.href="/",className:"gap-2",children:[r.jsx(xu,{className:"w-4 h-4"}),"Go Home"]})]})]})}):this.props.children}}var rs=Hb();const dk=ym(rs);function dI(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const uI=e=>{switch(e){case"success":return pI;case"info":return gI;case"warning":return mI;case"error":return vI;default:return null}},fI=Array(12).fill(0),hI=({visible:e,className:t})=>te.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},te.createElement("div",{className:"sonner-spinner"},fI.map((n,s)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),pI=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mI=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gI=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vI=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xI=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),yI=()=>{const[e,t]=te.useState(document.hidden);return te.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let Gp=1;class bI{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:s,...o}=t,i=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Gp++,c=this.toasts.find(h=>h.id===i),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),c?this.toasts=this.toasts.map(h=>h.id===i?(this.publish({...h,...t,id:i,title:s}),{...h,...t,id:i,dismissible:d,title:s}):h):this.addToast({title:s,...o,dismissible:d,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let i=s!==void 0,c;const d=o.then(async f=>{if(c=["resolve",f],te.isValidElement(f))i=!1,this.create({id:s,type:"default",message:f});else if(kI(f)&&!f.ok){i=!1;const p=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,w=typeof p=="object"&&!te.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:x,...w})}else if(f instanceof Error){i=!1;const p=typeof n.error=="function"?await n.error(f):n.error,x=typeof n.description=="function"?await n.description(f):n.description,w=typeof p=="object"&&!te.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:x,...w})}else if(n.success!==void 0){i=!1;const p=typeof n.success=="function"?await n.success(f):n.success,x=typeof n.description=="function"?await n.description(f):n.description,w=typeof p=="object"&&!te.isValidElement(p)?p:{message:p};this.create({id:s,type:"success",description:x,...w})}}).catch(async f=>{if(c=["reject",f],n.error!==void 0){i=!1;const m=typeof n.error=="function"?await n.error(f):n.error,p=typeof n.description=="function"?await n.description(f):n.description,b=typeof m=="object"&&!te.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:p,...b})}}).finally(()=>{i&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),h=()=>new Promise((f,m)=>d.then(()=>c[0]==="reject"?m(c[1]):f(c[1])).catch(m));return typeof s!="string"&&typeof s!="number"?{unwrap:h}:Object.assign(s,{unwrap:h})},this.custom=(t,n)=>{const s=n?.id||Gp++;return this.create({jsx:t(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const On=new bI,wI=(e,t)=>{const n=t?.id||Gp++;return On.addToast({title:e,...t,id:n}),n},kI=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",jI=wI,NI=()=>On.toasts,SI=()=>On.getActiveToasts(),K=Object.assign(jI,{success:On.success,info:On.info,warning:On.warning,error:On.error,custom:On.custom,message:On.message,promise:On.promise,dismiss:On.dismiss,loading:On.loading},{getHistory:NI,getToasts:SI});dI("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function vd(e){return e.label!==void 0}const EI=3,_I="24px",CI="16px",z0=4e3,TI=356,DI=14,PI=45,RI=200;function es(...e){return e.filter(Boolean).join(" ")}function AI(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const II=e=>{var t,n,s,o,i,c,d,h,f;const{invert:m,toast:p,unstyled:x,interacting:b,setHeights:w,visibleToasts:k,heights:N,index:E,toasts:S,expanded:C,removeToast:D,defaultRichColors:_,closeButton:A,style:P,cancelButtonStyle:F,actionButtonStyle:W,className:U="",descriptionClassName:G="",duration:ne,position:V,gap:re,expandByDefault:pe,classNames:se,icons:q,closeButtonAriaLabel:M="Close toast"}=e,[X,ae]=te.useState(null),[I,R]=te.useState(null),[O,z]=te.useState(!1),[H,Q]=te.useState(!1),[J,ie]=te.useState(!1),[be,ge]=te.useState(!1),[Ae,Oe]=te.useState(!1),[ot,ft]=te.useState(0),[mn,ln]=te.useState(0),cn=te.useRef(p.duration||ne||z0),As=te.useRef(null),Qt=te.useRef(null),dn=E===0,Un=E+1<=k,kt=p.type,tr=p.dismissible!==!1,wa=p.className||"",fo=p.descriptionClassName||"",hs=te.useMemo(()=>N.findIndex(_e=>_e.toastId===p.id)||0,[N,p.id]),nr=te.useMemo(()=>{var _e;return(_e=p.closeButton)!=null?_e:A},[p.closeButton,A]),Nn=te.useMemo(()=>p.duration||ne||z0,[p.duration,ne]),rr=te.useRef(0),gn=te.useRef(0),en=te.useRef(0),yr=te.useRef(null),[ho,po]=V.split("-"),Is=te.useMemo(()=>N.reduce((_e,Qe,Ge)=>Ge>=hs?_e:_e+Qe.height,0),[N,hs]),ps=yI(),ka=p.invert||m,Yr=kt==="loading";gn.current=te.useMemo(()=>hs*re+Is,[hs,Is]),te.useEffect(()=>{cn.current=Nn},[Nn]),te.useEffect(()=>{z(!0)},[]),te.useEffect(()=>{const _e=Qt.current;if(_e){const Qe=_e.getBoundingClientRect().height;return ln(Qe),w(Ge=>[{toastId:p.id,height:Qe,position:p.position},...Ge]),()=>w(Ge=>Ge.filter(et=>et.toastId!==p.id))}},[w,p.id]),te.useLayoutEffect(()=>{if(!O)return;const _e=Qt.current,Qe=_e.style.height;_e.style.height="auto";const Ge=_e.getBoundingClientRect().height;_e.style.height=Qe,ln(Ge),w(et=>et.find(at=>at.toastId===p.id)?et.map(at=>at.toastId===p.id?{...at,height:Ge}:at):[{toastId:p.id,height:Ge,position:p.position},...et])},[O,p.title,p.description,w,p.id,p.jsx,p.action,p.cancel]);const Sn=te.useCallback(()=>{Q(!0),ft(gn.current),w(_e=>_e.filter(Qe=>Qe.toastId!==p.id)),setTimeout(()=>{D(p)},RI)},[p,D,w,gn]);te.useEffect(()=>{if(p.promise&&kt==="loading"||p.duration===1/0||p.type==="loading")return;let _e;return C||b||ps?(()=>{if(en.current<rr.current){const et=new Date().getTime()-rr.current;cn.current=cn.current-et}en.current=new Date().getTime()})():(()=>{cn.current!==1/0&&(rr.current=new Date().getTime(),_e=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),Sn()},cn.current))})(),()=>clearTimeout(_e)},[C,b,p,kt,ps,Sn]),te.useEffect(()=>{p.delete&&(Sn(),p.onDismiss==null||p.onDismiss.call(p,p))},[Sn,p.delete]);function ja(){var _e;if(q?.loading){var Qe;return te.createElement("div",{className:es(se?.loader,p==null||(Qe=p.classNames)==null?void 0:Qe.loader,"sonner-loader"),"data-visible":kt==="loading"},q.loading)}return te.createElement(hI,{className:es(se?.loader,p==null||(_e=p.classNames)==null?void 0:_e.loader),visible:kt==="loading"})}const Kr=p.icon||q?.[kt]||uI(kt);var it,Lt;return te.createElement("li",{tabIndex:0,ref:Qt,className:es(U,wa,se?.toast,p==null||(t=p.classNames)==null?void 0:t.toast,se?.default,se?.[kt],p==null||(n=p.classNames)==null?void 0:n[kt]),"data-sonner-toast":"","data-rich-colors":(it=p.richColors)!=null?it:_,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":O,"data-promise":!!p.promise,"data-swiped":Ae,"data-removed":H,"data-visible":Un,"data-y-position":ho,"data-x-position":po,"data-index":E,"data-front":dn,"data-swiping":J,"data-dismissible":tr,"data-type":kt,"data-invert":ka,"data-swipe-out":be,"data-swipe-direction":I,"data-expanded":!!(C||pe&&O),"data-testid":p.testId,style:{"--index":E,"--toasts-before":E,"--z-index":S.length-E,"--offset":`${H?ot:gn.current}px`,"--initial-height":pe?"auto":`${mn}px`,...P,...p.style},onDragEnd:()=>{ie(!1),ae(null),yr.current=null},onPointerDown:_e=>{_e.button!==2&&(Yr||!tr||(As.current=new Date,ft(gn.current),_e.target.setPointerCapture(_e.pointerId),_e.target.tagName!=="BUTTON"&&(ie(!0),yr.current={x:_e.clientX,y:_e.clientY})))},onPointerUp:()=>{var _e,Qe,Ge;if(be||!tr)return;yr.current=null;const et=Number(((_e=Qt.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),zt=Number(((Qe=Qt.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),at=new Date().getTime()-((Ge=As.current)==null?void 0:Ge.getTime()),Ve=X==="x"?et:zt,tn=Math.abs(Ve)/at;if(Math.abs(Ve)>=PI||tn>.11){ft(gn.current),p.onDismiss==null||p.onDismiss.call(p,p),R(X==="x"?et>0?"right":"left":zt>0?"down":"up"),Sn(),ge(!0);return}else{var st,vt;(st=Qt.current)==null||st.style.setProperty("--swipe-amount-x","0px"),(vt=Qt.current)==null||vt.style.setProperty("--swipe-amount-y","0px")}Oe(!1),ie(!1),ae(null)},onPointerMove:_e=>{var Qe,Ge,et;if(!yr.current||!tr||((Qe=window.getSelection())==null?void 0:Qe.toString().length)>0)return;const at=_e.clientY-yr.current.y,Ve=_e.clientX-yr.current.x;var tn;const st=(tn=e.swipeDirections)!=null?tn:AI(V);!X&&(Math.abs(Ve)>1||Math.abs(at)>1)&&ae(Math.abs(Ve)>Math.abs(at)?"x":"y");let vt={x:0,y:0};const En=qt=>1/(1.5+Math.abs(qt)/20);if(X==="y"){if(st.includes("top")||st.includes("bottom"))if(st.includes("top")&&at<0||st.includes("bottom")&&at>0)vt.y=at;else{const qt=at*En(at);vt.y=Math.abs(qt)<Math.abs(at)?qt:at}}else if(X==="x"&&(st.includes("left")||st.includes("right")))if(st.includes("left")&&Ve<0||st.includes("right")&&Ve>0)vt.x=Ve;else{const qt=Ve*En(Ve);vt.x=Math.abs(qt)<Math.abs(Ve)?qt:Ve}(Math.abs(vt.x)>0||Math.abs(vt.y)>0)&&Oe(!0),(Ge=Qt.current)==null||Ge.style.setProperty("--swipe-amount-x",`${vt.x}px`),(et=Qt.current)==null||et.style.setProperty("--swipe-amount-y",`${vt.y}px`)}},nr&&!p.jsx&&kt!=="loading"?te.createElement("button",{"aria-label":M,"data-disabled":Yr,"data-close-button":!0,onClick:Yr||!tr?()=>{}:()=>{Sn(),p.onDismiss==null||p.onDismiss.call(p,p)},className:es(se?.closeButton,p==null||(s=p.classNames)==null?void 0:s.closeButton)},(Lt=q?.close)!=null?Lt:xI):null,(kt||p.icon||p.promise)&&p.icon!==null&&(q?.[kt]!==null||p.icon)?te.createElement("div",{"data-icon":"",className:es(se?.icon,p==null||(o=p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ja():null,p.type!=="loading"?Kr:null):null,te.createElement("div",{"data-content":"",className:es(se?.content,p==null||(i=p.classNames)==null?void 0:i.content)},te.createElement("div",{"data-title":"",className:es(se?.title,p==null||(c=p.classNames)==null?void 0:c.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?te.createElement("div",{"data-description":"",className:es(G,fo,se?.description,p==null||(d=p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),te.isValidElement(p.cancel)?p.cancel:p.cancel&&vd(p.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||F,onClick:_e=>{vd(p.cancel)&&tr&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,_e),Sn())},className:es(se?.cancelButton,p==null||(h=p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,te.isValidElement(p.action)?p.action:p.action&&vd(p.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||W,onClick:_e=>{vd(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,_e),!_e.defaultPrevented&&Sn())},className:es(se?.actionButton,p==null||(f=p.classNames)==null?void 0:f.actionButton)},p.action.label):null)};function $0(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function OI(e,t){const n={};return[e,t].forEach((s,o)=>{const i=o===1,c=i?"--mobile-offset":"--offset",d=i?CI:_I;function h(f){["top","right","bottom","left"].forEach(m=>{n[`${c}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof s=="number"||typeof s=="string"?h(s):typeof s=="object"?["top","right","bottom","left"].forEach(f=>{s[f]===void 0?n[`${c}-${f}`]=d:n[`${c}-${f}`]=typeof s[f]=="number"?`${s[f]}px`:s[f]}):h(d)}),n}const FI=te.forwardRef(function(t,n){const{id:s,invert:o,position:i="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:h,className:f,offset:m,mobileOffset:p,theme:x="light",richColors:b,duration:w,style:k,visibleToasts:N=EI,toastOptions:E,dir:S=$0(),gap:C=DI,icons:D,containerAriaLabel:_="Notifications"}=t,[A,P]=te.useState([]),F=te.useMemo(()=>s?A.filter(O=>O.toasterId===s):A.filter(O=>!O.toasterId),[A,s]),W=te.useMemo(()=>Array.from(new Set([i].concat(F.filter(O=>O.position).map(O=>O.position)))),[F,i]),[U,G]=te.useState([]),[ne,V]=te.useState(!1),[re,pe]=te.useState(!1),[se,q]=te.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=te.useRef(null),X=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),ae=te.useRef(null),I=te.useRef(!1),R=te.useCallback(O=>{P(z=>{var H;return(H=z.find(Q=>Q.id===O.id))!=null&&H.delete||On.dismiss(O.id),z.filter(({id:Q})=>Q!==O.id)})},[]);return te.useEffect(()=>On.subscribe(O=>{if(O.dismiss){requestAnimationFrame(()=>{P(z=>z.map(H=>H.id===O.id?{...H,delete:!0}:H))});return}setTimeout(()=>{dk.flushSync(()=>{P(z=>{const H=z.findIndex(Q=>Q.id===O.id);return H!==-1?[...z.slice(0,H),{...z[H],...O},...z.slice(H+1)]:[O,...z]})})})}),[A]),te.useEffect(()=>{if(x!=="system"){q(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const O=window.matchMedia("(prefers-color-scheme: dark)");try{O.addEventListener("change",({matches:z})=>{q(z?"dark":"light")})}catch{O.addListener(({matches:H})=>{try{q(H?"dark":"light")}catch(Q){console.error(Q)}})}},[x]),te.useEffect(()=>{A.length<=1&&V(!1)},[A]),te.useEffect(()=>{const O=z=>{var H;if(c.every(ie=>z[ie]||z.code===ie)){var J;V(!0),(J=M.current)==null||J.focus()}z.code==="Escape"&&(document.activeElement===M.current||(H=M.current)!=null&&H.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[c]),te.useEffect(()=>{if(M.current)return()=>{ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null,I.current=!1)}},[M.current]),te.createElement("section",{ref:n,"aria-label":`${_} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},W.map((O,z)=>{var H;const[Q,J]=O.split("-");return F.length?te.createElement("ol",{key:O,dir:S==="auto"?$0():S,tabIndex:-1,ref:M,className:f,"data-sonner-toaster":!0,"data-sonner-theme":se,"data-y-position":Q,"data-x-position":J,style:{"--front-toast-height":`${((H=U[0])==null?void 0:H.height)||0}px`,"--width":`${TI}px`,"--gap":`${C}px`,...k,...OI(m,p)},onBlur:ie=>{I.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(I.current=!1,ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||I.current||(I.current=!0,ae.current=ie.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{re||V(!1)},onDragEnd:()=>V(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||pe(!0)},onPointerUp:()=>pe(!1)},F.filter(ie=>!ie.position&&z===0||ie.position===O).map((ie,be)=>{var ge,Ae;return te.createElement(II,{key:ie.id,icons:D,index:be,toast:ie,defaultRichColors:b,duration:(ge=E?.duration)!=null?ge:w,className:E?.className,descriptionClassName:E?.descriptionClassName,invert:o,visibleToasts:N,closeButton:(Ae=E?.closeButton)!=null?Ae:h,interacting:re,position:O,style:E?.style,unstyled:E?.unstyled,classNames:E?.classNames,cancelButtonStyle:E?.cancelButtonStyle,actionButtonStyle:E?.actionButtonStyle,closeButtonAriaLabel:E?.closeButtonAriaLabel,removeToast:R,toasts:F.filter(Oe=>Oe.position==ie.position),heights:U.filter(Oe=>Oe.position==ie.position),setHeights:G,expandByDefault:d,gap:C,expanded:ne,swipeDirections:t.swipeDirections})})):null}))}),{createContext:MI,useContext:LI,useState:zI,useEffect:$I,useCallback:qe}=bm,uk=MI(void 0);function zl(){const e=LI(uk);if(!e)throw new Error("useApp must be used within AppProvider");return e}function BI({children:e}){const[t,n]=zI({isAuthenticated:!1,currentUser:null,userProfile:null,villas:[],selectedVilla:null,villasLoading:!1,villasError:null,tasks:[],tasksLoading:!1,tasksError:null,expenses:[],expensesLoading:!1,expensesError:null,chats:[],chatsLoading:!1,chatsError:null,events:[],eventsLoading:!1,eventsError:null,staff:[],staffLoading:!1,staffError:null,currentView:"dashboard",useMobileUI:!1,sidebarOpen:!0}),s=qe((R,O)=>O?`villasaya:${R}:${O}`:`villasaya:${R}`,[]),o=qe(R=>{if(typeof window>"u")return null;try{const O=window.sessionStorage.getItem(R);return O?JSON.parse(O):null}catch(O){return console.warn(`Failed to read cache key "${R}"`,O),null}},[]),i=qe((R,O)=>{if(!(typeof window>"u"))try{window.sessionStorage.setItem(R,JSON.stringify(O))}catch(z){console.warn(`Failed to write cache key "${R}"`,z)}},[]),c=qe(R=>{if(!(typeof window>"u"))try{window.sessionStorage.removeItem(R)}catch(O){console.warn(`Failed to clear cache key "${R}"`,O)}},[]),d=qe(async(R,O={})=>{const{retries:z=2,delayMs:H=400}=O;let Q=0,J;for(;Q<=z;)try{return await R()}catch(ie){if(J=ie,Q===z)break;const be=H*Math.pow(2,Q);await new Promise(ge=>setTimeout(ge,be)),Q+=1}throw J??new Error("Operation failed after retries")},[]);$I(()=>{(async()=>{if(await Fn.initialize()){const Q=Fn.getCurrentUser();n(J=>({...J,isAuthenticated:!0,currentUser:Q})),x(),h()}(localStorage.getItem("useMobileUI")==="true"||window.innerWidth<768)&&n(Q=>({...Q,useMobileUI:!0}))})();const O=()=>{n(z=>({...z,isAuthenticated:!1,currentUser:null,userProfile:null,villas:[],selectedVilla:null,tasks:[],expenses:[],chats:[],events:[],staff:[]}))};return window.addEventListener("auth:expired",O),()=>window.removeEventListener("auth:expired",O)},[]);const h=qe(async()=>{try{const R=sessionStorage.getItem("user_id");if(!R)return;const O=await de(`/users/${R}`);n(z=>({...z,userProfile:O}))}catch(R){console.error("Failed to load user profile:",R)}},[]),f=qe(async(R,O)=>{try{const{supabase:z}=await _s(async()=>{const{supabase:J}=await Promise.resolve().then(()=>zp);return{supabase:J}},void 0),{data:H,error:Q}=await z.auth.signInWithPassword({email:R,password:O});return Q||!H.session?(K.error("Invalid login credentials"),!1):(Fn.saveSession({access_token:H.session.access_token,refresh_token:H.session.refresh_token,expires_at:H.session.expires_at,user:{id:H.session.user.id,email:H.session.user.email,name:H.session.user.user_metadata?.name||"",role:H.session.user.user_metadata?.role||"tenant",createdAt:H.session.user.created_at}}),n(J=>({...J,isAuthenticated:!0,currentUser:Fn.getCurrentUser()})),await Promise.all([x(),h()]),K.success("Signed in successfully!"),!0)}catch(z){return console.error("Login error:",z),K.error("Failed to sign in"),!1}},[]),m=qe(async()=>{Fn.clearSession();try{const{supabase:R}=await _s(async()=>{const{supabase:O}=await Promise.resolve().then(()=>zp);return{supabase:O}},void 0);await R.auth.signOut()}catch(R){console.error("Error signing out from Supabase:",R)}n(R=>({...R,isAuthenticated:!1,currentUser:null,userProfile:null,villas:[],selectedVilla:null,tasks:[],expenses:[],chats:[],events:[],staff:[],currentView:"dashboard"})),sessionStorage.clear()},[]),p=qe(async()=>{const R=await Fn.refreshSession();R&&n(O=>({...O,currentUser:R.user}))},[]),x=qe(async()=>{n(z=>({...z,villasLoading:!0,villasError:null}));const R=s("villas"),O=o(R);O&&O.length>0&&n(z=>({...z,villas:O}));try{const{villas:z}=await d(()=>de("/villas")),H=z||[];i(R,H);let Q=null,J=!1,ie=!1;n(be=>{const ge=be.selectedVilla;if(ge&&H.find(Ae=>Ae.id===ge.id))Q=H.find(Ae=>Ae.id===ge.id)||null;else{J=!0;const Ae=localStorage.getItem("selectedVillaId");Ae&&H.length>0&&(Q=H.find(Oe=>Oe.id===Ae)||null),!Q&&H.length>0&&(Q=H[0]),Q?localStorage.setItem("selectedVillaId",Q.id):(localStorage.removeItem("selectedVillaId"),ie=!0)}return ie?(c(s("tasks")),c(s("expenses")),c(s("chats")),c(s("events")),c(s("staff")),{...be,villas:H,selectedVilla:null,villasLoading:!1,villasError:null,tasks:[],expenses:[],chats:[],events:[],staff:[]}):{...be,villas:H,selectedVilla:Q,villasLoading:!1,villasError:null}}),J&&Q&&setTimeout(()=>{E(Q.id),_(Q.id),W(Q.id),G(Q.id),pe(Q.id)},0)}catch(z){console.error("Error loading villas:",z),n(H=>({...H,villas:O&&O.length?O:H.villas,villasError:O&&O.length?"Showing cached villas due to network issues":"Failed to load villas",villasLoading:!1})),!O||O.length===0?K.error("Unable to load villas. Please check your connection and try again."):K.warning("Working offline with cached villa data.")}},[s,o,c,d,i]),b=qe(R=>{n(O=>({...O,selectedVilla:R})),R?(localStorage.setItem("selectedVillaId",R.id),E(R.id),_(R.id),W(R.id),G(R.id),pe(R.id)):localStorage.removeItem("selectedVillaId")},[]),w=qe(async R=>{try{const{villa:O}=await de("/villas",{method:"POST",body:JSON.stringify(R)});return n(z=>({...z,villas:[...z.villas,O]})),K.success("Villa created successfully"),O}catch(O){return console.error("Error creating villa:",O),K.error("Failed to create villa"),null}},[]),k=qe(async(R,O)=>{try{const{villa:z}=await de(`/villas/${R}`,{method:"PUT",body:JSON.stringify(O)});return n(H=>({...H,villas:H.villas.map(Q=>Q.id===R?z:Q),selectedVilla:H.selectedVilla?.id===R?z:H.selectedVilla})),K.success("Villa updated successfully"),!0}catch(z){return console.error("Error updating villa:",z),K.error("Failed to update villa"),!1}},[]),N=qe(async R=>{try{await de(`/villas/${R}`,{method:"DELETE"});let O=!1;return n(z=>(O=z.selectedVilla?.id===R,O&&localStorage.removeItem("selectedVillaId"),{...z,villas:z.villas.filter(H=>H.id!==R),selectedVilla:z.selectedVilla?.id===R?null:z.selectedVilla})),K.success("Villa deleted successfully"),O&&setTimeout(()=>x(),0),!0}catch(O){return console.error("Error deleting villa:",O),K.error("Failed to delete villa"),!1}},[]),E=qe(async R=>{n(H=>({...H,tasksLoading:!0,tasksError:null}));const O=s("tasks",R??"all"),z=o(O);z&&z.length>0&&n(H=>({...H,tasks:z}));try{const H=R?`/villas/${R}/tasks`:"/tasks",{tasks:Q}=await d(()=>de(H)),J=Q||[];i(O,J),n(ie=>({...ie,tasks:J,tasksLoading:!1,tasksError:null}))}catch(H){console.error("Error loading tasks:",H),n(Q=>({...Q,tasks:z&&z.length?z:Q.tasks,tasksError:z&&z.length?"Showing cached tasks due to network issues":"Failed to load tasks",tasksLoading:!1})),!z||z.length===0?K.error("Unable to load tasks. Please check your connection."):K.warning("Working offline with cached tasks.")}},[s,o,d,i]),S=qe(async R=>{try{const{task:O}=await de("/tasks",{method:"POST",body:JSON.stringify(R)});return n(z=>({...z,tasks:[...z.tasks,O]})),K.success("Task created successfully"),O}catch(O){return console.error("Error creating task:",O),K.error("Failed to create task"),null}},[]),C=qe(async(R,O)=>{try{const{task:z}=await de(`/tasks/${R}`,{method:"PUT",body:JSON.stringify(O)});return n(H=>({...H,tasks:H.tasks.map(Q=>Q.id===R?z:Q)})),K.success("Task updated successfully"),!0}catch(z){return console.error("Error updating task:",z),K.error("Failed to update task"),!1}},[]),D=qe(async(R,O)=>{try{const{task:z}=await de(`/tasks/${R}/status`,{method:"PUT",body:JSON.stringify({status:O})});return n(H=>({...H,tasks:H.tasks.map(Q=>Q.id===R?z:Q)})),K.success("Task status updated"),!0}catch(z){return console.error("Error updating task status:",z),K.error("Failed to update task status"),!1}},[]),_=qe(async R=>{n(H=>({...H,expensesLoading:!0,expensesError:null}));const O=s("expenses",R??"all"),z=o(O);z&&z.length>0&&n(H=>({...H,expenses:z}));try{const H=R?`/villas/${R}/expenses`:"/expenses",{expenses:Q}=await d(()=>de(H)),J=Q||[];i(O,J),n(ie=>({...ie,expenses:J,expensesLoading:!1,expensesError:null}))}catch(H){console.error("Error loading expenses:",H),n(Q=>({...Q,expenses:z&&z.length?z:Q.expenses,expensesError:z&&z.length?"Showing cached expenses due to network issues":"Failed to load expenses",expensesLoading:!1})),!z||z.length===0?K.error("Unable to load expenses. Please check your connection."):K.warning("Working offline with cached expenses.")}},[s,o,d,i]),A=qe(async R=>{try{const{expense:O}=await de("/expenses",{method:"POST",body:JSON.stringify(R)});return n(z=>({...z,expenses:[...z.expenses,O]})),K.success("Expense created successfully"),O}catch(O){return console.error("Error creating expense:",O),K.error("Failed to create expense"),null}},[]),P=qe(async(R,O)=>{try{const{expense:z}=await de(`/expenses/${R}`,{method:"PUT",body:JSON.stringify(O)});return n(H=>({...H,expenses:H.expenses.map(Q=>Q.id===R?z:Q)})),K.success("Expense updated successfully"),!0}catch(z){return console.error("Error updating expense:",z),K.error("Failed to update expense"),!1}},[]),F=qe(async(R,O)=>{try{const z=`/expenses/${R}/${O?"approve":"reject"}`,{expense:H}=await de(z,{method:"PUT"});return n(Q=>({...Q,expenses:Q.expenses.map(J=>J.id===R?H:J)})),K.success(`Expense ${O?"approved":"rejected"}`),!0}catch(z){return console.error("Error updating expense approval:",z),K.error("Failed to update expense approval"),!1}},[]),W=qe(async R=>{n(H=>({...H,chatsLoading:!0,chatsError:null}));const O=s("chats",R??"all"),z=o(O);z&&z.length>0&&n(H=>({...H,chats:z}));try{const H=R?`/villas/${R}/chats`:"/chats",{chats:Q}=await d(()=>de(H)),J=Q||[];i(O,J),n(ie=>({...ie,chats:J,chatsLoading:!1,chatsError:null}))}catch(H){console.error("Error loading chats:",H),n(Q=>({...Q,chats:z&&z.length?z:Q.chats,chatsError:z&&z.length?"Showing cached chats due to network issues":"Failed to load chats",chatsLoading:!1})),!z||z.length===0?K.error("Unable to load chats. Please check your connection."):K.warning("Working offline with cached chats.")}},[s,o,d,i]),U=qe(async R=>{try{const{chat:O}=await de("/chats",{method:"POST",body:JSON.stringify(R)});return n(z=>({...z,chats:[...z.chats,O]})),K.success("Chat created successfully"),O}catch(O){return console.error("Error creating chat:",O),K.error("Failed to create chat"),null}},[]),G=qe(async R=>{n(H=>({...H,eventsLoading:!0,eventsError:null}));const O=s("events",R??"all"),z=o(O);z&&z.length>0&&n(H=>({...H,events:z}));try{const H=R?`/villas/${R}/events`:"/events",{events:Q}=await d(()=>de(H)),J=Q||[];i(O,J),n(ie=>({...ie,events:J,eventsLoading:!1,eventsError:null}))}catch(H){console.error("Error loading events:",H),n(Q=>({...Q,events:z&&z.length?z:Q.events,eventsError:z&&z.length?"Showing cached events due to network issues":"Failed to load events",eventsLoading:!1})),!z||z.length===0?K.error("Unable to load events. Please check your connection."):K.warning("Working offline with cached events.")}},[s,o,d,i]),ne=qe(async R=>{try{const{event:O}=await de("/events",{method:"POST",body:JSON.stringify(R)});return n(z=>({...z,events:[...z.events,O]})),K.success("Event created successfully"),O}catch(O){return console.error("Error creating event:",O),K.error("Failed to create event"),null}},[]),V=qe(async(R,O)=>{try{const{event:z}=await de(`/events/${R}`,{method:"PUT",body:JSON.stringify(O)});return n(H=>({...H,events:H.events.map(Q=>Q.id===R?z:Q)})),K.success("Event updated successfully"),!0}catch(z){return console.error("Error updating event:",z),K.error("Failed to update event"),!1}},[]),re=qe(async R=>{try{return await de(`/events/${R}`,{method:"DELETE"}),n(O=>({...O,events:O.events.filter(z=>z.id!==R)})),K.success("Event deleted successfully"),!0}catch(O){return console.error("Error deleting event:",O),K.error("Failed to delete event"),!1}},[]),pe=qe(async R=>{n(H=>({...H,staffLoading:!0,staffError:null}));const O=s("staff",R??"all"),z=o(O);z&&z.length>0&&n(H=>({...H,staff:z}));try{const H=R?`/villas/${R}/staff`:"/staff",{staff:Q}=await d(()=>de(H)),J=Q||[];i(O,J),n(ie=>({...ie,staff:J,staffLoading:!1,staffError:null}))}catch(H){console.error("Error loading staff:",H),n(Q=>({...Q,staff:z&&z.length?z:Q.staff,staffError:z&&z.length?"Showing cached staff due to network issues":"Failed to load staff",staffLoading:!1})),!z||z.length===0?K.error("Unable to load staff. Please check your connection."):K.warning("Working offline with cached staff records.")}},[s,o,d,i]),se=qe(R=>{n(O=>({...O,currentView:R}))},[]),q=qe(R=>{n(O=>({...O,useMobileUI:R})),localStorage.setItem("useMobileUI",String(R))},[]),M=qe(R=>{n(O=>({...O,sidebarOpen:R}))},[]),X=qe(async()=>{t.isAuthenticated&&await Promise.all([x(),h(),t.selectedVilla&&E(t.selectedVilla.id),t.selectedVilla&&_(t.selectedVilla.id),t.selectedVilla&&W(t.selectedVilla.id),t.selectedVilla&&G(t.selectedVilla.id),t.selectedVilla&&pe(t.selectedVilla.id)].filter(Boolean))},[W,_,G,pe,E,h,x,t.isAuthenticated,t.selectedVilla]),ae=qe(()=>{c(s("villas")),c(s("tasks")),c(s("expenses")),c(s("chats")),c(s("events")),c(s("staff")),n(R=>({...R,villas:[],tasks:[],expenses:[],chats:[],events:[],staff:[],villasError:null,tasksError:null,expensesError:null,chatsError:null,eventsError:null,staffError:null}))},[s,c]),I={...t,login:f,logout:m,refreshAuth:p,loadVillas:x,selectVilla:b,createVilla:w,updateVilla:k,deleteVilla:N,loadTasks:E,createTask:S,updateTask:C,updateTaskStatus:D,loadExpenses:_,createExpense:A,updateExpense:P,approveExpense:F,loadChats:W,createChat:U,loadEvents:G,createEvent:ne,updateEvent:V,deleteEvent:re,loadStaff:pe,setCurrentView:se,setUseMobileUI:q,setSidebarOpen:M,refreshData:X,clearCache:ae};return r.jsx(uk.Provider,{value:I,children:e})}const fk=v.createContext(void 0);function UI({children:e}){const[t,n]=v.useState(()=>{const d=localStorage.getItem("theme");return d&&["light","dark","system"].includes(d)?d:"system"}),[s,o]=v.useState("light"),i=()=>typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";v.useEffect(()=>{const d=()=>{const h=t==="system"?i():t;o(h);const f=document.documentElement;h==="dark"?(f.classList.add("dark"),f.setAttribute("data-theme","dark")):(f.classList.remove("dark"),f.setAttribute("data-theme","light"))};if(d(),t==="system"){const h=window.matchMedia("(prefers-color-scheme: dark)"),f=()=>d();if(h.addEventListener)return h.addEventListener("change",f),()=>h.removeEventListener("change",f);if(h.addListener)return h.addListener(f),()=>h.removeListener(f)}},[t]);const c=d=>{n(d),localStorage.setItem("theme",d)};return r.jsx(fk.Provider,{value:{theme:t,resolvedTheme:s,setTheme:c},children:e})}function hk(){const e=v.useContext(fk);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}function Sl(e){const[t,n]=v.useState(()=>typeof window<"u"?window.matchMedia(e).matches:!1);return v.useEffect(()=>{if(typeof window>"u")return;const s=window.matchMedia(e),o=i=>{n(i.matches)};return n(s.matches),s.addEventListener?(s.addEventListener("change",o),()=>s.removeEventListener("change",o)):(s.addListener(o),()=>s.removeListener(o))},[e]),t}const El={tablet:768,desktop:1024,wide:1280};function VI(){return!Sl(`(min-width: ${El.tablet}px)`)}function pk(){const e=Sl(`(min-width: ${El.tablet}px)`),t=Sl(`(min-width: ${El.desktop}px)`);return e&&!t}function mk(){return Sl(`(min-width: ${El.desktop}px)`)}function WI(){return Sl(`(min-width: ${El.wide}px)`)}function HI(){const e=mk(),t=pk();return WI()?"wide":e?"desktop":t?"tablet":"mobile"}const qI="/assets/villasaya-YSz5tD3n.png";function Ar(e,t){if(t.required&&(e==null||e===""||Array.isArray(e)&&e.length===0))return{isValid:!1,error:typeof t.required=="string"?t.required:"This field is required"};if(!e&&!t.required)return{isValid:!0};if(t.minLength){const n=typeof t.minLength=="number"?t.minLength:t.minLength.value,s=typeof t.minLength=="object"?t.minLength.message:`Minimum length is ${n} characters`;if(String(e).length<n)return{isValid:!1,error:s}}if(t.maxLength){const n=typeof t.maxLength=="number"?t.maxLength:t.maxLength.value,s=typeof t.maxLength=="object"?t.maxLength.message:`Maximum length is ${n} characters`;if(String(e).length>n)return{isValid:!1,error:s}}if(t.pattern){const n=t.pattern instanceof RegExp?t.pattern:t.pattern.value,s=typeof t.pattern=="object"&&"message"in t.pattern?t.pattern.message:"Invalid format";if(!n.test(String(e)))return{isValid:!1,error:s}}if(t.min!==void 0){const n=typeof t.min=="number"?t.min:t.min.value,s=typeof t.min=="object"?t.min.message:`Minimum value is ${n}`;if(Number(e)<n)return{isValid:!1,error:s}}if(t.max!==void 0){const n=typeof t.max=="number"?t.max:t.max.value,s=typeof t.max=="object"?t.max.message:`Maximum value is ${n}`;if(Number(e)>n)return{isValid:!1,error:s}}if(t.validate){const n=t.validate(e);if(typeof n=="string")return{isValid:!1,error:n};if(!n)return{isValid:!1,error:"Validation failed"}}if(t.custom){const n=t.custom(e);if(typeof n=="string")return{isValid:!1,error:n};if(!n)return{isValid:!1,error:"Validation failed"}}return{isValid:!0}}function gk(e){return typeof e!="string"?e:e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<[^>]*>/g,"").replace(/javascript:/gi,"").replace(/data:text\/html/gi,"").replace(/on\w+\s*=/gi,"").trim()}function YI({onAuthSuccess:e}){const[t,n]=v.useState(!1),[s,o]=v.useState(!1),[i,c]=v.useState(!1),[d,h]=v.useState(!1),[f,m]=v.useState(""),[p,x]=v.useState({}),[b,w]=v.useState({email:"",password:"",name:"",role:"staff"}),k=(A,P)=>{let F;if(A==="email")F=Ar(P,{required:"Email or phone number is required",validate:()=>E(P)?!0:"Please enter a valid email or phone number"});else if(A==="password"){const W=t?8:6;F=Ar(P,{required:"Password is required",minLength:{value:W,message:`Password must be at least ${W} characters`},...t&&{validate:U=>/[A-Z]/.test(U)?/[a-z]/.test(U)?/[0-9]/.test(U)?!0:"Must contain a number":"Must contain a lowercase letter":"Must contain an uppercase letter"}})}else A==="name"&&t?F=Ar(P,{required:"Full name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}):F={isValid:!0};return x(W=>({...W,[A]:F.isValid?"":F.error||""})),F.isValid};v.useEffect(()=>{N()},[]);const N=async()=>{try{const{data:A}=await Rr.auth.getSession();A.session?.access_token&&(sessionStorage.setItem("access_token",A.session.access_token),sessionStorage.setItem("user_id",A.session.user.id),e())}catch(A){console.error("Session check error:",A)}},E=A=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A)?"email":/^[\+]?[(]?[0-9]{1,4}[)]?[-\s\.]?[(]?[0-9]{1,4}[)]?[-\s\.]?[0-9]{1,12}$/.test(A.replace(/\s/g,""))?"phone":null,S=async A=>{A.preventDefault(),m(""),o(!0);const P=k("email",b.email),F=k("password",b.password),W=t?k("name",b.name):!0;if(!P||!F||!W){o(!1);return}try{if(t)await de("/signup",{method:"POST",body:JSON.stringify(b)},!1),K.success("Account created successfully! Please sign in."),n(!1),w({email:b.email,password:"",name:"",role:"staff"}),x({});else{const U=E(b.email);if(!U){m("Please enter a valid email or phone number"),o(!1);return}let G,ne;if(U==="email"){const V=await Rr.auth.signInWithPassword({email:b.email,password:b.password});G=V.data,ne=V.error}else{const V=b.email.replace(/[\s\-\(\)]/g,""),re=await Rr.auth.signInWithPassword({phone:V,password:b.password});G=re.data,ne=re.error}if(ne)throw m("Invalid credentials or account not found"),ne;G.session?.access_token&&(sessionStorage.setItem("access_token",G.session.access_token),sessionStorage.setItem("user_id",G.user.id),K.success("Signed in successfully!"),e())}}catch(U){console.error("Auth error:",U),U||m("Email doesn't registered to any account")}finally{o(!1)}},C=(A,P)=>{w({...b,[A]:P}),f&&m(""),p[A]&&x(F=>({...F,[A]:""}))},D=A=>{k(A,b[A])},_=async A=>{o(!0);try{let P=window.location.origin;const{data:F,error:W}=await Rr.auth.signInWithOAuth({provider:A,options:{redirectTo:P}});if(W)throw W}catch(P){console.error("OAuth error:",P),K.error(P.message||`Failed to sign in with ${A}`),o(!1)}};return r.jsx("div",{className:"min-h-dvh flex items-center justify-center bg-gray-50 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-sm p-6 sm:p-8",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("img",{src:qI,alt:"VillaSaya",className:"h-24 object-contain"})}),r.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-center mb-2 text-gray-900",children:t?"Create your account":"Login to your account"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-500 text-center mb-6 px-2",children:t?"Enter your details to create a new account.":"Enter your account details to log in."}),r.jsxs("form",{onSubmit:S,children:[t&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name:"}),r.jsx("input",{id:"name",type:"text",placeholder:"Enter your full name",value:b.name,onChange:A=>C("name",A.target.value),onBlur:()=>D("name"),autoComplete:"name",className:`w-full h-11 border rounded-lg px-3 py-2 text-gray-900 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#7B5FEB] focus:border-[#7B5FEB] transition-colors ${p.name?"border-red-500":"border-gray-300"}`,required:t}),p.name&&r.jsx("p",{className:"mt-1 text-red-600 text-sm",children:p.name})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"identifier",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email or phone number:"}),r.jsx("input",{id:"identifier",type:"text",placeholder:"your@email.com or +1 234 567 890",value:b.email,onChange:A=>C("email",A.target.value),onBlur:()=>D("email"),autoComplete:"username",className:`w-full h-11 border rounded-lg px-3 py-2 text-gray-900 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#7B5FEB] focus:border-[#7B5FEB] transition-colors ${p.email||f?"border-red-500":"border-gray-300"}`,required:!0}),p.email&&r.jsx("p",{className:"mt-1 text-red-600 text-sm",children:p.email}),f&&!p.email&&r.jsx("p",{className:"mt-1 text-red-600 text-sm",children:f})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password:"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",type:i?"text":"password",placeholder:"Enter your password",value:b.password,onChange:A=>C("password",A.target.value),onBlur:()=>D("password"),autoComplete:t?"new-password":"current-password",className:`w-full h-11 border rounded-lg px-3 py-2 pr-10 text-gray-900 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#7B5FEB] focus:border-[#7B5FEB] transition-colors ${p.password?"border-red-500":"border-gray-300"}`,required:!0}),r.jsx("button",{type:"button",onClick:()=>c(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?r.jsx(oR,{className:"w-4 h-4"}):r.jsx(Vw,{className:"w-4 h-4"})})]}),p.password&&r.jsx("p",{className:"mt-1 text-red-600 text-sm",children:p.password}),!t&&!p.password&&r.jsx("div",{className:"mt-2 text-right",children:r.jsx("button",{type:"button",className:"text-sm text-[#7B5FEB] hover:text-[#6B4FDB] hover:underline",children:"Forgot password?"})})]}),!t&&r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx("input",{id:"remember",type:"checkbox",checked:d,onChange:A=>h(A.target.checked),className:"w-4 h-4 text-[#7B5FEB] border-gray-300 rounded focus:ring-[#7B5FEB] accent-[#7B5FEB]"}),r.jsx("label",{htmlFor:"remember",className:"ml-2 text-sm text-gray-700 cursor-pointer",children:"Keep me signed in"})]}),r.jsx(ze,{type:"submit",disabled:s,className:"w-full h-12 bg-[#7B5FEB] hover:bg-[#6B4FDB] text-white font-medium rounded-lg mb-6 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Please wait...":t?"Create account":"Login"})]}),r.jsxs("p",{className:"text-center text-sm sm:text-base text-gray-500 mb-6",children:[t?"Already have an account?":"Don't have an account?"," ",r.jsx("button",{onClick:()=>{n(!t),m("")},className:"text-[#7B5FEB] hover:text-[#6B4FDB] font-medium hover:underline",children:t?"Sign in":"Create one"})]}),!t&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx("div",{className:"flex-1 h-px bg-gray-200"}),r.jsx("span",{className:"mx-2 text-sm text-gray-400 whitespace-nowrap",children:"Or continue with"}),r.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs(ze,{type:"button",onClick:()=>_("google"),variant:"outline",className:"w-full h-11 bg-white border-gray-300 hover:bg-gray-50 text-gray-900 font-medium rounded-lg transition-all flex items-center justify-center gap-2",children:[r.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),r.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),r.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),r.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),r.jsxs(ze,{type:"button",onClick:()=>_("apple"),variant:"outline",className:"w-full h-11 bg-white border-gray-300 hover:bg-gray-50 text-gray-900 font-medium rounded-lg transition-all flex items-center justify-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.88-3.08.42-1.08-.48-2.05-.46-3.18.01-1.44.61-2.2.44-3.06-.45C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.53 4.09l-.05-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.51-3.74 4.25z",fill:"currentColor"})}),"Continue with Apple"]}),r.jsxs(ze,{type:"button",onClick:()=>_("azure"),variant:"outline",className:"w-full h-11 bg-white border-gray-300 hover:bg-gray-50 text-gray-900 font-medium rounded-lg transition-all flex items-center justify-center gap-2",children:[r.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M11.4 11.4H2.6V2.6h8.8v8.8z",fill:"#F25022"}),r.jsx("path",{d:"M21.4 11.4h-8.8V2.6h8.8v8.8z",fill:"#7FBA00"}),r.jsx("path",{d:"M11.4 21.4H2.6v-8.8h8.8v8.8z",fill:"#00A4EF"}),r.jsx("path",{d:"M21.4 21.4h-8.8v-8.8h8.8v8.8z",fill:"#FFB900"})]}),"Continue with Microsoft"]})]})]})]})})}function tp({label:e,amount:t,icon:n}){const s={total:"bg-[#7B5FEB]",review:"bg-[#FF9F43]",approved:"bg-[#28C76F]"};return r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${s[n]}`}),r.jsx("span",{className:"text-[#6E6B7B] text-sm",children:e})]}),r.jsxs("div",{className:"text-[#1F1F1F] text-[20px] font-semibold",children:["$",t]})]})}function vk({date:e,type:t,amount:n,status:s="review"}){return r.jsxs("div",{className:"bg-white rounded-2xl p-4 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-[#F3F2F7] rounded-lg flex items-center justify-center",children:r.jsx(tt,{className:"w-4 h-4 text-[#7B5FEB]"})}),r.jsx("span",{className:"text-[#5E5873] text-[15px] font-medium",children:e})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-[#B9B9C3] text-sm mb-1",children:"Type"}),r.jsx("div",{className:"text-[#5E5873] text-[15px] font-medium",children:t})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-[#B9B9C3] text-sm mb-1",children:"Total Expense"}),r.jsxs("div",{className:"text-[#5E5873] text-[15px] font-semibold",children:["$",n]})]})]})]})}const KI={light:10,medium:20,heavy:30,success:[10,50,10],warning:[15,40,15,40,15],error:[30,60,30],selection:5};function Ir(e){if("vibrate"in navigator)try{const t=KI[e];navigator.vibrate(t)}catch(t){console.debug("Haptic feedback not available:",t)}}function GI(){const[e,t]=v.useState(()=>typeof window>"u"||window.innerHeight>window.innerWidth?"portrait":"landscape");return v.useEffect(()=>{const n=()=>{t(window.innerHeight>window.innerWidth?"portrait":"landscape")};return window.addEventListener("resize",n),window.addEventListener("orientationchange",n),()=>{window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}},[]),e}function xk(){return GI()==="landscape"}const ZI=[{id:"home",icon:xu,label:"Home"},{id:"villas",icon:bn,label:"Villas"},{id:"tasks",icon:GP,label:"Tasks"},{id:"expenses",icon:si,label:"Expenses"},{id:"calendar",icon:tt,label:"Calendar"},{id:"more",icon:TR,label:"More"}];function Xn({activeTab:e="home",onTabChange:t}){const n=xk();return r.jsx("nav",{role:"navigation","aria-label":"Main navigation",className:`
        bg-gradient-primary fixed z-[var(--vs-z-fixed)]
        ${n?"left-0 top-0 bottom-0 w-20 flex flex-col justify-center gap-2 py-4":"bottom-0 left-0 right-0 flex items-center justify-around px-2"}
      `,style:n?{zIndex:30,width:"calc(80px + env(safe-area-inset-left))",paddingLeft:"env(safe-area-inset-left)",paddingTop:"max(16px, env(safe-area-inset-top))",paddingBottom:"max(16px, env(safe-area-inset-bottom))"}:{zIndex:30,height:"calc(70px + env(safe-area-inset-bottom))",paddingBottom:"env(safe-area-inset-bottom)"},children:ZI.map(s=>r.jsxs("button",{onClick:()=>{Ir("selection"),t?.(s.id)},className:`
            flex flex-col items-center justify-center gap-0.5 
            ${n?"w-full min-h-[64px] py-3":"min-w-[56px] min-h-[56px] px-2 py-2"}
            transition-all duration-200
            ${e===s.id?"text-white":"text-white/70"}
            bg-transparent border-0
            ${n&&e===s.id?"bg-white/20 rounded-xl":""}
          `,"aria-label":s.label,"aria-current":e===s.id?"page":void 0,role:"tab","aria-selected":e===s.id,children:[r.jsx(s.icon,{className:`w-6 h-6 transition-all ${e===s.id?"scale-110":"scale-100"}`,"aria-hidden":"true"}),r.jsx("span",{className:`
            text-sm font-medium mt-0.5 transition-opacity leading-tight
            ${e===s.id?"opacity-100":"opacity-70"}
          `,children:s.label})]},s.id))})}const JI="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function XI(e){const[t,n]=v.useState(!1),s=()=>{n(!0)},{src:o,alt:i,style:c,className:d,...h}=e;return t?r.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${d??""}`,style:c,children:r.jsx("div",{className:"flex items-center justify-center w-full h-full",children:r.jsx("img",{src:JI,alt:"Error loading image",...h,"data-original-url":o})})}):r.jsx("img",{src:o,alt:i,className:d,style:c,...h,onError:s})}function QI({expenses:e,onSubmit:t,onNavigate:n,onViewHistory:s}){const[o,i]=v.useState("review"),c=e.reduce((p,x)=>p+x.amount,0),d=e.filter(p=>p.status==="pending").reduce((p,x)=>p+x.amount,0),h=e.filter(p=>p.status==="approved").reduce((p,x)=>p+x.amount,0),f=e.filter(p=>o==="review"?p.status==="pending":o==="approved"?p.status==="approved":o==="rejected"?p.status==="rejected":!0),m={review:e.filter(p=>p.status==="pending").length,approved:e.filter(p=>p.status==="approved").length,rejected:e.filter(p=>p.status==="rejected").length};return r.jsxs("div",{className:"min-h-dvh bg-[#F8F8F8] pb-[calc(84px+2rem+env(safe-area-inset-bottom))]",children:[r.jsx("div",{className:"bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] px-6 sm:px-8 pt-[calc(0.75rem+env(safe-area-inset-top))] pb-2",children:r.jsx("div",{className:"text-white text-[15px]",children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})})}),r.jsxs("div",{className:"bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] px-6 sm:px-8 pb-6 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-4 right-8 text-white text-[20px]",children:""}),r.jsx("div",{className:"absolute top-12 right-16 text-white text-sm",children:""}),r.jsx("div",{className:"absolute top-8 right-24 text-white text-[16px]",children:""}),r.jsxs("div",{className:"flex items-start justify-between mb-6 relative z-10",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-white text-[28px] font-semibold mb-1",children:"Expense Summary"}),r.jsx("p",{className:"text-white/80 text-[14px]",children:"Claim your expenses here."})]}),r.jsx("div",{className:"w-24 h-16 relative",children:r.jsx(XI,{src:"https://images.unsplash.com/photo-1758908176211-5bd0932f956a?w=200",alt:"Credit Card",className:"w-full h-full object-contain transform rotate-12"})})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-lg",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"text-[#5E5873] text-[14px] font-semibold",children:"Total Expense"}),r.jsx("div",{className:"text-[#B9B9C3] text-sm",children:"Period 1 Jan 2024 - 30 Dec 2024"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(tp,{label:"Total",amount:c,icon:"total"}),r.jsx("div",{className:"w-px h-12 bg-[#E8E8E8]"}),r.jsx(tp,{label:"Review",amount:d,icon:"review"}),r.jsx("div",{className:"w-px h-12 bg-[#E8E8E8]"}),r.jsx(tp,{label:"Approved",amount:h,icon:"approved"})]})]})]}),r.jsxs("div",{className:"px-6 sm:px-8 py-4 flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3 overflow-x-auto flex-1 scrollbar-hide",children:[r.jsxs("button",{onClick:()=>i("review"),className:`px-5 h-[36px] rounded-full text-[14px] font-medium transition-all ${o==="review"?"bg-[#7B5FEB] text-white shadow-lg shadow-[#7B5FEB]/25":"bg-white text-[#6E6B7B] border border-[#E8E8E8]"}`,children:["Review ",m.review>0&&r.jsx("span",{className:`ml-1.5 px-1.5 py-0.5 rounded-full text-sm ${o==="review"?"bg-white/20":"bg-[#FF9F43] text-white"}`,children:m.review})]}),r.jsxs("button",{onClick:()=>i("approved"),className:`px-5 h-[36px] rounded-full text-[14px] font-medium transition-all ${o==="approved"?"bg-[#7B5FEB] text-white shadow-lg shadow-[#7B5FEB]/25":"bg-white text-[#6E6B7B] border border-[#E8E8E8]"}`,children:["Approved ",m.approved>0&&r.jsx("span",{className:`ml-1.5 px-1.5 py-0.5 rounded-full text-sm ${o==="approved"?"bg-white/20":"bg-[#E8E8E8] text-[#6E6B7B]"}`,children:m.approved})]}),r.jsxs("button",{onClick:()=>i("rejected"),className:`px-5 h-[36px] rounded-full text-[14px] font-medium transition-all ${o==="rejected"?"bg-[#7B5FEB] text-white shadow-lg shadow-[#7B5FEB]/25":"bg-white text-[#6E6B7B] border border-[#E8E8E8]"}`,children:["Rejected ",m.rejected>0&&r.jsx("span",{className:`ml-1.5 px-1.5 py-0.5 rounded-full text-sm ${o==="rejected"?"bg-white/20":"bg-[#E8E8E8] text-[#6E6B7B]"}`,children:m.rejected})]})]}),s&&r.jsx("button",{onClick:s,className:"px-4 h-[36px] bg-white text-[#7B5FEB] border border-[#7B5FEB] rounded-full text-sm font-medium whitespace-nowrap hover:bg-[#7B5FEB] hover:text-white transition-all",children:"View All"})]}),r.jsx("div",{className:"px-6 sm:px-8",children:f.length===0?r.jsx("div",{className:"bg-white rounded-2xl p-8 sm:p-10 text-center",children:r.jsxs("div",{className:"text-[#B9B9C3] text-[14px]",children:["No ",o," expenses found"]})}):f.map((p,x)=>r.jsx(vk,{date:new Date(p.date||p.created_at).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"}),type:p.description||p.category||"E-Learning",amount:p.amount,status:p.status==="pending"?"review":p.status},x))}),r.jsx("div",{className:"fixed left-0 right-0 px-6 sm:px-8 pb-4 max-w-3xl mx-auto",style:{bottom:"calc(84px + env(safe-area-inset-bottom) + 1rem)"},children:r.jsx("button",{onClick:t,className:"w-full h-[56px] bg-gradient-to-r from-[#7B5FEB] to-[#6B4FDB] text-white rounded-full font-semibold text-[16px] shadow-xl shadow-[#7B5FEB]/30 active:scale-[0.98] transition-transform px-6 flex items-center justify-center",children:"Submit Expense"})}),r.jsx(Xn,{activeTab:"expenses",onTabChange:n})]})}function Zp(e,[t,n]){return Math.min(n,Math.max(t,e))}function ye(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function eO(e,t){const n=v.createContext(t),s=i=>{const{children:c,...d}=i,h=v.useMemo(()=>d,Object.values(d));return r.jsx(n.Provider,{value:h,children:c})};s.displayName=e+"Provider";function o(i){const c=v.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,o]}function vr(e,t=[]){let n=[];function s(i,c){const d=v.createContext(c),h=n.length;n=[...n,c];const f=p=>{const{scope:x,children:b,...w}=p,k=x?.[e]?.[h]||d,N=v.useMemo(()=>w,Object.values(w));return r.jsx(k.Provider,{value:N,children:b})};f.displayName=i+"Provider";function m(p,x){const b=x?.[e]?.[h]||d,w=v.useContext(b);if(w)return w;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[f,m]}const o=()=>{const i=n.map(c=>v.createContext(c));return function(d){const h=d?.[e]||i;return v.useMemo(()=>({[`__scope${e}`]:{...d,[e]:h}}),[d,h])}};return o.scopeName=e,[s,tO(o,...t)]}function tO(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const c=s.reduce((d,{useScope:h,scopeName:f})=>{const p=h(i)[`__scope${f}`];return{...d,...p}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function Ym(e){const t=e+"CollectionProvider",[n,s]=vr(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=k=>{const{scope:N,children:E}=k,S=te.useRef(null),C=te.useRef(new Map).current;return r.jsx(o,{scope:N,itemMap:C,collectionRef:S,children:E})};c.displayName=t;const d=e+"CollectionSlot",h=Za(d),f=te.forwardRef((k,N)=>{const{scope:E,children:S}=k,C=i(d,E),D=Ue(N,C.collectionRef);return r.jsx(h,{ref:D,children:S})});f.displayName=d;const m=e+"CollectionItemSlot",p="data-radix-collection-item",x=Za(m),b=te.forwardRef((k,N)=>{const{scope:E,children:S,...C}=k,D=te.useRef(null),_=Ue(N,D),A=i(m,E);return te.useEffect(()=>(A.itemMap.set(D,{ref:D,...C}),()=>void A.itemMap.delete(D))),r.jsx(x,{[p]:"",ref:_,children:S})});b.displayName=m;function w(k){const N=i(e+"CollectionConsumer",k);return te.useCallback(()=>{const S=N.collectionRef.current;if(!S)return[];const C=Array.from(S.querySelectorAll(`[${p}]`));return Array.from(N.itemMap.values()).sort((A,P)=>C.indexOf(A.ref.current)-C.indexOf(P.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:c,Slot:f,ItemSlot:b},w,s]}var nO=v.createContext(void 0);function $l(e){const t=v.useContext(nO);return e||t||"ltr"}var rO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Re=rO.reduce((e,t)=>{const n=Za(`Primitive.${t}`),s=v.forwardRef((o,i)=>{const{asChild:c,...d}=o,h=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(h,{...d,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function yk(e,t){e&&rs.flushSync(()=>e.dispatchEvent(t))}function Xt(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>t.current?.(...n),[])}function sO(e,t=globalThis?.document){const n=Xt(e);v.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var aO="DismissableLayer",Jp="dismissableLayer.update",oO="dismissableLayer.pointerDownOutside",iO="dismissableLayer.focusOutside",B0,bk=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wu=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:c,onDismiss:d,...h}=e,f=v.useContext(bk),[m,p]=v.useState(null),x=m?.ownerDocument??globalThis?.document,[,b]=v.useState({}),w=Ue(t,P=>p(P)),k=Array.from(f.layers),[N]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),E=k.indexOf(N),S=m?k.indexOf(m):-1,C=f.layersWithOutsidePointerEventsDisabled.size>0,D=S>=E,_=dO(P=>{const F=P.target,W=[...f.branches].some(U=>U.contains(F));!D||W||(o?.(P),c?.(P),P.defaultPrevented||d?.())},x),A=uO(P=>{const F=P.target;[...f.branches].some(U=>U.contains(F))||(i?.(P),c?.(P),P.defaultPrevented||d?.())},x);return sO(P=>{S===f.layers.size-1&&(s?.(P),!P.defaultPrevented&&d&&(P.preventDefault(),d()))},x),v.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(B0=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),U0(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=B0)}},[m,x,n,f]),v.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),U0())},[m,f]),v.useEffect(()=>{const P=()=>b({});return document.addEventListener(Jp,P),()=>document.removeEventListener(Jp,P)},[]),r.jsx(Re.div,{...h,ref:w,style:{pointerEvents:C?D?"auto":"none":void 0,...e.style},onFocusCapture:ye(e.onFocusCapture,A.onFocusCapture),onBlurCapture:ye(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:ye(e.onPointerDownCapture,_.onPointerDownCapture)})});wu.displayName=aO;var lO="DismissableLayerBranch",cO=v.forwardRef((e,t)=>{const n=v.useContext(bk),s=v.useRef(null),o=Ue(t,s);return v.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(Re.div,{...e,ref:o})});cO.displayName=lO;function dO(e,t=globalThis?.document){const n=Xt(e),s=v.useRef(!1),o=v.useRef(()=>{});return v.useEffect(()=>{const i=d=>{if(d.target&&!s.current){let h=function(){wk(oO,n,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=h,t.addEventListener("click",o.current,{once:!0})):h()}else t.removeEventListener("click",o.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function uO(e,t=globalThis?.document){const n=Xt(e),s=v.useRef(!1);return v.useEffect(()=>{const o=i=>{i.target&&!s.current&&wk(iO,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function U0(){const e=new CustomEvent(Jp);document.dispatchEvent(e)}function wk(e,t,n,{discrete:s}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),s?yk(o,i):o.dispatchEvent(i)}var np=0;function Km(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??V0()),document.body.insertAdjacentElement("beforeend",e[1]??V0()),np++,()=>{np===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),np--}},[])}function V0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var rp="focusScope.autoFocusOnMount",sp="focusScope.autoFocusOnUnmount",W0={bubbles:!1,cancelable:!0},fO="FocusScope",ku=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...c}=e,[d,h]=v.useState(null),f=Xt(o),m=Xt(i),p=v.useRef(null),x=Ue(t,k=>h(k)),b=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let k=function(C){if(b.paused||!d)return;const D=C.target;d.contains(D)?p.current=D:sa(p.current,{select:!0})},N=function(C){if(b.paused||!d)return;const D=C.relatedTarget;D!==null&&(d.contains(D)||sa(p.current,{select:!0}))},E=function(C){if(document.activeElement===document.body)for(const _ of C)_.removedNodes.length>0&&sa(d)};document.addEventListener("focusin",k),document.addEventListener("focusout",N);const S=new MutationObserver(E);return d&&S.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",N),S.disconnect()}}},[s,d,b.paused]),v.useEffect(()=>{if(d){q0.add(b);const k=document.activeElement;if(!d.contains(k)){const E=new CustomEvent(rp,W0);d.addEventListener(rp,f),d.dispatchEvent(E),E.defaultPrevented||(hO(xO(kk(d)),{select:!0}),document.activeElement===k&&sa(d))}return()=>{d.removeEventListener(rp,f),setTimeout(()=>{const E=new CustomEvent(sp,W0);d.addEventListener(sp,m),d.dispatchEvent(E),E.defaultPrevented||sa(k??document.body,{select:!0}),d.removeEventListener(sp,m),q0.remove(b)},0)}}},[d,f,m,b]);const w=v.useCallback(k=>{if(!n&&!s||b.paused)return;const N=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,E=document.activeElement;if(N&&E){const S=k.currentTarget,[C,D]=pO(S);C&&D?!k.shiftKey&&E===D?(k.preventDefault(),n&&sa(C,{select:!0})):k.shiftKey&&E===C&&(k.preventDefault(),n&&sa(D,{select:!0})):E===S&&k.preventDefault()}},[n,s,b.paused]);return r.jsx(Re.div,{tabIndex:-1,...c,ref:x,onKeyDown:w})});ku.displayName=fO;function hO(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(sa(s,{select:t}),document.activeElement!==n)return}function pO(e){const t=kk(e),n=H0(t,e),s=H0(t.reverse(),e);return[n,s]}function kk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function H0(e,t){for(const n of e)if(!mO(n,{upTo:t}))return n}function mO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function gO(e){return e instanceof HTMLInputElement&&"select"in e}function sa(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&gO(e)&&t&&e.select()}}var q0=vO();function vO(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Y0(e,t),e.unshift(t)},remove(t){e=Y0(e,t),e[0]?.resume()}}}function Y0(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function xO(e){return e.filter(t=>t.tagName!=="A")}var Ft=globalThis?.document?v.useLayoutEffect:()=>{},yO=bm[" useId ".trim().toString()]||(()=>{}),bO=0;function os(e){const[t,n]=v.useState(yO());return Ft(()=>{n(s=>s??String(bO++))},[e]),e||(t?`radix-${t}`:"")}const wO=["top","right","bottom","left"],ha=Math.min,Kn=Math.max,qd=Math.round,xd=Math.floor,is=e=>({x:e,y:e}),kO={left:"right",right:"left",bottom:"top",top:"bottom"},jO={start:"end",end:"start"};function Xp(e,t,n){return Kn(e,ha(t,n))}function Ts(e,t){return typeof e=="function"?e(t):e}function Ds(e){return e.split("-")[0]}function gi(e){return e.split("-")[1]}function Gm(e){return e==="x"?"y":"x"}function Zm(e){return e==="y"?"height":"width"}const NO=new Set(["top","bottom"]);function ss(e){return NO.has(Ds(e))?"y":"x"}function Jm(e){return Gm(ss(e))}function SO(e,t,n){n===void 0&&(n=!1);const s=gi(e),o=Jm(e),i=Zm(o);let c=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(c=Yd(c)),[c,Yd(c)]}function EO(e){const t=Yd(e);return[Qp(e),t,Qp(t)]}function Qp(e){return e.replace(/start|end/g,t=>jO[t])}const K0=["left","right"],G0=["right","left"],_O=["top","bottom"],CO=["bottom","top"];function TO(e,t,n){switch(e){case"top":case"bottom":return n?t?G0:K0:t?K0:G0;case"left":case"right":return t?_O:CO;default:return[]}}function DO(e,t,n,s){const o=gi(e);let i=TO(Ds(e),n==="start",s);return o&&(i=i.map(c=>c+"-"+o),t&&(i=i.concat(i.map(Qp)))),i}function Yd(e){return e.replace(/left|right|bottom|top/g,t=>kO[t])}function PO(e){return{top:0,right:0,bottom:0,left:0,...e}}function jk(e){return typeof e!="number"?PO(e):{top:e,right:e,bottom:e,left:e}}function Kd(e){const{x:t,y:n,width:s,height:o}=e;return{width:s,height:o,top:n,left:t,right:t+s,bottom:n+o,x:t,y:n}}function Z0(e,t,n){let{reference:s,floating:o}=e;const i=ss(t),c=Jm(t),d=Zm(c),h=Ds(t),f=i==="y",m=s.x+s.width/2-o.width/2,p=s.y+s.height/2-o.height/2,x=s[d]/2-o[d]/2;let b;switch(h){case"top":b={x:m,y:s.y-o.height};break;case"bottom":b={x:m,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:p};break;case"left":b={x:s.x-o.width,y:p};break;default:b={x:s.x,y:s.y}}switch(gi(t)){case"start":b[c]-=x*(n&&f?-1:1);break;case"end":b[c]+=x*(n&&f?-1:1);break}return b}const RO=async(e,t,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:i=[],platform:c}=n,d=i.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(t));let f=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:p}=Z0(f,s,h),x=s,b={},w=0;for(let k=0;k<d.length;k++){const{name:N,fn:E}=d[k],{x:S,y:C,data:D,reset:_}=await E({x:m,y:p,initialPlacement:s,placement:x,strategy:o,middlewareData:b,rects:f,platform:c,elements:{reference:e,floating:t}});m=S??m,p=C??p,b={...b,[N]:{...b[N],...D}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(x=_.placement),_.rects&&(f=_.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:m,y:p}=Z0(f,x,h)),k=-1)}return{x:m,y:p,placement:x,strategy:o,middlewareData:b}};async function _l(e,t){var n;t===void 0&&(t={});const{x:s,y:o,platform:i,rects:c,elements:d,strategy:h}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:x=!1,padding:b=0}=Ts(t,e),w=jk(b),N=d[x?p==="floating"?"reference":"floating":p],E=Kd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(N)))==null||n?N:N.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(d.floating)),boundary:f,rootBoundary:m,strategy:h})),S=p==="floating"?{x:s,y:o,width:c.floating.width,height:c.floating.height}:c.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d.floating)),D=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},_=Kd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:S,offsetParent:C,strategy:h}):S);return{top:(E.top-_.top+w.top)/D.y,bottom:(_.bottom-E.bottom+w.bottom)/D.y,left:(E.left-_.left+w.left)/D.x,right:(_.right-E.right+w.right)/D.x}}const AO=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:o,rects:i,platform:c,elements:d,middlewareData:h}=t,{element:f,padding:m=0}=Ts(e,t)||{};if(f==null)return{};const p=jk(m),x={x:n,y:s},b=Jm(o),w=Zm(b),k=await c.getDimensions(f),N=b==="y",E=N?"top":"left",S=N?"bottom":"right",C=N?"clientHeight":"clientWidth",D=i.reference[w]+i.reference[b]-x[b]-i.floating[w],_=x[b]-i.reference[b],A=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let P=A?A[C]:0;(!P||!await(c.isElement==null?void 0:c.isElement(A)))&&(P=d.floating[C]||i.floating[w]);const F=D/2-_/2,W=P/2-k[w]/2-1,U=ha(p[E],W),G=ha(p[S],W),ne=U,V=P-k[w]-G,re=P/2-k[w]/2+F,pe=Xp(ne,re,V),se=!h.arrow&&gi(o)!=null&&re!==pe&&i.reference[w]/2-(re<ne?U:G)-k[w]/2<0,q=se?re<ne?re-ne:re-V:0;return{[b]:x[b]+q,data:{[b]:pe,centerOffset:re-pe-q,...se&&{alignmentOffset:q}},reset:se}}}),IO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:o,middlewareData:i,rects:c,initialPlacement:d,platform:h,elements:f}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:k=!0,...N}=Ts(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Ds(o),S=ss(d),C=Ds(d)===d,D=await(h.isRTL==null?void 0:h.isRTL(f.floating)),_=x||(C||!k?[Yd(d)]:EO(d)),A=w!=="none";!x&&A&&_.push(...DO(d,k,w,D));const P=[d,..._],F=await _l(t,N),W=[];let U=((s=i.flip)==null?void 0:s.overflows)||[];if(m&&W.push(F[E]),p){const re=SO(o,c,D);W.push(F[re[0]],F[re[1]])}if(U=[...U,{placement:o,overflows:W}],!W.every(re=>re<=0)){var G,ne;const re=(((G=i.flip)==null?void 0:G.index)||0)+1,pe=P[re];if(pe&&(!(p==="alignment"?S!==ss(pe):!1)||U.every(M=>ss(M.placement)===S?M.overflows[0]>0:!0)))return{data:{index:re,overflows:U},reset:{placement:pe}};let se=(ne=U.filter(q=>q.overflows[0]<=0).sort((q,M)=>q.overflows[1]-M.overflows[1])[0])==null?void 0:ne.placement;if(!se)switch(b){case"bestFit":{var V;const q=(V=U.filter(M=>{if(A){const X=ss(M.placement);return X===S||X==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(X=>X>0).reduce((X,ae)=>X+ae,0)]).sort((M,X)=>M[1]-X[1])[0])==null?void 0:V[0];q&&(se=q);break}case"initialPlacement":se=d;break}if(o!==se)return{reset:{placement:se}}}return{}}}};function J0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function X0(e){return wO.some(t=>e[t]>=0)}const OO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...o}=Ts(e,t);switch(s){case"referenceHidden":{const i=await _l(t,{...o,elementContext:"reference"}),c=J0(i,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:X0(c)}}}case"escaped":{const i=await _l(t,{...o,altBoundary:!0}),c=J0(i,n.floating);return{data:{escapedOffsets:c,escaped:X0(c)}}}default:return{}}}}},Nk=new Set(["left","top"]);async function FO(e,t){const{placement:n,platform:s,elements:o}=e,i=await(s.isRTL==null?void 0:s.isRTL(o.floating)),c=Ds(n),d=gi(n),h=ss(n)==="y",f=Nk.has(c)?-1:1,m=i&&h?-1:1,p=Ts(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return d&&typeof w=="number"&&(b=d==="end"?w*-1:w),h?{x:b*m,y:x*f}:{x:x*f,y:b*m}}const MO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:o,y:i,placement:c,middlewareData:d}=t,h=await FO(t,e);return c===((n=d.offset)==null?void 0:n.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:o+h.x,y:i+h.y,data:{...h,placement:c}}}}},LO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:o}=t,{mainAxis:i=!0,crossAxis:c=!1,limiter:d={fn:N=>{let{x:E,y:S}=N;return{x:E,y:S}}},...h}=Ts(e,t),f={x:n,y:s},m=await _l(t,h),p=ss(Ds(o)),x=Gm(p);let b=f[x],w=f[p];if(i){const N=x==="y"?"top":"left",E=x==="y"?"bottom":"right",S=b+m[N],C=b-m[E];b=Xp(S,b,C)}if(c){const N=p==="y"?"top":"left",E=p==="y"?"bottom":"right",S=w+m[N],C=w-m[E];w=Xp(S,w,C)}const k=d.fn({...t,[x]:b,[p]:w});return{...k,data:{x:k.x-n,y:k.y-s,enabled:{[x]:i,[p]:c}}}}}},zO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:o,rects:i,middlewareData:c}=t,{offset:d=0,mainAxis:h=!0,crossAxis:f=!0}=Ts(e,t),m={x:n,y:s},p=ss(o),x=Gm(p);let b=m[x],w=m[p];const k=Ts(d,t),N=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(h){const C=x==="y"?"height":"width",D=i.reference[x]-i.floating[C]+N.mainAxis,_=i.reference[x]+i.reference[C]-N.mainAxis;b<D?b=D:b>_&&(b=_)}if(f){var E,S;const C=x==="y"?"width":"height",D=Nk.has(Ds(o)),_=i.reference[p]-i.floating[C]+(D&&((E=c.offset)==null?void 0:E[p])||0)+(D?0:N.crossAxis),A=i.reference[p]+i.reference[C]+(D?0:((S=c.offset)==null?void 0:S[p])||0)-(D?N.crossAxis:0);w<_?w=_:w>A&&(w=A)}return{[x]:b,[p]:w}}}},$O=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:o,rects:i,platform:c,elements:d}=t,{apply:h=()=>{},...f}=Ts(e,t),m=await _l(t,f),p=Ds(o),x=gi(o),b=ss(o)==="y",{width:w,height:k}=i.floating;let N,E;p==="top"||p==="bottom"?(N=p,E=x===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(E=p,N=x==="end"?"top":"bottom");const S=k-m.top-m.bottom,C=w-m.left-m.right,D=ha(k-m[N],S),_=ha(w-m[E],C),A=!t.middlewareData.shift;let P=D,F=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(F=C),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(P=S),A&&!x){const U=Kn(m.left,0),G=Kn(m.right,0),ne=Kn(m.top,0),V=Kn(m.bottom,0);b?F=w-2*(U!==0||G!==0?U+G:Kn(m.left,m.right)):P=k-2*(ne!==0||V!==0?ne+V:Kn(m.top,m.bottom))}await h({...t,availableWidth:F,availableHeight:P});const W=await c.getDimensions(d.floating);return w!==W.width||k!==W.height?{reset:{rects:!0}}:{}}}};function ju(){return typeof window<"u"}function vi(e){return Sk(e)?(e.nodeName||"").toLowerCase():"#document"}function Zn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function us(e){var t;return(t=(Sk(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Sk(e){return ju()?e instanceof Node||e instanceof Zn(e).Node:!1}function Fr(e){return ju()?e instanceof Element||e instanceof Zn(e).Element:!1}function ls(e){return ju()?e instanceof HTMLElement||e instanceof Zn(e).HTMLElement:!1}function Q0(e){return!ju()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zn(e).ShadowRoot}const BO=new Set(["inline","contents"]);function Bl(e){const{overflow:t,overflowX:n,overflowY:s,display:o}=Mr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!BO.has(o)}const UO=new Set(["table","td","th"]);function VO(e){return UO.has(vi(e))}const WO=[":popover-open",":modal"];function Nu(e){return WO.some(t=>{try{return e.matches(t)}catch{return!1}})}const HO=["transform","translate","scale","rotate","perspective"],qO=["transform","translate","scale","rotate","perspective","filter"],YO=["paint","layout","strict","content"];function Xm(e){const t=Qm(),n=Fr(e)?Mr(e):e;return HO.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||qO.some(s=>(n.willChange||"").includes(s))||YO.some(s=>(n.contain||"").includes(s))}function KO(e){let t=pa(e);for(;ls(t)&&!ci(t);){if(Xm(t))return t;if(Nu(t))return null;t=pa(t)}return null}function Qm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GO=new Set(["html","body","#document"]);function ci(e){return GO.has(vi(e))}function Mr(e){return Zn(e).getComputedStyle(e)}function Su(e){return Fr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function pa(e){if(vi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Q0(e)&&e.host||us(e);return Q0(t)?t.host:t}function Ek(e){const t=pa(e);return ci(t)?e.ownerDocument?e.ownerDocument.body:e.body:ls(t)&&Bl(t)?t:Ek(t)}function Cl(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Ek(e),i=o===((s=e.ownerDocument)==null?void 0:s.body),c=Zn(o);if(i){const d=em(c);return t.concat(c,c.visualViewport||[],Bl(o)?o:[],d&&n?Cl(d):[])}return t.concat(o,Cl(o,[],n))}function em(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _k(e){const t=Mr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const o=ls(e),i=o?e.offsetWidth:n,c=o?e.offsetHeight:s,d=qd(n)!==i||qd(s)!==c;return d&&(n=i,s=c),{width:n,height:s,$:d}}function eg(e){return Fr(e)?e:e.contextElement}function ai(e){const t=eg(e);if(!ls(t))return is(1);const n=t.getBoundingClientRect(),{width:s,height:o,$:i}=_k(t);let c=(i?qd(n.width):n.width)/s,d=(i?qd(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const ZO=is(0);function Ck(e){const t=Zn(e);return!Qm()||!t.visualViewport?ZO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function JO(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Zn(e)?!1:t}function Ja(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=eg(e);let c=is(1);t&&(s?Fr(s)&&(c=ai(s)):c=ai(e));const d=JO(i,n,s)?Ck(i):is(0);let h=(o.left+d.x)/c.x,f=(o.top+d.y)/c.y,m=o.width/c.x,p=o.height/c.y;if(i){const x=Zn(i),b=s&&Fr(s)?Zn(s):s;let w=x,k=em(w);for(;k&&s&&b!==w;){const N=ai(k),E=k.getBoundingClientRect(),S=Mr(k),C=E.left+(k.clientLeft+parseFloat(S.paddingLeft))*N.x,D=E.top+(k.clientTop+parseFloat(S.paddingTop))*N.y;h*=N.x,f*=N.y,m*=N.x,p*=N.y,h+=C,f+=D,w=Zn(k),k=em(w)}}return Kd({width:m,height:p,x:h,y:f})}function Eu(e,t){const n=Su(e).scrollLeft;return t?t.left+n:Ja(us(e)).left+n}function Tk(e,t){const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-Eu(e,n),o=n.top+t.scrollTop;return{x:s,y:o}}function XO(e){let{elements:t,rect:n,offsetParent:s,strategy:o}=e;const i=o==="fixed",c=us(s),d=t?Nu(t.floating):!1;if(s===c||d&&i)return n;let h={scrollLeft:0,scrollTop:0},f=is(1);const m=is(0),p=ls(s);if((p||!p&&!i)&&((vi(s)!=="body"||Bl(c))&&(h=Su(s)),ls(s))){const b=Ja(s);f=ai(s),m.x=b.x+s.clientLeft,m.y=b.y+s.clientTop}const x=c&&!p&&!i?Tk(c,h):is(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-h.scrollLeft*f.x+m.x+x.x,y:n.y*f.y-h.scrollTop*f.y+m.y+x.y}}function QO(e){return Array.from(e.getClientRects())}function eF(e){const t=us(e),n=Su(e),s=e.ownerDocument.body,o=Kn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Kn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let c=-n.scrollLeft+Eu(e);const d=-n.scrollTop;return Mr(s).direction==="rtl"&&(c+=Kn(t.clientWidth,s.clientWidth)-o),{width:o,height:i,x:c,y:d}}const eb=25;function tF(e,t){const n=Zn(e),s=us(e),o=n.visualViewport;let i=s.clientWidth,c=s.clientHeight,d=0,h=0;if(o){i=o.width,c=o.height;const m=Qm();(!m||m&&t==="fixed")&&(d=o.offsetLeft,h=o.offsetTop)}const f=Eu(s);if(f<=0){const m=s.ownerDocument,p=m.body,x=getComputedStyle(p),b=m.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,w=Math.abs(s.clientWidth-p.clientWidth-b);w<=eb&&(i-=w)}else f<=eb&&(i+=f);return{width:i,height:c,x:d,y:h}}const nF=new Set(["absolute","fixed"]);function rF(e,t){const n=Ja(e,!0,t==="fixed"),s=n.top+e.clientTop,o=n.left+e.clientLeft,i=ls(e)?ai(e):is(1),c=e.clientWidth*i.x,d=e.clientHeight*i.y,h=o*i.x,f=s*i.y;return{width:c,height:d,x:h,y:f}}function tb(e,t,n){let s;if(t==="viewport")s=tF(e,n);else if(t==="document")s=eF(us(e));else if(Fr(t))s=rF(t,n);else{const o=Ck(e);s={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Kd(s)}function Dk(e,t){const n=pa(e);return n===t||!Fr(n)||ci(n)?!1:Mr(n).position==="fixed"||Dk(n,t)}function sF(e,t){const n=t.get(e);if(n)return n;let s=Cl(e,[],!1).filter(d=>Fr(d)&&vi(d)!=="body"),o=null;const i=Mr(e).position==="fixed";let c=i?pa(e):e;for(;Fr(c)&&!ci(c);){const d=Mr(c),h=Xm(c);!h&&d.position==="fixed"&&(o=null),(i?!h&&!o:!h&&d.position==="static"&&!!o&&nF.has(o.position)||Bl(c)&&!h&&Dk(e,c))?s=s.filter(m=>m!==c):o=d,c=pa(c)}return t.set(e,s),s}function aF(e){let{element:t,boundary:n,rootBoundary:s,strategy:o}=e;const c=[...n==="clippingAncestors"?Nu(t)?[]:sF(t,this._c):[].concat(n),s],d=c[0],h=c.reduce((f,m)=>{const p=tb(t,m,o);return f.top=Kn(p.top,f.top),f.right=ha(p.right,f.right),f.bottom=ha(p.bottom,f.bottom),f.left=Kn(p.left,f.left),f},tb(t,d,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function oF(e){const{width:t,height:n}=_k(e);return{width:t,height:n}}function iF(e,t,n){const s=ls(t),o=us(t),i=n==="fixed",c=Ja(e,!0,i,t);let d={scrollLeft:0,scrollTop:0};const h=is(0);function f(){h.x=Eu(o)}if(s||!s&&!i)if((vi(t)!=="body"||Bl(o))&&(d=Su(t)),s){const b=Ja(t,!0,i,t);h.x=b.x+t.clientLeft,h.y=b.y+t.clientTop}else o&&f();i&&!s&&o&&f();const m=o&&!s&&!i?Tk(o,d):is(0),p=c.left+d.scrollLeft-h.x-m.x,x=c.top+d.scrollTop-h.y-m.y;return{x:p,y:x,width:c.width,height:c.height}}function ap(e){return Mr(e).position==="static"}function nb(e,t){if(!ls(e)||Mr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return us(e)===n&&(n=n.ownerDocument.body),n}function Pk(e,t){const n=Zn(e);if(Nu(e))return n;if(!ls(e)){let o=pa(e);for(;o&&!ci(o);){if(Fr(o)&&!ap(o))return o;o=pa(o)}return n}let s=nb(e,t);for(;s&&VO(s)&&ap(s);)s=nb(s,t);return s&&ci(s)&&ap(s)&&!Xm(s)?n:s||KO(e)||n}const lF=async function(e){const t=this.getOffsetParent||Pk,n=this.getDimensions,s=await n(e.floating);return{reference:iF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function cF(e){return Mr(e).direction==="rtl"}const dF={convertOffsetParentRelativeRectToViewportRelativeRect:XO,getDocumentElement:us,getClippingRect:aF,getOffsetParent:Pk,getElementRects:lF,getClientRects:QO,getDimensions:oF,getScale:ai,isElement:Fr,isRTL:cF};function Rk(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function uF(e,t){let n=null,s;const o=us(e);function i(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),i();const f=e.getBoundingClientRect(),{left:m,top:p,width:x,height:b}=f;if(d||t(),!x||!b)return;const w=xd(p),k=xd(o.clientWidth-(m+x)),N=xd(o.clientHeight-(p+b)),E=xd(m),C={rootMargin:-w+"px "+-k+"px "+-N+"px "+-E+"px",threshold:Kn(0,ha(1,h))||1};let D=!0;function _(A){const P=A[0].intersectionRatio;if(P!==h){if(!D)return c();P?c(!1,P):s=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!Rk(f,e.getBoundingClientRect())&&c(),D=!1}try{n=new IntersectionObserver(_,{...C,root:o.ownerDocument})}catch{n=new IntersectionObserver(_,C)}n.observe(e)}return c(!0),i}function fF(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,f=eg(e),m=o||i?[...f?Cl(f):[],...Cl(t)]:[];m.forEach(E=>{o&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const p=f&&d?uF(f,n):null;let x=-1,b=null;c&&(b=new ResizeObserver(E=>{let[S]=E;S&&S.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var C;(C=b)==null||C.observe(t)})),n()}),f&&!h&&b.observe(f),b.observe(t));let w,k=h?Ja(e):null;h&&N();function N(){const E=Ja(e);k&&!Rk(k,E)&&n(),k=E,w=requestAnimationFrame(N)}return n(),()=>{var E;m.forEach(S=>{o&&S.removeEventListener("scroll",n),i&&S.removeEventListener("resize",n)}),p?.(),(E=b)==null||E.disconnect(),b=null,h&&cancelAnimationFrame(w)}}const hF=MO,pF=LO,mF=IO,gF=$O,vF=OO,rb=AO,xF=zO,yF=(e,t,n)=>{const s=new Map,o={platform:dF,...n},i={...o.platform,_c:s};return RO(e,t,{...o,platform:i})};var bF=typeof document<"u",wF=function(){},Cd=bF?v.useLayoutEffect:wF;function Gd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Gd(e[s],t[s]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,o[s]))return!1;for(s=n;s--!==0;){const i=o[s];if(!(i==="_owner"&&e.$$typeof)&&!Gd(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Ak(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sb(e,t){const n=Ak(e);return Math.round(t*n)/n}function op(e){const t=v.useRef(e);return Cd(()=>{t.current=e}),t}function kF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:i,floating:c}={},transform:d=!0,whileElementsMounted:h,open:f}=e,[m,p]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=v.useState(s);Gd(x,s)||b(s);const[w,k]=v.useState(null),[N,E]=v.useState(null),S=v.useCallback(M=>{M!==A.current&&(A.current=M,k(M))},[]),C=v.useCallback(M=>{M!==P.current&&(P.current=M,E(M))},[]),D=i||w,_=c||N,A=v.useRef(null),P=v.useRef(null),F=v.useRef(m),W=h!=null,U=op(h),G=op(o),ne=op(f),V=v.useCallback(()=>{if(!A.current||!P.current)return;const M={placement:t,strategy:n,middleware:x};G.current&&(M.platform=G.current),yF(A.current,P.current,M).then(X=>{const ae={...X,isPositioned:ne.current!==!1};re.current&&!Gd(F.current,ae)&&(F.current=ae,rs.flushSync(()=>{p(ae)}))})},[x,t,n,G,ne]);Cd(()=>{f===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,p(M=>({...M,isPositioned:!1})))},[f]);const re=v.useRef(!1);Cd(()=>(re.current=!0,()=>{re.current=!1}),[]),Cd(()=>{if(D&&(A.current=D),_&&(P.current=_),D&&_){if(U.current)return U.current(D,_,V);V()}},[D,_,V,U,W]);const pe=v.useMemo(()=>({reference:A,floating:P,setReference:S,setFloating:C}),[S,C]),se=v.useMemo(()=>({reference:D,floating:_}),[D,_]),q=v.useMemo(()=>{const M={position:n,left:0,top:0};if(!se.floating)return M;const X=sb(se.floating,m.x),ae=sb(se.floating,m.y);return d?{...M,transform:"translate("+X+"px, "+ae+"px)",...Ak(se.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:ae}},[n,d,se.floating,m.x,m.y]);return v.useMemo(()=>({...m,update:V,refs:pe,elements:se,floatingStyles:q}),[m,V,pe,se,q])}const jF=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:o}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?rb({element:s.current,padding:o}).fn(n):{}:s?rb({element:s,padding:o}).fn(n):{}}}},NF=(e,t)=>({...hF(e),options:[e,t]}),SF=(e,t)=>({...pF(e),options:[e,t]}),EF=(e,t)=>({...xF(e),options:[e,t]}),_F=(e,t)=>({...mF(e),options:[e,t]}),CF=(e,t)=>({...gF(e),options:[e,t]}),TF=(e,t)=>({...vF(e),options:[e,t]}),DF=(e,t)=>({...jF(e),options:[e,t]});var PF="Arrow",Ik=v.forwardRef((e,t)=>{const{children:n,width:s=10,height:o=5,...i}=e;return r.jsx(Re.svg,{...i,ref:t,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ik.displayName=PF;var RF=Ik;function tg(e){const[t,n]=v.useState(void 0);return Ft(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let c,d;if("borderBoxSize"in i){const h=i.borderBoxSize,f=Array.isArray(h)?h[0]:h;c=f.inlineSize,d=f.blockSize}else c=e.offsetWidth,d=e.offsetHeight;n({width:c,height:d})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var ng="Popper",[Ok,_u]=vr(ng),[AF,Fk]=Ok(ng),Mk=e=>{const{__scopePopper:t,children:n}=e,[s,o]=v.useState(null);return r.jsx(AF,{scope:t,anchor:s,onAnchorChange:o,children:n})};Mk.displayName=ng;var Lk="PopperAnchor",zk=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...o}=e,i=Fk(Lk,n),c=v.useRef(null),d=Ue(t,c),h=v.useRef(null);return v.useEffect(()=>{const f=h.current;h.current=s?.current||c.current,f!==h.current&&i.onAnchorChange(h.current)}),s?null:r.jsx(Re.div,{...o,ref:d})});zk.displayName=Lk;var rg="PopperContent",[IF,OF]=Ok(rg),$k=v.forwardRef((e,t)=>{const{__scopePopper:n,side:s="bottom",sideOffset:o=0,align:i="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:w,...k}=e,N=Fk(rg,n),[E,S]=v.useState(null),C=Ue(t,J=>S(J)),[D,_]=v.useState(null),A=tg(D),P=A?.width??0,F=A?.height??0,W=s+(i!=="center"?"-"+i:""),U=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},G=Array.isArray(f)?f:[f],ne=G.length>0,V={padding:U,boundary:G.filter(MF),altBoundary:ne},{refs:re,floatingStyles:pe,placement:se,isPositioned:q,middlewareData:M}=kF({strategy:"fixed",placement:W,whileElementsMounted:(...J)=>fF(...J,{animationFrame:b==="always"}),elements:{reference:N.anchor},middleware:[NF({mainAxis:o+F,alignmentAxis:c}),h&&SF({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?EF():void 0,...V}),h&&_F({...V}),CF({...V,apply:({elements:J,rects:ie,availableWidth:be,availableHeight:ge})=>{const{width:Ae,height:Oe}=ie.reference,ot=J.floating.style;ot.setProperty("--radix-popper-available-width",`${be}px`),ot.setProperty("--radix-popper-available-height",`${ge}px`),ot.setProperty("--radix-popper-anchor-width",`${Ae}px`),ot.setProperty("--radix-popper-anchor-height",`${Oe}px`)}}),D&&DF({element:D,padding:d}),LF({arrowWidth:P,arrowHeight:F}),x&&TF({strategy:"referenceHidden",...V})]}),[X,ae]=Vk(se),I=Xt(w);Ft(()=>{q&&I?.()},[q,I]);const R=M.arrow?.x,O=M.arrow?.y,z=M.arrow?.centerOffset!==0,[H,Q]=v.useState();return Ft(()=>{E&&Q(window.getComputedStyle(E).zIndex)},[E]),r.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...pe,transform:q?pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[M.transformOrigin?.x,M.transformOrigin?.y].join(" "),...M.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(IF,{scope:n,placedSide:X,onArrowChange:_,arrowX:R,arrowY:O,shouldHideArrow:z,children:r.jsx(Re.div,{"data-side":X,"data-align":ae,...k,ref:C,style:{...k.style,animation:q?void 0:"none"}})})})});$k.displayName=rg;var Bk="PopperArrow",FF={top:"bottom",right:"left",bottom:"top",left:"right"},Uk=v.forwardRef(function(t,n){const{__scopePopper:s,...o}=t,i=OF(Bk,s),c=FF[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(RF,{...o,ref:n,style:{...o.style,display:"block"}})})});Uk.displayName=Bk;function MF(e){return e!==null}var LF=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:s,middlewareData:o}=t,c=o.arrow?.centerOffset!==0,d=c?0:e.arrowWidth,h=c?0:e.arrowHeight,[f,m]=Vk(n),p={start:"0%",center:"50%",end:"100%"}[m],x=(o.arrow?.x??0)+d/2,b=(o.arrow?.y??0)+h/2;let w="",k="";return f==="bottom"?(w=c?p:`${x}px`,k=`${-h}px`):f==="top"?(w=c?p:`${x}px`,k=`${s.floating.height+h}px`):f==="right"?(w=`${-h}px`,k=c?p:`${b}px`):f==="left"&&(w=`${s.floating.width+h}px`,k=c?p:`${b}px`),{data:{x:w,y:k}}}});function Vk(e){const[t,n="center"]=e.split("-");return[t,n]}var Wk=Mk,Hk=zk,qk=$k,Yk=Uk,zF="Portal",Cu=v.forwardRef((e,t)=>{const{container:n,...s}=e,[o,i]=v.useState(!1);Ft(()=>i(!0),[]);const c=n||o&&globalThis?.document?.body;return c?dk.createPortal(r.jsx(Re.div,{...s,ref:t}),c):null});Cu.displayName=zF;var $F=bm[" useInsertionEffect ".trim().toString()]||Ft;function ma({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[o,i,c]=BF({defaultProp:t,onChange:n}),d=e!==void 0,h=d?e:o;{const m=v.useRef(e!==void 0);v.useEffect(()=>{const p=m.current;p!==d&&console.warn(`${s} is changing from ${p?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=d},[d,s])}const f=v.useCallback(m=>{if(d){const p=UF(m)?m(e):m;p!==e&&c.current?.(p)}else i(m)},[d,e,i,c]);return[h,f]}function BF({defaultProp:e,onChange:t}){const[n,s]=v.useState(e),o=v.useRef(n),i=v.useRef(t);return $F(()=>{i.current=t},[t]),v.useEffect(()=>{o.current!==n&&(i.current?.(n),o.current=n)},[n,o]),[n,s,i]}function UF(e){return typeof e=="function"}function sg(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Kk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),VF="VisuallyHidden",WF=v.forwardRef((e,t)=>r.jsx(Re.span,{...e,ref:t,style:{...Kk,...e.style}}));WF.displayName=VF;var HF=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Go=new WeakMap,yd=new WeakMap,bd={},ip=0,Gk=function(e){return e&&(e.host||Gk(e.parentNode))},qF=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=Gk(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},YF=function(e,t,n,s){var o=qF(t,Array.isArray(e)?e:[e]);bd[n]||(bd[n]=new WeakMap);var i=bd[n],c=[],d=new Set,h=new Set(o),f=function(p){!p||d.has(p)||(d.add(p),f(p.parentNode))};o.forEach(f);var m=function(p){!p||h.has(p)||Array.prototype.forEach.call(p.children,function(x){if(d.has(x))m(x);else try{var b=x.getAttribute(s),w=b!==null&&b!=="false",k=(Go.get(x)||0)+1,N=(i.get(x)||0)+1;Go.set(x,k),i.set(x,N),c.push(x),k===1&&w&&yd.set(x,!0),N===1&&x.setAttribute(n,"true"),w||x.setAttribute(s,"true")}catch(E){console.error("aria-hidden: cannot operate on ",x,E)}})};return m(t),d.clear(),ip++,function(){c.forEach(function(p){var x=Go.get(p)-1,b=i.get(p)-1;Go.set(p,x),i.set(p,b),x||(yd.has(p)||p.removeAttribute(s),yd.delete(p)),b||p.removeAttribute(n)}),ip--,ip||(Go=new WeakMap,Go=new WeakMap,yd=new WeakMap,bd={})}},ag=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),o=HF(e);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),YF(s,o,n,"aria-hidden")):function(){return null}},ns=function(){return ns=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ns.apply(this,arguments)};function Zk(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n}function KF(e,t,n){if(n||arguments.length===2)for(var s=0,o=t.length,i;s<o;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var Td="right-scroll-bar-position",Dd="width-before-scroll-bar",GF="with-scroll-bars-hidden",ZF="--removed-body-scroll-bar-size";function lp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function JF(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var o=n.value;o!==s&&(n.value=s,n.callback(s,o))}}}})[0];return n.callback=t,n.facade}var XF=typeof window<"u"?v.useLayoutEffect:v.useEffect,ab=new WeakMap;function QF(e,t){var n=JF(null,function(s){return e.forEach(function(o){return lp(o,s)})});return XF(function(){var s=ab.get(n);if(s){var o=new Set(s),i=new Set(e),c=n.current;o.forEach(function(d){i.has(d)||lp(d,null)}),i.forEach(function(d){o.has(d)||lp(d,c)})}ab.set(n,e)},[e]),n}function eM(e){return e}function tM(e,t){t===void 0&&(t=eM);var n=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var c=t(i,s);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(i){for(s=!0;n.length;){var c=n;n=[],c.forEach(i)}n={push:function(d){return i(d)},filter:function(){return n}}},assignMedium:function(i){s=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(i),c=n}var h=function(){var m=c;c=[],m.forEach(i)},f=function(){return Promise.resolve().then(h)};f(),n={push:function(m){c.push(m),f()},filter:function(m){return c=c.filter(m),n}}}};return o}function nM(e){e===void 0&&(e={});var t=tM(null);return t.options=ns({async:!0,ssr:!1},e),t}var Jk=function(e){var t=e.sideCar,n=Zk(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return v.createElement(s,ns({},n))};Jk.isSideCarExport=!0;function rM(e,t){return e.useMedium(t),Jk}var Xk=nM(),cp=function(){},Tu=v.forwardRef(function(e,t){var n=v.useRef(null),s=v.useState({onScrollCapture:cp,onWheelCapture:cp,onTouchMoveCapture:cp}),o=s[0],i=s[1],c=e.forwardProps,d=e.children,h=e.className,f=e.removeScrollBar,m=e.enabled,p=e.shards,x=e.sideCar,b=e.noRelative,w=e.noIsolation,k=e.inert,N=e.allowPinchZoom,E=e.as,S=E===void 0?"div":E,C=e.gapMode,D=Zk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=x,A=QF([n,t]),P=ns(ns({},D),o);return v.createElement(v.Fragment,null,m&&v.createElement(_,{sideCar:Xk,removeScrollBar:f,shards:p,noRelative:b,noIsolation:w,inert:k,setCallbacks:i,allowPinchZoom:!!N,lockRef:n,gapMode:C}),c?v.cloneElement(v.Children.only(d),ns(ns({},P),{ref:A})):v.createElement(S,ns({},P,{className:h,ref:A}),d))});Tu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tu.classNames={fullWidth:Dd,zeroRight:Td};var sM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=sM();return t&&e.setAttribute("nonce",t),e}function oM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function iM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var lM=function(){var e=0,t=null;return{add:function(n){e==0&&(t=aM())&&(oM(t,n),iM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},cM=function(){var e=lM();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Qk=function(){var e=cM(),t=function(n){var s=n.styles,o=n.dynamic;return e(s,o),null};return t},dM={left:0,top:0,right:0,gap:0},dp=function(e){return parseInt(e||"",10)||0},uM=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[dp(n),dp(s),dp(o)]},fM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return dM;var t=uM(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},hM=Qk(),oi="data-scroll-locked",pM=function(e,t,n,s){var o=e.left,i=e.top,c=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(GF,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(oi,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Td,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Dd,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Td," .").concat(Td,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Dd," .").concat(Dd,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(oi,`] {
    `).concat(ZF,": ").concat(d,`px;
  }
`)},ob=function(){var e=parseInt(document.body.getAttribute(oi)||"0",10);return isFinite(e)?e:0},mM=function(){v.useEffect(function(){return document.body.setAttribute(oi,(ob()+1).toString()),function(){var e=ob()-1;e<=0?document.body.removeAttribute(oi):document.body.setAttribute(oi,e.toString())}},[])},gM=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,o=s===void 0?"margin":s;mM();var i=v.useMemo(function(){return fM(o)},[o]);return v.createElement(hM,{styles:pM(i,!t,o,n?"":"!important")})},tm=!1;if(typeof window<"u")try{var wd=Object.defineProperty({},"passive",{get:function(){return tm=!0,!0}});window.addEventListener("test",wd,wd),window.removeEventListener("test",wd,wd)}catch{tm=!1}var Zo=tm?{passive:!1}:!1,vM=function(e){return e.tagName==="TEXTAREA"},e1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!vM(e)&&n[t]==="visible")},xM=function(e){return e1(e,"overflowY")},yM=function(e){return e1(e,"overflowX")},ib=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=t1(e,s);if(o){var i=n1(e,s),c=i[1],d=i[2];if(c>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},bM=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},wM=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},t1=function(e,t){return e==="v"?xM(t):yM(t)},n1=function(e,t){return e==="v"?bM(t):wM(t)},kM=function(e,t){return e==="h"&&t==="rtl"?-1:1},jM=function(e,t,n,s,o){var i=kM(e,window.getComputedStyle(t).direction),c=i*s,d=n.target,h=t.contains(d),f=!1,m=c>0,p=0,x=0;do{if(!d)break;var b=n1(e,d),w=b[0],k=b[1],N=b[2],E=k-N-i*w;(w||E)&&t1(e,d)&&(p+=E,x+=w);var S=d.parentNode;d=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!h&&d!==document.body||h&&(t.contains(d)||t===d));return(m&&Math.abs(p)<1||!m&&Math.abs(x)<1)&&(f=!0),f},kd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},lb=function(e){return[e.deltaX,e.deltaY]},cb=function(e){return e&&"current"in e?e.current:e},NM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},SM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},EM=0,Jo=[];function _M(e){var t=v.useRef([]),n=v.useRef([0,0]),s=v.useRef(),o=v.useState(EM++)[0],i=v.useState(Qk)[0],c=v.useRef(e);v.useEffect(function(){c.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var k=KF([e.lockRef.current],(e.shards||[]).map(cb),!0).filter(Boolean);return k.forEach(function(N){return N.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),k.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var d=v.useCallback(function(k,N){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!c.current.allowPinchZoom;var E=kd(k),S=n.current,C="deltaX"in k?k.deltaX:S[0]-E[0],D="deltaY"in k?k.deltaY:S[1]-E[1],_,A=k.target,P=Math.abs(C)>Math.abs(D)?"h":"v";if("touches"in k&&P==="h"&&A.type==="range")return!1;var F=ib(P,A);if(!F)return!0;if(F?_=P:(_=P==="v"?"h":"v",F=ib(P,A)),!F)return!1;if(!s.current&&"changedTouches"in k&&(C||D)&&(s.current=_),!_)return!0;var W=s.current||_;return jM(W,N,k,W==="h"?C:D)},[]),h=v.useCallback(function(k){var N=k;if(!(!Jo.length||Jo[Jo.length-1]!==i)){var E="deltaY"in N?lb(N):kd(N),S=t.current.filter(function(_){return _.name===N.type&&(_.target===N.target||N.target===_.shadowParent)&&NM(_.delta,E)})[0];if(S&&S.should){N.cancelable&&N.preventDefault();return}if(!S){var C=(c.current.shards||[]).map(cb).filter(Boolean).filter(function(_){return _.contains(N.target)}),D=C.length>0?d(N,C[0]):!c.current.noIsolation;D&&N.cancelable&&N.preventDefault()}}},[]),f=v.useCallback(function(k,N,E,S){var C={name:k,delta:N,target:E,should:S,shadowParent:CM(E)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(D){return D!==C})},1)},[]),m=v.useCallback(function(k){n.current=kd(k),s.current=void 0},[]),p=v.useCallback(function(k){f(k.type,lb(k),k.target,d(k,e.lockRef.current))},[]),x=v.useCallback(function(k){f(k.type,kd(k),k.target,d(k,e.lockRef.current))},[]);v.useEffect(function(){return Jo.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",h,Zo),document.addEventListener("touchmove",h,Zo),document.addEventListener("touchstart",m,Zo),function(){Jo=Jo.filter(function(k){return k!==i}),document.removeEventListener("wheel",h,Zo),document.removeEventListener("touchmove",h,Zo),document.removeEventListener("touchstart",m,Zo)}},[]);var b=e.removeScrollBar,w=e.inert;return v.createElement(v.Fragment,null,w?v.createElement(i,{styles:SM(o)}):null,b?v.createElement(gM,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function CM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const TM=rM(Xk,_M);var Du=v.forwardRef(function(e,t){return v.createElement(Tu,ns({},e,{ref:t,sideCar:TM}))});Du.classNames=Tu.classNames;var DM=[" ","Enter","ArrowUp","ArrowDown"],PM=[" ","Enter"],Xa="Select",[Pu,Ru,RM]=Ym(Xa),[xi]=vr(Xa,[RM,_u]),Au=_u(),[AM,ya]=xi(Xa),[IM,OM]=xi(Xa),r1=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:o,onOpenChange:i,value:c,defaultValue:d,onValueChange:h,dir:f,name:m,autoComplete:p,disabled:x,required:b,form:w}=e,k=Au(t),[N,E]=v.useState(null),[S,C]=v.useState(null),[D,_]=v.useState(!1),A=$l(f),[P,F]=ma({prop:s,defaultProp:o??!1,onChange:i,caller:Xa}),[W,U]=ma({prop:c,defaultProp:d,onChange:h,caller:Xa}),G=v.useRef(null),ne=N?w||!!N.closest("form"):!0,[V,re]=v.useState(new Set),pe=Array.from(V).map(se=>se.props.value).join(";");return r.jsx(Wk,{...k,children:r.jsxs(AM,{required:b,scope:t,trigger:N,onTriggerChange:E,valueNode:S,onValueNodeChange:C,valueNodeHasChildren:D,onValueNodeHasChildrenChange:_,contentId:os(),value:W,onValueChange:U,open:P,onOpenChange:F,dir:A,triggerPointerDownPosRef:G,disabled:x,children:[r.jsx(Pu.Provider,{scope:t,children:r.jsx(IM,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(se=>{re(q=>new Set(q).add(se))},[]),onNativeOptionRemove:v.useCallback(se=>{re(q=>{const M=new Set(q);return M.delete(se),M})},[]),children:n})}),ne?r.jsxs(S1,{"aria-hidden":!0,required:b,tabIndex:-1,name:m,autoComplete:p,value:W,onChange:se=>U(se.target.value),disabled:x,form:w,children:[W===void 0?r.jsx("option",{value:""}):null,Array.from(V)]},pe):null]})})};r1.displayName=Xa;var s1="SelectTrigger",a1=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...o}=e,i=Au(n),c=ya(s1,n),d=c.disabled||s,h=Ue(t,c.onTriggerChange),f=Ru(n),m=v.useRef("touch"),[p,x,b]=_1(k=>{const N=f().filter(C=>!C.disabled),E=N.find(C=>C.value===c.value),S=C1(N,k,E);S!==void 0&&c.onValueChange(S.value)}),w=k=>{d||(c.onOpenChange(!0),b()),k&&(c.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return r.jsx(Hk,{asChild:!0,...i,children:r.jsx(Re.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":E1(c.value)?"":void 0,...o,ref:h,onClick:ye(o.onClick,k=>{k.currentTarget.focus(),m.current!=="mouse"&&w(k)}),onPointerDown:ye(o.onPointerDown,k=>{m.current=k.pointerType;const N=k.target;N.hasPointerCapture(k.pointerId)&&N.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(w(k),k.preventDefault())}),onKeyDown:ye(o.onKeyDown,k=>{const N=p.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&x(k.key),!(N&&k.key===" ")&&DM.includes(k.key)&&(w(),k.preventDefault())})})})});a1.displayName=s1;var o1="SelectValue",i1=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:o,children:i,placeholder:c="",...d}=e,h=ya(o1,n),{onValueNodeHasChildrenChange:f}=h,m=i!==void 0,p=Ue(t,h.onValueNodeChange);return Ft(()=>{f(m)},[f,m]),r.jsx(Re.span,{...d,ref:p,style:{pointerEvents:"none"},children:E1(h.value)?r.jsx(r.Fragment,{children:c}):i})});i1.displayName=o1;var FM="SelectIcon",l1=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...o}=e;return r.jsx(Re.span,{"aria-hidden":!0,...o,ref:t,children:s||""})});l1.displayName=FM;var MM="SelectPortal",c1=e=>r.jsx(Cu,{asChild:!0,...e});c1.displayName=MM;var Qa="SelectContent",d1=v.forwardRef((e,t)=>{const n=ya(Qa,e.__scopeSelect),[s,o]=v.useState();if(Ft(()=>{o(new DocumentFragment)},[]),!n.open){const i=s;return i?rs.createPortal(r.jsx(u1,{scope:e.__scopeSelect,children:r.jsx(Pu.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(f1,{...e,ref:t})});d1.displayName=Qa;var Cr=10,[u1,ba]=xi(Qa),LM="SelectContentImpl",zM=Za("SelectContent.RemoveScroll"),f1=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:c,side:d,sideOffset:h,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:b,sticky:w,hideWhenDetached:k,avoidCollisions:N,...E}=e,S=ya(Qa,n),[C,D]=v.useState(null),[_,A]=v.useState(null),P=Ue(t,J=>D(J)),[F,W]=v.useState(null),[U,G]=v.useState(null),ne=Ru(n),[V,re]=v.useState(!1),pe=v.useRef(!1);v.useEffect(()=>{if(C)return ag(C)},[C]),Km();const se=v.useCallback(J=>{const[ie,...be]=ne().map(Oe=>Oe.ref.current),[ge]=be.slice(-1),Ae=document.activeElement;for(const Oe of J)if(Oe===Ae||(Oe?.scrollIntoView({block:"nearest"}),Oe===ie&&_&&(_.scrollTop=0),Oe===ge&&_&&(_.scrollTop=_.scrollHeight),Oe?.focus(),document.activeElement!==Ae))return},[ne,_]),q=v.useCallback(()=>se([F,C]),[se,F,C]);v.useEffect(()=>{V&&q()},[V,q]);const{onOpenChange:M,triggerPointerDownPosRef:X}=S;v.useEffect(()=>{if(C){let J={x:0,y:0};const ie=ge=>{J={x:Math.abs(Math.round(ge.pageX)-(X.current?.x??0)),y:Math.abs(Math.round(ge.pageY)-(X.current?.y??0))}},be=ge=>{J.x<=10&&J.y<=10?ge.preventDefault():C.contains(ge.target)||M(!1),document.removeEventListener("pointermove",ie),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",be,{capture:!0})}}},[C,M,X]),v.useEffect(()=>{const J=()=>M(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[M]);const[ae,I]=_1(J=>{const ie=ne().filter(Ae=>!Ae.disabled),be=ie.find(Ae=>Ae.ref.current===document.activeElement),ge=C1(ie,J,be);ge&&setTimeout(()=>ge.ref.current.focus())}),R=v.useCallback((J,ie,be)=>{const ge=!pe.current&&!be;(S.value!==void 0&&S.value===ie||ge)&&(W(J),ge&&(pe.current=!0))},[S.value]),O=v.useCallback(()=>C?.focus(),[C]),z=v.useCallback((J,ie,be)=>{const ge=!pe.current&&!be;(S.value!==void 0&&S.value===ie||ge)&&G(J)},[S.value]),H=s==="popper"?nm:h1,Q=H===nm?{side:d,sideOffset:h,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:b,sticky:w,hideWhenDetached:k,avoidCollisions:N}:{};return r.jsx(u1,{scope:n,content:C,viewport:_,onViewportChange:A,itemRefCallback:R,selectedItem:F,onItemLeave:O,itemTextRefCallback:z,focusSelectedItem:q,selectedItemText:U,position:s,isPositioned:V,searchRef:ae,children:r.jsx(Du,{as:zM,allowPinchZoom:!0,children:r.jsx(ku,{asChild:!0,trapped:S.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:ye(o,J=>{S.trigger?.focus({preventScroll:!0}),J.preventDefault()}),children:r.jsx(wu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:r.jsx(H,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:J=>J.preventDefault(),...E,...Q,onPlaced:()=>re(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:ye(E.onKeyDown,J=>{const ie=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ie&&J.key.length===1&&I(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let ge=ne().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(J.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const Ae=J.target,Oe=ge.indexOf(Ae);ge=ge.slice(Oe+1)}setTimeout(()=>se(ge)),J.preventDefault()}})})})})})})});f1.displayName=LM;var $M="SelectItemAlignedPosition",h1=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...o}=e,i=ya(Qa,n),c=ba(Qa,n),[d,h]=v.useState(null),[f,m]=v.useState(null),p=Ue(t,P=>m(P)),x=Ru(n),b=v.useRef(!1),w=v.useRef(!0),{viewport:k,selectedItem:N,selectedItemText:E,focusSelectedItem:S}=c,C=v.useCallback(()=>{if(i.trigger&&i.valueNode&&d&&f&&k&&N&&E){const P=i.trigger.getBoundingClientRect(),F=f.getBoundingClientRect(),W=i.valueNode.getBoundingClientRect(),U=E.getBoundingClientRect();if(i.dir!=="rtl"){const Ae=U.left-F.left,Oe=W.left-Ae,ot=P.left-Oe,ft=P.width+ot,mn=Math.max(ft,F.width),ln=window.innerWidth-Cr,cn=Zp(Oe,[Cr,Math.max(Cr,ln-mn)]);d.style.minWidth=ft+"px",d.style.left=cn+"px"}else{const Ae=F.right-U.right,Oe=window.innerWidth-W.right-Ae,ot=window.innerWidth-P.right-Oe,ft=P.width+ot,mn=Math.max(ft,F.width),ln=window.innerWidth-Cr,cn=Zp(Oe,[Cr,Math.max(Cr,ln-mn)]);d.style.minWidth=ft+"px",d.style.right=cn+"px"}const G=x(),ne=window.innerHeight-Cr*2,V=k.scrollHeight,re=window.getComputedStyle(f),pe=parseInt(re.borderTopWidth,10),se=parseInt(re.paddingTop,10),q=parseInt(re.borderBottomWidth,10),M=parseInt(re.paddingBottom,10),X=pe+se+V+M+q,ae=Math.min(N.offsetHeight*5,X),I=window.getComputedStyle(k),R=parseInt(I.paddingTop,10),O=parseInt(I.paddingBottom,10),z=P.top+P.height/2-Cr,H=ne-z,Q=N.offsetHeight/2,J=N.offsetTop+Q,ie=pe+se+J,be=X-ie;if(ie<=z){const Ae=G.length>0&&N===G[G.length-1].ref.current;d.style.bottom="0px";const Oe=f.clientHeight-k.offsetTop-k.offsetHeight,ot=Math.max(H,Q+(Ae?O:0)+Oe+q),ft=ie+ot;d.style.height=ft+"px"}else{const Ae=G.length>0&&N===G[0].ref.current;d.style.top="0px";const ot=Math.max(z,pe+k.offsetTop+(Ae?R:0)+Q)+be;d.style.height=ot+"px",k.scrollTop=ie-z+k.offsetTop}d.style.margin=`${Cr}px 0`,d.style.minHeight=ae+"px",d.style.maxHeight=ne+"px",s?.(),requestAnimationFrame(()=>b.current=!0)}},[x,i.trigger,i.valueNode,d,f,k,N,E,i.dir,s]);Ft(()=>C(),[C]);const[D,_]=v.useState();Ft(()=>{f&&_(window.getComputedStyle(f).zIndex)},[f]);const A=v.useCallback(P=>{P&&w.current===!0&&(C(),S?.(),w.current=!1)},[C,S]);return r.jsx(UM,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:A,children:r.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:r.jsx(Re.div,{...o,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});h1.displayName=$M;var BM="SelectPopperPosition",nm=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:o=Cr,...i}=e,c=Au(n);return r.jsx(qk,{...c,...i,ref:t,align:s,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});nm.displayName=BM;var[UM,og]=xi(Qa,{}),rm="SelectViewport",p1=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...o}=e,i=ba(rm,n),c=og(rm,n),d=Ue(t,i.onViewportChange),h=v.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Pu.Slot,{scope:n,children:r.jsx(Re.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:ye(o.onScroll,f=>{const m=f.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:x}=c;if(x?.current&&p){const b=Math.abs(h.current-m.scrollTop);if(b>0){const w=window.innerHeight-Cr*2,k=parseFloat(p.style.minHeight),N=parseFloat(p.style.height),E=Math.max(k,N);if(E<w){const S=E+b,C=Math.min(w,S),D=S-C;p.style.height=C+"px",p.style.bottom==="0px"&&(m.scrollTop=D>0?D:0,p.style.justifyContent="flex-end")}}}h.current=m.scrollTop})})})]})});p1.displayName=rm;var m1="SelectGroup",[VM,WM]=xi(m1),HM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=os();return r.jsx(VM,{scope:n,id:o,children:r.jsx(Re.div,{role:"group","aria-labelledby":o,...s,ref:t})})});HM.displayName=m1;var g1="SelectLabel",qM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=WM(g1,n);return r.jsx(Re.div,{id:o.id,...s,ref:t})});qM.displayName=g1;var Zd="SelectItem",[YM,v1]=xi(Zd),x1=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:o=!1,textValue:i,...c}=e,d=ya(Zd,n),h=ba(Zd,n),f=d.value===s,[m,p]=v.useState(i??""),[x,b]=v.useState(!1),w=Ue(t,S=>h.itemRefCallback?.(S,s,o)),k=os(),N=v.useRef("touch"),E=()=>{o||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(YM,{scope:n,value:s,disabled:o,textId:k,isSelected:f,onItemTextChange:v.useCallback(S=>{p(C=>C||(S?.textContent??"").trim())},[]),children:r.jsx(Pu.ItemSlot,{scope:n,value:s,disabled:o,textValue:m,children:r.jsx(Re.div,{role:"option","aria-labelledby":k,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:w,onFocus:ye(c.onFocus,()=>b(!0)),onBlur:ye(c.onBlur,()=>b(!1)),onClick:ye(c.onClick,()=>{N.current!=="mouse"&&E()}),onPointerUp:ye(c.onPointerUp,()=>{N.current==="mouse"&&E()}),onPointerDown:ye(c.onPointerDown,S=>{N.current=S.pointerType}),onPointerMove:ye(c.onPointerMove,S=>{N.current=S.pointerType,o?h.onItemLeave?.():N.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(c.onPointerLeave,S=>{S.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:ye(c.onKeyDown,S=>{h.searchRef?.current!==""&&S.key===" "||(PM.includes(S.key)&&E(),S.key===" "&&S.preventDefault())})})})})});x1.displayName=Zd;var dl="SelectItemText",y1=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:o,...i}=e,c=ya(dl,n),d=ba(dl,n),h=v1(dl,n),f=OM(dl,n),[m,p]=v.useState(null),x=Ue(t,E=>p(E),h.onItemTextChange,E=>d.itemTextRefCallback?.(E,h.value,h.disabled)),b=m?.textContent,w=v.useMemo(()=>r.jsx("option",{value:h.value,disabled:h.disabled,children:b},h.value),[h.disabled,h.value,b]),{onNativeOptionAdd:k,onNativeOptionRemove:N}=f;return Ft(()=>(k(w),()=>N(w)),[k,N,w]),r.jsxs(r.Fragment,{children:[r.jsx(Re.span,{id:h.textId,...i,ref:x}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?rs.createPortal(i.children,c.valueNode):null]})});y1.displayName=dl;var b1="SelectItemIndicator",w1=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return v1(b1,n).isSelected?r.jsx(Re.span,{"aria-hidden":!0,...s,ref:t}):null});w1.displayName=b1;var sm="SelectScrollUpButton",k1=v.forwardRef((e,t)=>{const n=ba(sm,e.__scopeSelect),s=og(sm,e.__scopeSelect),[o,i]=v.useState(!1),c=Ue(t,s.onScrollButtonChange);return Ft(()=>{if(n.viewport&&n.isPositioned){let d=function(){const f=h.scrollTop>0;i(f)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?r.jsx(N1,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});k1.displayName=sm;var am="SelectScrollDownButton",j1=v.forwardRef((e,t)=>{const n=ba(am,e.__scopeSelect),s=og(am,e.__scopeSelect),[o,i]=v.useState(!1),c=Ue(t,s.onScrollButtonChange);return Ft(()=>{if(n.viewport&&n.isPositioned){let d=function(){const f=h.scrollHeight-h.clientHeight,m=Math.ceil(h.scrollTop)<f;i(m)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?r.jsx(N1,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});j1.displayName=am;var N1=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...o}=e,i=ba("SelectScrollButton",n),c=v.useRef(null),d=Ru(n),h=v.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return v.useEffect(()=>()=>h(),[h]),Ft(()=>{d().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),r.jsx(Re.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:ye(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(s,50))}),onPointerMove:ye(o.onPointerMove,()=>{i.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(s,50))}),onPointerLeave:ye(o.onPointerLeave,()=>{h()})})}),KM="SelectSeparator",GM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(Re.div,{"aria-hidden":!0,...s,ref:t})});GM.displayName=KM;var om="SelectArrow",ZM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=Au(n),i=ya(om,n),c=ba(om,n);return i.open&&c.position==="popper"?r.jsx(Yk,{...o,...s,ref:t}):null});ZM.displayName=om;var JM="SelectBubbleInput",S1=v.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const o=v.useRef(null),i=Ue(s,o),c=sg(t);return v.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==t&&m){const p=new Event("change",{bubbles:!0});m.call(d,t),d.dispatchEvent(p)}},[c,t]),r.jsx(Re.select,{...n,style:{...Kk,...n.style},ref:i,defaultValue:t})});S1.displayName=JM;function E1(e){return e===""||e===void 0}function _1(e){const t=Xt(e),n=v.useRef(""),s=v.useRef(0),o=v.useCallback(c=>{const d=n.current+c;t(d),(function h(f){n.current=f,window.clearTimeout(s.current),f!==""&&(s.current=window.setTimeout(()=>h(""),1e3))})(d)},[t]),i=v.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,o,i]}function C1(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let c=XM(e,Math.max(i,0));o.length===1&&(c=c.filter(f=>f!==n));const h=c.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return h!==n?h:void 0}function XM(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var QM=r1,e3=a1,t3=i1,n3=l1,r3=c1,s3=d1,a3=p1,o3=x1,i3=y1,l3=w1,c3=k1,d3=j1;function Nt({...e}){return r.jsx(QM,{"data-slot":"select",...e})}function St({...e}){return r.jsx(t3,{"data-slot":"select-value",...e})}function Et({className:e,size:t="default",children:n,...s}){return r.jsxs(e3,{"data-slot":"select-trigger","data-size":t,className:Ie("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s,children:[n,r.jsx(n3,{asChild:!0,children:r.jsx(vu,{className:"size-4 opacity-50"})})]})}function _t({className:e,children:t,position:n="popper",...s}){return r.jsx(r3,{children:r.jsxs(s3,{"data-slot":"select-content",className:Ie("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(u3,{}),r.jsx(a3,{className:Ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),r.jsx(f3,{})]})})}function xe({className:e,children:t,...n}){return r.jsxs(o3,{"data-slot":"select-item",className:Ie("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[r.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:r.jsx(l3,{children:r.jsx(jl,{className:"size-4"})})}),r.jsx(i3,{children:t})]})}function u3({className:e,...t}){return r.jsx(c3,{"data-slot":"select-scroll-up-button",className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(BP,{className:"size-4"})})}function f3({className:e,...t}){return r.jsx(d3,{"data-slot":"select-scroll-down-button",className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(vu,{className:"size-4"})})}function h3({expenseId:e,onUploadSuccess:t,maxFiles:n=5,existingFiles:s=[],onFilesChange:o}){const[i,c]=v.useState(s),[d,h]=v.useState(!1),[f,m]=v.useState(0),p=v.useRef(null),x=v.useRef(null),b=S=>{c(S),o?.(S)},w=async S=>{if(i.length>=n){K.error(`Maximum ${n} files allowed`);return}const C=S[0];if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(C.type)){K.error("Only JPG, PNG, and PDF files are allowed");return}if(C.size>5242880){K.error("File size must be less than 5MB");return}try{h(!0),m(0);const _=new FormData;_.append("file",C),e&&_.append("expenseId",e);const A=new XMLHttpRequest,F=await new Promise((G,ne)=>{A.upload.addEventListener("progress",V=>{if(V.lengthComputable){const re=Math.round(V.loaded/V.total*100);m(re)}}),A.addEventListener("load",()=>{if(A.status>=200&&A.status<300)try{const V=JSON.parse(A.responseText);G(V)}catch{ne(new Error("Invalid response from server"))}else try{const V=JSON.parse(A.responseText);ne(new Error(V.error||"Upload failed"))}catch{ne(new Error(`Upload failed with status ${A.status}`))}}),A.addEventListener("error",()=>{ne(new Error("Network error occurred"))}),A.addEventListener("abort",()=>{ne(new Error("Upload cancelled"))}),_s(async()=>{const{getSupabaseUrl:V}=await Promise.resolve().then(()=>A2);return{getSupabaseUrl:V}},void 0).then(({getSupabaseUrl:V})=>{A.open("POST",`${V()}/functions/v1/make-server-41a1615d/upload`),A.setRequestHeader("Authorization",`Bearer ${sessionStorage.getItem("access_token")}`),A.send(_)}).catch(ne)});if(!F||!F.file)throw new Error("Invalid response from server");const W=F.file,U=[...i,W];b(U),K.success("Receipt uploaded!"),t?.(W)}catch(_){console.error("Error uploading file:",_),K.error(_.message||"Failed to upload file")}finally{h(!1),p.current&&(p.current.value=""),x.current&&(x.current.value="")}},k=async S=>{try{await de(`/files/${S}`,{method:"DELETE"});const C=i.filter(D=>D.id!==S);b(C),K.success("File removed")}catch(C){console.error("Error removing file:",C),K.error(C.message||"Failed to remove file")}},N=S=>S.startsWith("image/")?r.jsx(Hw,{className:"w-5 h-5"}):r.jsx(fr,{className:"w-5 h-5"}),E=S=>S<1024?S+" B":S<1048576?(S/1024).toFixed(1)+" KB":(S/1048576).toFixed(1)+" MB";return r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{ref:x,type:"file",onChange:S=>S.target.files&&w(S.target.files),accept:"image/*",capture:"environment",className:"hidden",disabled:d||i.length>=n}),r.jsx("input",{ref:p,type:"file",onChange:S=>S.target.files&&w(S.target.files),accept:"image/jpeg,image/png,image/jpg,application/pdf",className:"hidden",disabled:d||i.length>=n}),i.length<n&&!d&&r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>x.current?.click(),className:"flex flex-col items-center justify-center p-4 bg-gradient-primary text-white rounded-2xl shadow-lg shadow-vs-primary/30 active:scale-98 transition-transform",children:[r.jsx(AP,{className:"w-6 h-6 mb-2"}),r.jsx("span",{className:"text-sm font-medium",children:"Take Photo"})]}),r.jsxs("button",{type:"button",onClick:()=>p.current?.click(),className:"flex flex-col items-center justify-center p-4 bg-white border-2 border-vs-primary text-vs-primary rounded-2xl active:scale-98 transition-transform",children:[r.jsx(Gw,{className:"w-6 h-6 mb-2"}),r.jsx("span",{className:"text-sm font-medium",children:"Upload File"})]})]}),d&&r.jsxs("div",{className:"space-y-3 p-6 bg-vs-bg-secondary rounded-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ua,{className:"w-5 h-5 text-vs-primary animate-spin mr-3"}),r.jsx("span",{className:"text-vs-text-secondary text-[14px] font-medium",children:"Uploading..."})]}),r.jsxs("span",{className:"text-vs-primary text-sm font-bold",children:[f,"%"]})]}),r.jsx("div",{className:"w-full h-2 bg-vs-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-primary transition-all duration-300 ease-out",style:{width:`${f}%`}})})]}),i.length<n&&r.jsx("div",{className:"bg-vs-primary/5 border-2 border-vs-primary/20 rounded-2xl p-3",children:r.jsxs("p",{className:"text-vs-text-secondary text-sm",children:[" ",r.jsx("strong",{children:"Tip:"})," Take a clear photo of your receipt. Accepted formats: JPG, PNG, PDF  Max 5MB  ",i.length,"/",n," files uploaded"]})}),i.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-vs-text-secondary text-sm font-medium",children:["Uploaded Receipts (",i.length,")"]}),i.map(S=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-vs-bg-secondary rounded-2xl border border-vs-border-primary",children:[S.signedUrl&&S.fileType.startsWith("image/")?r.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0 bg-vs-gray-200",children:r.jsx("img",{src:S.signedUrl,alt:S.fileName,className:"w-full h-full object-cover"})}):r.jsx("div",{className:"w-12 h-12 rounded-lg bg-vs-primary/10 flex items-center justify-center flex-shrink-0 text-vs-primary",children:N(S.fileType)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-vs-text-primary text-[14px] font-medium truncate",children:S.fileName}),r.jsx("p",{className:"text-vs-text-muted text-sm",children:E(S.fileSize)})]}),S.signedUrl&&r.jsx("a",{href:S.signedUrl,target:"_blank",rel:"noopener noreferrer",className:"text-vs-primary text-sm font-medium px-3 py-1.5 hover:bg-vs-primary/10 rounded-lg transition-colors",children:"View"}),r.jsx("button",{onClick:()=>k(S.id),className:"p-2 hover:bg-vs-error/10 rounded-lg transition-colors text-vs-error",children:r.jsx(fa,{className:"w-5 h-5"})})]},S.id))]}),i.length>=n&&r.jsx("div",{className:"bg-vs-warning/10 border-2 border-vs-warning/20 rounded-2xl p-3",children:r.jsxs("p",{className:"text-vs-warning text-sm font-medium",children:[" Maximum ",n," files reached. Remove files to upload more."]})})]})}function p3({title:e,subtitle:t,onBack:n,rightAction:s,variant:o="gradient",showDecorations:i=!1}){const c=o==="gradient";return r.jsxs("div",{className:`relative overflow-hidden ${c?"bg-gradient-primary px-6 sm:px-8 pb-6":"bg-vs-secondary px-6 sm:px-8 py-4 border-b border-vs-border-primary"}`,children:[c&&i&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute top-4 right-8 text-white/10 text-[80px]",children:""}),r.jsx("div",{className:"absolute top-12 right-16 text-white/10 text-[60px]",children:""}),r.jsx("div",{className:"absolute bottom-12 right-8 text-white/10 text-[60px]",children:""})]}),r.jsxs("div",{className:"flex items-center gap-4 mb-4 relative z-10",children:[n&&r.jsx("button",{onClick:n,className:`min-w-[44px] min-h-[44px] flex items-center justify-center rounded-full transition-colors ${c?"hover:bg-white/10 active:bg-white/20":"hover:bg-gray-100 active:bg-gray-200"}`,"aria-label":"Go back",children:r.jsx(Jn,{className:`w-6 h-6 ${c?"text-white":"text-vs-text-secondary"}`})}),r.jsxs("div",{className:"flex-1",children:[e&&r.jsx("h1",{className:`font-semibold ${c?"text-white text-[28px]":"text-vs-text-primary text-[18px]"}`,children:e}),t&&r.jsx("p",{className:`${c?"text-white/80 text-[14px]":"text-vs-text-tertiary text-sm"}`,children:t})]}),s&&r.jsx("div",{className:"relative z-10",children:s})]})]})}function on({children:e,onClick:t,className:n="",padding:s="md","aria-label":o,role:i}){const c={none:"",sm:"p-3",md:"p-4",lg:"p-6"},h=t?{role:i||"button",tabIndex:0,"aria-label":o,onKeyDown:f=>{t&&(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),t())}}:{};return r.jsx("div",{onClick:t,className:`
        mobile-card
        ${c[s]}
        ${t?"cursor-pointer active:scale-[0.98] transition-transform":""}
        ${n}
      `,...h,children:e})}function yi({children:e,onClick:t,variant:n="primary",size:s="lg",disabled:o=!1,loading:i=!1,type:c="button",icon:d,fullWidth:h=!0,className:f="","aria-label":m,"aria-describedby":p}){const x={primary:"bg-gradient-primary text-white shadow-xl",secondary:"bg-vs-gray-200 text-vs-text-secondary",success:"bg-gradient-success text-white shadow-lg shadow-[#28C76F]/30",error:"bg-gradient-error text-white shadow-lg shadow-[#EA5455]/30",outline:"bg-white border-2 border-vs-primary text-vs-primary"},b={sm:"h-[48px] text-[14px]",md:"h-[52px] text-[15px]",lg:"h-[56px] text-[16px]"};return r.jsxs("button",{type:c,onClick:t,disabled:o||i,"aria-label":m,"aria-describedby":p,"aria-busy":i,"aria-disabled":o||i,className:`
        mobile-button
        ${x[n]}
        ${b[s]}
        ${h?"w-full":""}
        ${o||i?"opacity-50 cursor-not-allowed":""}
        flex items-center justify-center gap-2
        px-6
        ${f}
      `,children:[i&&r.jsx(ua,{className:"w-5 h-5 animate-spin","aria-hidden":"true"}),!i&&d&&r.jsx("span",{"aria-hidden":"true",children:d}),e]})}function ur({label:e,error:t,leftIcon:n,rightIcon:s,containerClassName:o="",className:i="",id:c,disableSanitization:d=!1,onChange:h,type:f="text",...m}){const p=v.useId(),x=c||p,b=t?`${x}-error`:void 0,w=["number","date","time","datetime-local","email","tel","url","password","search"],k=N=>{if(!d&&f==="text"&&!w.includes(f)){const S=N.target.value,C=gk(S);N.target.value=C}h?.(N)};return r.jsxs("div",{className:`${o}`,children:[e&&r.jsx("label",{htmlFor:x,className:"text-vs-text-secondary text-[14px] font-medium block mb-2",children:e}),r.jsxs("div",{className:"relative",children:[n&&r.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10","aria-hidden":"true",children:n}),r.jsx("input",{...m,type:f,id:x,onChange:k,"aria-invalid":t?"true":"false","aria-describedby":b,className:`
            mobile-input
            ${n?"pl-12":""}
            ${s?"pr-12":""}
            ${t?"border-vs-error":""}
            ${i}
          `}),s&&r.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 z-10","aria-hidden":"true",children:s})]}),t&&r.jsx("p",{id:b,className:"mt-2 text-vs-error text-sm",role:"alert",children:t})]})}function m3(e,t){return v.useReducer((n,s)=>t[n][s]??n,e)}var Bn=e=>{const{present:t,children:n}=e,s=g3(t),o=typeof n=="function"?n({present:s.isPresent}):v.Children.only(n),i=Ue(s.ref,v3(o));return typeof n=="function"||s.isPresent?v.cloneElement(o,{ref:i}):null};Bn.displayName="Presence";function g3(e){const[t,n]=v.useState(),s=v.useRef(null),o=v.useRef(e),i=v.useRef("none"),c=e?"mounted":"unmounted",[d,h]=m3(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const f=jd(s.current);i.current=d==="mounted"?f:"none"},[d]),Ft(()=>{const f=s.current,m=o.current;if(m!==e){const x=i.current,b=jd(f);e?h("MOUNT"):b==="none"||f?.display==="none"?h("UNMOUNT"):h(m&&x!==b?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,h]),Ft(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,p=b=>{const k=jd(s.current).includes(CSS.escape(b.animationName));if(b.target===t&&k&&(h("ANIMATION_END"),!o.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},x=b=>{b.target===t&&(i.current=jd(s.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:v.useCallback(f=>{s.current=f?getComputedStyle(f):null,n(f)},[])}}function jd(e){return e?.animationName||"none"}function v3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var up="rovingFocusGroup.onEntryFocus",x3={bubbles:!1,cancelable:!0},Ul="RovingFocusGroup",[im,T1,y3]=Ym(Ul),[b3,Iu]=vr(Ul,[y3]),[w3,k3]=b3(Ul),D1=v.forwardRef((e,t)=>r.jsx(im.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(im.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(j3,{...e,ref:t})})}));D1.displayName=Ul;var j3=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:o=!1,dir:i,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...p}=e,x=v.useRef(null),b=Ue(t,x),w=$l(i),[k,N]=ma({prop:c,defaultProp:d??null,onChange:h,caller:Ul}),[E,S]=v.useState(!1),C=Xt(f),D=T1(n),_=v.useRef(!1),[A,P]=v.useState(0);return v.useEffect(()=>{const F=x.current;if(F)return F.addEventListener(up,C),()=>F.removeEventListener(up,C)},[C]),r.jsx(w3,{scope:n,orientation:s,dir:w,loop:o,currentTabStopId:k,onItemFocus:v.useCallback(F=>N(F),[N]),onItemShiftTab:v.useCallback(()=>S(!0),[]),onFocusableItemAdd:v.useCallback(()=>P(F=>F+1),[]),onFocusableItemRemove:v.useCallback(()=>P(F=>F-1),[]),children:r.jsx(Re.div,{tabIndex:E||A===0?-1:0,"data-orientation":s,...p,ref:b,style:{outline:"none",...e.style},onMouseDown:ye(e.onMouseDown,()=>{_.current=!0}),onFocus:ye(e.onFocus,F=>{const W=!_.current;if(F.target===F.currentTarget&&W&&!E){const U=new CustomEvent(up,x3);if(F.currentTarget.dispatchEvent(U),!U.defaultPrevented){const G=D().filter(se=>se.focusable),ne=G.find(se=>se.active),V=G.find(se=>se.id===k),pe=[ne,V,...G].filter(Boolean).map(se=>se.ref.current);A1(pe,m)}}_.current=!1}),onBlur:ye(e.onBlur,()=>S(!1))})})}),P1="RovingFocusGroupItem",R1=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:o=!1,tabStopId:i,children:c,...d}=e,h=os(),f=i||h,m=k3(P1,n),p=m.currentTabStopId===f,x=T1(n),{onFocusableItemAdd:b,onFocusableItemRemove:w,currentTabStopId:k}=m;return v.useEffect(()=>{if(s)return b(),()=>w()},[s,b,w]),r.jsx(im.ItemSlot,{scope:n,id:f,focusable:s,active:o,children:r.jsx(Re.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...d,ref:t,onMouseDown:ye(e.onMouseDown,N=>{s?m.onItemFocus(f):N.preventDefault()}),onFocus:ye(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:ye(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){m.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const E=E3(N,m.orientation,m.dir);if(E!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let C=x().filter(D=>D.focusable).map(D=>D.ref.current);if(E==="last")C.reverse();else if(E==="prev"||E==="next"){E==="prev"&&C.reverse();const D=C.indexOf(N.currentTarget);C=m.loop?_3(C,D+1):C.slice(D+1)}setTimeout(()=>A1(C))}}),children:typeof c=="function"?c({isCurrentTabStop:p,hasTabStop:k!=null}):c})})});R1.displayName=P1;var N3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function S3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function E3(e,t,n){const s=S3(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return N3[s]}function A1(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function _3(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var I1=D1,O1=R1,lm=["Enter"," "],C3=["ArrowDown","PageUp","Home"],F1=["ArrowUp","PageDown","End"],T3=[...C3,...F1],D3={ltr:[...lm,"ArrowRight"],rtl:[...lm,"ArrowLeft"]},P3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vl="Menu",[Tl,R3,A3]=Ym(Vl),[lo,M1]=vr(Vl,[A3,_u,Iu]),Ou=_u(),L1=Iu(),[I3,co]=lo(Vl),[O3,Wl]=lo(Vl),z1=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:o,onOpenChange:i,modal:c=!0}=e,d=Ou(t),[h,f]=v.useState(null),m=v.useRef(!1),p=Xt(i),x=$l(o);return v.useEffect(()=>{const b=()=>{m.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>m.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),r.jsx(Wk,{...d,children:r.jsx(I3,{scope:t,open:n,onOpenChange:p,content:h,onContentChange:f,children:r.jsx(O3,{scope:t,onClose:v.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:m,dir:x,modal:c,children:s})})})};z1.displayName=Vl;var F3="MenuAnchor",ig=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,o=Ou(n);return r.jsx(Hk,{...o,...s,ref:t})});ig.displayName=F3;var lg="MenuPortal",[M3,$1]=lo(lg,{forceMount:void 0}),B1=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:o}=e,i=co(lg,t);return r.jsx(M3,{scope:t,forceMount:n,children:r.jsx(Bn,{present:n||i.open,children:r.jsx(Cu,{asChild:!0,container:o,children:s})})})};B1.displayName=lg;var hr="MenuContent",[L3,cg]=lo(hr),U1=v.forwardRef((e,t)=>{const n=$1(hr,e.__scopeMenu),{forceMount:s=n.forceMount,...o}=e,i=co(hr,e.__scopeMenu),c=Wl(hr,e.__scopeMenu);return r.jsx(Tl.Provider,{scope:e.__scopeMenu,children:r.jsx(Bn,{present:s||i.open,children:r.jsx(Tl.Slot,{scope:e.__scopeMenu,children:c.modal?r.jsx(z3,{...o,ref:t}):r.jsx($3,{...o,ref:t})})})})}),z3=v.forwardRef((e,t)=>{const n=co(hr,e.__scopeMenu),s=v.useRef(null),o=Ue(t,s);return v.useEffect(()=>{const i=s.current;if(i)return ag(i)},[]),r.jsx(dg,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ye(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),$3=v.forwardRef((e,t)=>{const n=co(hr,e.__scopeMenu);return r.jsx(dg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),B3=Za("MenuContent.ScrollLock"),dg=v.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:h,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:x,onDismiss:b,disableOutsideScroll:w,...k}=e,N=co(hr,n),E=Wl(hr,n),S=Ou(n),C=L1(n),D=R3(n),[_,A]=v.useState(null),P=v.useRef(null),F=Ue(t,P,N.onContentChange),W=v.useRef(0),U=v.useRef(""),G=v.useRef(0),ne=v.useRef(null),V=v.useRef("right"),re=v.useRef(0),pe=w?Du:v.Fragment,se=w?{as:B3,allowPinchZoom:!0}:void 0,q=X=>{const ae=U.current+X,I=D().filter(J=>!J.disabled),R=document.activeElement,O=I.find(J=>J.ref.current===R)?.textValue,z=I.map(J=>J.textValue),H=Q3(z,ae,O),Q=I.find(J=>J.textValue===H)?.ref.current;(function J(ie){U.current=ie,window.clearTimeout(W.current),ie!==""&&(W.current=window.setTimeout(()=>J(""),1e3))})(ae),Q&&setTimeout(()=>Q.focus())};v.useEffect(()=>()=>window.clearTimeout(W.current),[]),Km();const M=v.useCallback(X=>V.current===ne.current?.side&&t8(X,ne.current?.area),[]);return r.jsx(L3,{scope:n,searchRef:U,onItemEnter:v.useCallback(X=>{M(X)&&X.preventDefault()},[M]),onItemLeave:v.useCallback(X=>{M(X)||(P.current?.focus(),A(null))},[M]),onTriggerLeave:v.useCallback(X=>{M(X)&&X.preventDefault()},[M]),pointerGraceTimerRef:G,onPointerGraceIntentChange:v.useCallback(X=>{ne.current=X},[]),children:r.jsx(pe,{...se,children:r.jsx(ku,{asChild:!0,trapped:o,onMountAutoFocus:ye(i,X=>{X.preventDefault(),P.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:r.jsx(wu,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:x,onDismiss:b,children:r.jsx(I1,{asChild:!0,...C,dir:E.dir,orientation:"vertical",loop:s,currentTabStopId:_,onCurrentTabStopIdChange:A,onEntryFocus:ye(h,X=>{E.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(qk,{role:"menu","aria-orientation":"vertical","data-state":sj(N.open),"data-radix-menu-content":"",dir:E.dir,...S,...k,ref:F,style:{outline:"none",...k.style},onKeyDown:ye(k.onKeyDown,X=>{const I=X.target.closest("[data-radix-menu-content]")===X.currentTarget,R=X.ctrlKey||X.altKey||X.metaKey,O=X.key.length===1;I&&(X.key==="Tab"&&X.preventDefault(),!R&&O&&q(X.key));const z=P.current;if(X.target!==z||!T3.includes(X.key))return;X.preventDefault();const Q=D().filter(J=>!J.disabled).map(J=>J.ref.current);F1.includes(X.key)&&Q.reverse(),J3(Q)}),onBlur:ye(e.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(W.current),U.current="")}),onPointerMove:ye(e.onPointerMove,Dl(X=>{const ae=X.target,I=re.current!==X.clientX;if(X.currentTarget.contains(ae)&&I){const R=X.clientX>re.current?"right":"left";V.current=R,re.current=X.clientX}}))})})})})})})});U1.displayName=hr;var U3="MenuGroup",ug=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(Re.div,{role:"group",...s,ref:t})});ug.displayName=U3;var V3="MenuLabel",V1=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(Re.div,{...s,ref:t})});V1.displayName=V3;var Jd="MenuItem",db="menu.itemSelect",Fu=v.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...o}=e,i=v.useRef(null),c=Wl(Jd,e.__scopeMenu),d=cg(Jd,e.__scopeMenu),h=Ue(t,i),f=v.useRef(!1),m=()=>{const p=i.current;if(!n&&p){const x=new CustomEvent(db,{bubbles:!0,cancelable:!0});p.addEventListener(db,b=>s?.(b),{once:!0}),yk(p,x),x.defaultPrevented?f.current=!1:c.onClose()}};return r.jsx(W1,{...o,ref:h,disabled:n,onClick:ye(e.onClick,m),onPointerDown:p=>{e.onPointerDown?.(p),f.current=!0},onPointerUp:ye(e.onPointerUp,p=>{f.current||p.currentTarget?.click()}),onKeyDown:ye(e.onKeyDown,p=>{const x=d.searchRef.current!=="";n||x&&p.key===" "||lm.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Fu.displayName=Jd;var W1=v.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:o,...i}=e,c=cg(Jd,n),d=L1(n),h=v.useRef(null),f=Ue(t,h),[m,p]=v.useState(!1),[x,b]=v.useState("");return v.useEffect(()=>{const w=h.current;w&&b((w.textContent??"").trim())},[i.children]),r.jsx(Tl.ItemSlot,{scope:n,disabled:s,textValue:o??x,children:r.jsx(O1,{asChild:!0,...d,focusable:!s,children:r.jsx(Re.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:f,onPointerMove:ye(e.onPointerMove,Dl(w=>{s?c.onItemLeave(w):(c.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(e.onPointerLeave,Dl(w=>c.onItemLeave(w))),onFocus:ye(e.onFocus,()=>p(!0)),onBlur:ye(e.onBlur,()=>p(!1))})})})}),W3="MenuCheckboxItem",H1=v.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...o}=e;return r.jsx(Z1,{scope:e.__scopeMenu,checked:n,children:r.jsx(Fu,{role:"menuitemcheckbox","aria-checked":Xd(n)?"mixed":n,...o,ref:t,"data-state":hg(n),onSelect:ye(o.onSelect,()=>s?.(Xd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});H1.displayName=W3;var q1="MenuRadioGroup",[H3,q3]=lo(q1,{value:void 0,onValueChange:()=>{}}),Y1=v.forwardRef((e,t)=>{const{value:n,onValueChange:s,...o}=e,i=Xt(s);return r.jsx(H3,{scope:e.__scopeMenu,value:n,onValueChange:i,children:r.jsx(ug,{...o,ref:t})})});Y1.displayName=q1;var K1="MenuRadioItem",G1=v.forwardRef((e,t)=>{const{value:n,...s}=e,o=q3(K1,e.__scopeMenu),i=n===o.value;return r.jsx(Z1,{scope:e.__scopeMenu,checked:i,children:r.jsx(Fu,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":hg(i),onSelect:ye(s.onSelect,()=>o.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});G1.displayName=K1;var fg="MenuItemIndicator",[Z1,Y3]=lo(fg,{checked:!1}),J1=v.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...o}=e,i=Y3(fg,n);return r.jsx(Bn,{present:s||Xd(i.checked)||i.checked===!0,children:r.jsx(Re.span,{...o,ref:t,"data-state":hg(i.checked)})})});J1.displayName=fg;var K3="MenuSeparator",X1=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(Re.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});X1.displayName=K3;var G3="MenuArrow",Q1=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,o=Ou(n);return r.jsx(Yk,{...o,...s,ref:t})});Q1.displayName=G3;var Z3="MenuSub",[VU,ej]=lo(Z3),ul="MenuSubTrigger",tj=v.forwardRef((e,t)=>{const n=co(ul,e.__scopeMenu),s=Wl(ul,e.__scopeMenu),o=ej(ul,e.__scopeMenu),i=cg(ul,e.__scopeMenu),c=v.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:h}=i,f={__scopeMenu:e.__scopeMenu},m=v.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return v.useEffect(()=>m,[m]),v.useEffect(()=>{const p=d.current;return()=>{window.clearTimeout(p),h(null)}},[d,h]),r.jsx(ig,{asChild:!0,...f,children:r.jsx(W1,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":sj(n.open),...e,ref:bu(t,o.onTriggerChange),onClick:p=>{e.onClick?.(p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ye(e.onPointerMove,Dl(p=>{i.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!n.open&&!c.current&&(i.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:ye(e.onPointerLeave,Dl(p=>{m();const x=n.content?.getBoundingClientRect();if(x){const b=n.content?.dataset.side,w=b==="right",k=w?-5:5,N=x[w?"left":"right"],E=x[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+k,y:p.clientY},{x:N,y:x.top},{x:E,y:x.top},{x:E,y:x.bottom},{x:N,y:x.bottom}],side:b}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ye(e.onKeyDown,p=>{const x=i.searchRef.current!=="";e.disabled||x&&p.key===" "||D3[s.dir].includes(p.key)&&(n.onOpenChange(!0),n.content?.focus(),p.preventDefault())})})})});tj.displayName=ul;var nj="MenuSubContent",rj=v.forwardRef((e,t)=>{const n=$1(hr,e.__scopeMenu),{forceMount:s=n.forceMount,...o}=e,i=co(hr,e.__scopeMenu),c=Wl(hr,e.__scopeMenu),d=ej(nj,e.__scopeMenu),h=v.useRef(null),f=Ue(t,h);return r.jsx(Tl.Provider,{scope:e.__scopeMenu,children:r.jsx(Bn,{present:s||i.open,children:r.jsx(Tl.Slot,{scope:e.__scopeMenu,children:r.jsx(dg,{id:d.contentId,"aria-labelledby":d.triggerId,...o,ref:f,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{c.isUsingKeyboardRef.current&&h.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:ye(e.onFocusOutside,m=>{m.target!==d.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ye(e.onEscapeKeyDown,m=>{c.onClose(),m.preventDefault()}),onKeyDown:ye(e.onKeyDown,m=>{const p=m.currentTarget.contains(m.target),x=P3[c.dir].includes(m.key);p&&x&&(i.onOpenChange(!1),d.trigger?.focus(),m.preventDefault())})})})})})});rj.displayName=nj;function sj(e){return e?"open":"closed"}function Xd(e){return e==="indeterminate"}function hg(e){return Xd(e)?"indeterminate":e?"checked":"unchecked"}function J3(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function X3(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function Q3(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let c=X3(e,Math.max(i,0));o.length===1&&(c=c.filter(f=>f!==n));const h=c.find(f=>f.toLowerCase().startsWith(o.toLowerCase()));return h!==n?h:void 0}function e8(e,t){const{x:n,y:s}=e;let o=!1;for(let i=0,c=t.length-1;i<t.length;c=i++){const d=t[i],h=t[c],f=d.x,m=d.y,p=h.x,x=h.y;m>s!=x>s&&n<(p-f)*(s-m)/(x-m)+f&&(o=!o)}return o}function t8(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return e8(n,t)}function Dl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var n8=z1,r8=ig,s8=B1,a8=U1,o8=ug,i8=V1,l8=Fu,c8=H1,d8=Y1,u8=G1,f8=J1,h8=X1,p8=Q1,m8=tj,g8=rj,Mu="DropdownMenu",[v8]=vr(Mu,[M1]),kn=M1(),[x8,aj]=v8(Mu),oj=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:o,defaultOpen:i,onOpenChange:c,modal:d=!0}=e,h=kn(t),f=v.useRef(null),[m,p]=ma({prop:o,defaultProp:i??!1,onChange:c,caller:Mu});return r.jsx(x8,{scope:t,triggerId:os(),triggerRef:f,contentId:os(),open:m,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(x=>!x),[p]),modal:d,children:r.jsx(n8,{...h,open:m,onOpenChange:p,dir:s,modal:d,children:n})})};oj.displayName=Mu;var ij="DropdownMenuTrigger",lj=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...o}=e,i=aj(ij,n),c=kn(n);return r.jsx(r8,{asChild:!0,...c,children:r.jsx(Re.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...o,ref:bu(t,i.triggerRef),onPointerDown:ye(e.onPointerDown,d=>{!s&&d.button===0&&d.ctrlKey===!1&&(i.onOpenToggle(),i.open||d.preventDefault())}),onKeyDown:ye(e.onKeyDown,d=>{s||(["Enter"," "].includes(d.key)&&i.onOpenToggle(),d.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});lj.displayName=ij;var y8="DropdownMenuPortal",cj=e=>{const{__scopeDropdownMenu:t,...n}=e,s=kn(t);return r.jsx(s8,{...s,...n})};cj.displayName=y8;var dj="DropdownMenuContent",uj=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=aj(dj,n),i=kn(n),c=v.useRef(!1);return r.jsx(a8,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...s,ref:t,onCloseAutoFocus:ye(e.onCloseAutoFocus,d=>{c.current||o.triggerRef.current?.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:ye(e.onInteractOutside,d=>{const h=d.detail.originalEvent,f=h.button===0&&h.ctrlKey===!0,m=h.button===2||f;(!o.modal||m)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uj.displayName=dj;var b8="DropdownMenuGroup",w8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=kn(n);return r.jsx(o8,{...o,...s,ref:t})});w8.displayName=b8;var k8="DropdownMenuLabel",j8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=kn(n);return r.jsx(i8,{...o,...s,ref:t})});j8.displayName=k8;var N8="DropdownMenuItem",fj=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=kn(n);return r.jsx(l8,{...o,...s,ref:t})});fj.displayName=N8;var S8="DropdownMenuCheckboxItem",E8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=kn(n);return r.jsx(c8,{...o,...s,ref:t})});E8.displayName=S8;var _8="DropdownMenuRadioGroup",C8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=kn(n);return r.jsx(d8,{...o,...s,ref:t})});C8.displayName=_8;var T8="DropdownMenuRadioItem",D8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=kn(n);return r.jsx(u8,{...o,...s,ref:t})});D8.displayName=T8;var P8="DropdownMenuItemIndicator",R8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=kn(n);return r.jsx(f8,{...o,...s,ref:t})});R8.displayName=P8;var A8="DropdownMenuSeparator",I8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=kn(n);return r.jsx(h8,{...o,...s,ref:t})});I8.displayName=A8;var O8="DropdownMenuArrow",F8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=kn(n);return r.jsx(p8,{...o,...s,ref:t})});F8.displayName=O8;var M8="DropdownMenuSubTrigger",L8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=kn(n);return r.jsx(m8,{...o,...s,ref:t})});L8.displayName=M8;var z8="DropdownMenuSubContent",$8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=kn(n);return r.jsx(g8,{...o,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$8.displayName=z8;var B8=oj,U8=lj,V8=cj,W8=uj,H8=fj;function q8({...e}){return r.jsx(B8,{"data-slot":"dropdown-menu",...e})}const hj=v.forwardRef((e,t)=>r.jsx(U8,{ref:t,"data-slot":"dropdown-menu-trigger",...e}));hj.displayName="DropdownMenuTrigger";function Y8({className:e,sideOffset:t=4,...n}){return r.jsx(V8,{children:r.jsx(W8,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Ie("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function fp({className:e,inset:t,variant:n="default",...s}){return r.jsx(H8,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:Ie("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function K8(){const{theme:e,resolvedTheme:t,setTheme:n}=hk();return r.jsxs(q8,{children:[r.jsx(hj,{asChild:!0,children:r.jsx(ze,{variant:"ghost",size:"icon",className:"h-9 w-9 transition-colors hover:bg-accent hover:text-accent-foreground","aria-label":"Toggle theme",children:t==="dark"?r.jsx(Ud,{className:"h-5 w-5"}):r.jsx(Vd,{className:"h-5 w-5"})})}),r.jsxs(Y8,{align:"end",children:[r.jsxs(fp,{onClick:()=>n("light"),className:"flex items-center gap-2 cursor-pointer",children:[r.jsx(Vd,{className:"h-4 w-4"}),r.jsx("span",{children:"Light"}),e==="light"&&r.jsx("span",{className:"ml-auto text-sm",children:""})]}),r.jsxs(fp,{onClick:()=>n("dark"),className:"flex items-center gap-2 cursor-pointer",children:[r.jsx(Ud,{className:"h-4 w-4"}),r.jsx("span",{children:"Dark"}),e==="dark"&&r.jsx("span",{className:"ml-auto text-sm",children:""})]}),r.jsxs(fp,{onClick:()=>n("system"),className:"flex items-center gap-2 cursor-pointer",children:[r.jsx($m,{className:"h-4 w-4"}),r.jsx("span",{children:"System"}),e==="system"&&r.jsx("span",{className:"ml-auto text-sm",children:""})]})]})]})}function G8({onNavigate:e,onSignOut:t}){const[n,s]=v.useState(null),[o,i]=v.useState(!0),{theme:c}=hk();v.useEffect(()=>{d()},[]);const d=async()=>{try{i(!0);const{profile:p}=await de("/user/profile");s(p)}catch(p){console.error("Error loading profile:",p),K.error("Failed to load profile")}finally{i(!1)}},h=async()=>{try{await Rr.auth.signOut(),sessionStorage.removeItem("access_token"),sessionStorage.removeItem("user_id"),K.success("Signed out successfully"),t?.()}catch(p){console.error("Sign out error:",p),K.error("Failed to sign out")}},f=p=>{e?.(p)},m=[{title:"Account",items:[{icon:Cs,label:"Profile",subtitle:n?.name||"Loading...",onClick:()=>{}},{icon:yu,label:"Email",subtitle:n?.email||"Loading...",onClick:()=>{}},{icon:Om,label:"Role",subtitle:n?.role?.replace("_"," ").replace(/\b\w/g,p=>p.toUpperCase())||"Loading...",onClick:()=>{}}]},{title:"App",items:[{icon:Bd,label:"Messages",onClick:()=>e?.("messages"),showChevron:!0},{icon:wn,label:"Staff",onClick:()=>e?.("staff"),showChevron:!0}]},{title:"Preferences",items:[{icon:c==="dark"?Ud:c==="light"?Vd:$m,label:"Theme",subtitle:c==="dark"?"Dark Mode":c==="light"?"Light Mode":"System",customAction:r.jsx(K8,{})}]}];return r.jsxs("div",{className:"min-h-dvh bg-background flex flex-col",children:[r.jsx(p3,{}),r.jsx("div",{className:"flex-1 overflow-y-auto pb-[calc(68px+env(safe-area-inset-bottom))]",children:r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] rounded-3xl p-6 mb-6 text-white",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:r.jsx(Cs,{className:"w-8 h-8"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-lg font-semibold",children:o?"Loading...":n?.name||"User"}),r.jsx("p",{className:"text-white/80 text-sm",children:o?"":n?.email||""})]})]})}),m.map((p,x)=>r.jsxs("div",{className:x>0?"mt-6":"",children:[r.jsx("h3",{className:"text-muted-foreground text-sm font-medium mb-3 px-1",children:p.title}),r.jsx("div",{className:"bg-card dark:bg-gray-900 rounded-2xl border border-border overflow-hidden",children:p.items.map((b,w)=>r.jsxs("button",{onClick:b.onClick,className:`w-full flex items-center gap-4 p-4 hover:bg-muted/50 dark:hover:bg-gray-800/50 transition-colors ${w<p.items.length-1?"border-b border-border":""}`,children:[r.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(b.icon,{className:"w-5 h-5 text-primary"})}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("div",{className:"text-foreground font-medium",children:b.label}),b.subtitle&&r.jsx("div",{className:"text-muted-foreground text-sm",children:b.subtitle})]}),b.customAction?b.customAction:b.showChevron?r.jsx(hi,{className:"w-5 h-5 text-muted-foreground"}):null]},b.label))})]},p.title)),r.jsxs("button",{onClick:h,className:"w-full mt-6 bg-red-500/10 hover:bg-red-500/20 text-red-600 dark:text-red-400 rounded-2xl p-4 flex items-center justify-center gap-3 font-medium transition-colors",children:[r.jsx(zm,{className:"w-5 h-5"}),"Sign Out"]})]})}),r.jsx(Xn,{activeTab:"more",onTabChange:f})]})}function Z8({villaId:e,onSelectTemplate:t,onBack:n}){const[s,o]=v.useState([]),[i,c]=v.useState(!0),[d,h]=v.useState(!1),[f,m]=v.useState(null),[p,x]=v.useState({name:"",category:"",amount:"",description:""});v.useEffect(()=>{b()},[e]);const b=async()=>{try{c(!0);const D=e?`/expense-templates?villaId=${e}`:"/expense-templates",{templates:_}=await de(D);o(_||[])}catch(D){console.error("Error loading templates:",D),K.error("Failed to load templates")}finally{c(!1)}},w=async D=>{D.preventDefault();try{if(f){const{template:_}=await de(`/expense-templates/${f.id}`,{method:"PUT",body:JSON.stringify({...p,amount:p.amount?parseFloat(p.amount):null})});o(s.map(A=>A.id===_.id?_:A)),K.success("Template updated!")}else{const{template:_}=await de("/expense-templates",{method:"POST",body:JSON.stringify({...p,amount:p.amount?parseFloat(p.amount):null,villaId:e})});o([...s,_]),K.success("Template created!")}C(),h(!1)}catch(_){console.error("Error saving template:",_),K.error(_.message||"Failed to save template")}},k=async D=>{if(confirm("Delete this template?"))try{await de(`/expense-templates/${D}`,{method:"DELETE"}),o(s.filter(_=>_.id!==D)),K.success("Template deleted")}catch(_){console.error("Error deleting template:",_),K.error(_.message||"Failed to delete template")}},N=async D=>{try{await de(`/expense-templates/${D.id}/use`,{method:"POST"}),o(s.map(_=>_.id===D.id?{..._,usageCount:_.usageCount+1}:_)),t?.(D)}catch(_){console.error("Error using template:",_)}},E=()=>{m(null),C(),h(!0)},S=D=>{m(D),x({name:D.name,category:D.category,amount:D.amount?.toString()||"",description:D.description}),h(!0)},C=()=>{x({name:"",category:"",amount:"",description:""}),m(null)};return d?r.jsxs("div",{className:"min-h-screen bg-[#F8F8F8]",children:[r.jsxs("div",{className:"bg-white px-6 py-4 flex items-center gap-4 border-b border-[#E8E8E8]",children:[r.jsx("button",{onClick:()=>h(!1),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100",children:r.jsx(Jn,{className:"w-6 h-6 text-[#5E5873]"})}),r.jsx("h1",{className:"text-[#1F1F1F] text-[18px] font-semibold",children:f?"Edit Template":"Create Template"})]}),r.jsxs("form",{onSubmit:w,className:"p-6 pb-24 space-y-4",children:[r.jsx(on,{padding:"lg",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx(ur,{label:"Template Name",value:p.name,onChange:D=>x({...p,name:D.target.value}),placeholder:"e.g., Weekly Groceries",required:!0}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-2",children:"Category"}),r.jsxs(Nt,{value:p.category,onValueChange:D=>x({...p,category:D}),children:[r.jsx(Et,{className:"mobile-input",children:r.jsx(St,{placeholder:"Select category"})}),r.jsxs(_t,{children:[r.jsx(xe,{value:"groceries",children:"Groceries"}),r.jsx(xe,{value:"utilities",children:"Utilities"}),r.jsx(xe,{value:"maintenance",children:"Maintenance"}),r.jsx(xe,{value:"supplies",children:"Supplies"}),r.jsx(xe,{value:"travel",children:"Travel"}),r.jsx(xe,{value:"meals",children:"Meals"}),r.jsx(xe,{value:"other",children:"Other"})]})]})]}),r.jsx(ur,{label:"Default Amount (optional)",type:"number",step:"0.01",value:p.amount,onChange:D=>x({...p,amount:D.target.value}),placeholder:"0.00"}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-2",children:"Description (optional)"}),r.jsx("textarea",{value:p.description,onChange:D=>x({...p,description:D.target.value}),placeholder:"Add a description...",className:"mobile-input min-h-[100px] resize-none"})]})]})}),r.jsx(yi,{type:"submit",variant:"primary",children:f?"Update Template":"Create Template"})]})]}):r.jsxs("div",{className:"min-h-screen bg-[#F8F8F8]",children:[r.jsxs("div",{className:"bg-white px-6 py-4 flex items-center gap-4 border-b border-[#E8E8E8]",children:[n&&r.jsx("button",{onClick:n,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100",children:r.jsx(Jn,{className:"w-6 h-6 text-[#5E5873]"})}),r.jsx("h1",{className:"text-[#1F1F1F] text-[18px] font-semibold flex-1",children:"Expense Templates"}),r.jsx("button",{onClick:E,className:"w-10 h-10 flex items-center justify-center rounded-full bg-gradient-primary text-white",children:r.jsx(bt,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"p-6 pb-24",children:i?r.jsx("div",{className:"text-center py-12",children:r.jsx("div",{className:"text-[#B9B9C3]",children:"Loading templates..."})}):s.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-[#F3F2F7] rounded-3xl flex items-center justify-center mx-auto mb-4",children:r.jsx(Vp,{className:"w-8 h-8 text-[#7B5FEB]"})}),r.jsx("h3",{className:"text-[#1F1F1F] text-[18px] font-semibold mb-2",children:"No Templates Yet"}),r.jsx("p",{className:"text-[#B9B9C3] text-[14px] mb-6",children:"Create templates for frequently used expenses"}),r.jsxs("button",{onClick:E,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-primary text-white rounded-full font-medium",children:[r.jsx(bt,{className:"w-5 h-5"}),"Create Template"]})]}):r.jsx("div",{className:"space-y-3",children:s.map(D=>r.jsxs(on,{padding:"md",onClick:()=>N(D),children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-[#F3F2F7] rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(Vp,{className:"w-6 h-6 text-[#7B5FEB]"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-[#1F1F1F] text-[16px] font-semibold mb-1 truncate",children:D.name}),r.jsx("p",{className:"text-[#B9B9C3] text-sm capitalize mb-1",children:D.category}),D.amount&&r.jsxs("p",{className:"text-[#7B5FEB] text-[15px] font-semibold",children:["$",D.amount.toFixed(2)]}),r.jsxs("p",{className:"text-[#B9B9C3] text-sm mt-2",children:["Used ",D.usageCount||0," times"]})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("button",{onClick:_=>{_.stopPropagation(),S(D)},className:"p-2 hover:bg-[#F3F2F7] rounded-lg transition-colors",children:r.jsx(Kw,{className:"w-4 h-4 text-[#7B5FEB]"})}),r.jsx("button",{onClick:_=>{_.stopPropagation(),k(D.id)},className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(Wd,{className:"w-4 h-4 text-[#EA5455]"})})]})]}),D.description&&r.jsx("p",{className:"text-[#5E5873] text-sm mt-3 line-clamp-2",children:D.description})]},D.id))})})]})}function J8(e){const{villaId:t,onSubmit:n,initialData:s={}}=e,o={category:s.category||"",date:s.date||"",amount:s.amount||"",description:s.description||""},[i,c]=v.useState(o),[d,h]=v.useState({}),[f,m]=v.useState([]),p=v.useCallback((E,S)=>{let C;return E==="category"?C=Ar(S,{required:"Please select a category"}):E==="date"?C=Ar(S,{required:"Please select a date"}):E==="amount"?C=Ar(S,{required:"Please enter an amount",min:{value:.01,message:"Amount must be greater than 0"}}):E==="description"?C=Ar(S,{required:"Please enter a description",minLength:{value:10,message:"Description must be at least 10 characters"}}):C={isValid:!0},h(D=>({...D,[E]:C.isValid?"":C.error||""})),C.isValid},[]),x=v.useCallback((E,S)=>{c(C=>({...C,[E]:S})),d[E]&&h(C=>({...C,[E]:""}))},[d]),b=v.useCallback(E=>{m(E)},[]),w=v.useCallback(E=>{E.preventDefault();const S=p("category",i.category),C=p("date",i.date),D=p("amount",parseFloat(i.amount)),_=p("description",i.description);if(!S||!C||!D||!_){K.error("Please fix all errors before submitting");return}n({...i,villa_id:t,status:"pending",files:f})},[i,f,t,n,p]),k=v.useCallback(E=>{c(S=>({category:E.category,date:S.date,amount:E.amount?.toString()||"",description:E.description}))},[]),N=v.useCallback(()=>{c(o),h({}),m([])},[o]);return{formData:i,fieldErrors:d,uploadedFiles:f,handleFieldChange:x,handleFilesChange:b,handleSubmit:w,handleUseTemplate:k,validateField:p,resetForm:N}}function X8({onBack:e,onSubmit:t,villaId:n}){const{formData:s,fieldErrors:o,uploadedFiles:i,handleFieldChange:c,handleFilesChange:d,handleSubmit:h,handleUseTemplate:f,validateField:m}=J8({villaId:n,onSubmit:t}),[p,x]=v.useState(!1),b=w=>{f(w),x(!1)};return p?r.jsx(Z8,{villaId:n,onSelectTemplate:b,onBack:()=>x(!1)}):r.jsxs("div",{className:"min-h-dvh bg-[#F8F8F8] pb-[calc(env(safe-area-inset-bottom)+2rem)]",children:[r.jsx("div",{className:"bg-white px-6 sm:px-8 pt-[calc(0.75rem+env(safe-area-inset-top))] pb-2",children:r.jsx("div",{className:"text-[#1F1F1F] text-[15px]",children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})})}),r.jsxs("div",{className:"bg-white px-6 sm:px-8 py-4 flex items-center gap-4 border-b border-[#E8E8E8]",children:[r.jsx("button",{onClick:e,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 active:bg-gray-200 transition-colors",children:r.jsx(Jn,{className:"w-6 h-6 text-[#5E5873]"})}),r.jsx("h1",{className:"text-[#1F1F1F] text-[18px] font-semibold flex-1",children:"Submit Expense"}),r.jsx("button",{onClick:()=>x(!0),className:"w-10 h-10 flex items-center justify-center rounded-full bg-[#F3F2F7] hover:bg-[#E8E7F0]",title:"Use Template",children:r.jsx(Vp,{className:"w-5 h-5 text-[#7B5FEB]"})})]}),r.jsx("div",{className:"mx-6 mt-6 mb-4",children:r.jsxs("div",{className:"bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] rounded-2xl p-6 relative overflow-hidden",children:[r.jsxs("div",{className:"relative z-10",children:[r.jsx("h2",{className:"text-white text-[18px] font-semibold mb-1",children:"Ensure All Document Well Prepared"}),r.jsx("p",{className:"text-white/80 text-sm",children:"1000+ Expenses already approved"})]}),r.jsxs("div",{className:"absolute bottom-0 right-4 w-32 h-24 flex items-end justify-end gap-2 pb-4",children:[r.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-full backdrop-blur-sm flex items-center justify-center text-2xl",children:""}),r.jsx("div",{className:"w-14 h-14 bg-pink-300/40 rounded-full backdrop-blur-sm flex items-center justify-center text-2xl transform translate-y-2",children:""}),r.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-full backdrop-blur-sm flex items-center justify-center text-2xl",children:""})]})]})}),r.jsxs("form",{onSubmit:h,className:"px-6 pb-24",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-[#1F1F1F] text-[16px] font-semibold mb-1",children:"Fill Claim Information"}),r.jsx("p",{className:"text-[#B9B9C3] text-sm",children:"Information about claim details"})]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-3",children:"Upload Receipts"}),r.jsx(h3,{onFilesChange:d,maxFiles:5,existingFiles:i})]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-2",children:"Expense Category"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10",children:r.jsx(wA,{className:"w-5 h-5 text-[#7B5FEB]"})}),r.jsxs(Nt,{value:s.category,onValueChange:w=>{c("category",w),o.category&&m("category",w)},children:[r.jsx(Et,{className:`w-full h-[56px] pl-12 pr-4 bg-white border-2 rounded-xl text-[15px] focus:border-[#7B5FEB] ${o.category?"border-red-500":"border-[#E8E8E8]"}`,children:r.jsx(St,{placeholder:"Select Category"})}),r.jsxs(_t,{children:[r.jsx(xe,{value:"travel",children:"Travel"}),r.jsx(xe,{value:"meals",children:"Meals & Entertainment"}),r.jsx(xe,{value:"office",children:"Office Supplies"}),r.jsx(xe,{value:"training",children:"Training & Development"}),r.jsx(xe,{value:"utilities",children:"Utilities"}),r.jsx(xe,{value:"maintenance",children:"Maintenance"}),r.jsx(xe,{value:"other",children:"Other"})]})]})]}),o.category&&r.jsx("p",{className:"mt-2 text-red-600 text-sm",children:o.category})]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-2",children:"Transaction Date"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10",children:r.jsx(tt,{className:"w-5 h-5 text-[#7B5FEB]"})}),r.jsx("input",{type:"date",value:s.date,onChange:w=>c("date",w.target.value),onBlur:()=>m("date",s.date),className:`w-full h-[56px] pl-12 pr-4 bg-white border-2 rounded-xl text-[15px] focus:border-[#7B5FEB] focus:outline-none transition-colors ${o.date?"border-red-500":"border-[#E8E8E8]"}`,required:!0})]}),o.date&&r.jsx("p",{className:"mt-2 text-red-600 text-sm",children:o.date})]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-2",children:"Expense Amount ($USD)"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10",children:r.jsx(Or,{className:"w-5 h-5 text-[#7B5FEB]"})}),r.jsx("input",{type:"number",value:s.amount,onChange:w=>c("amount",w.target.value),onBlur:()=>m("amount",parseFloat(s.amount)),placeholder:"Enter Amount",className:`w-full h-[56px] pl-12 pr-4 bg-white border-2 rounded-xl text-[15px] placeholder:text-[#B9B9C3] focus:border-[#7B5FEB] focus:outline-none transition-colors ${o.amount?"border-red-500":"border-[#E8E8E8]"}`,required:!0,min:"0",step:"0.01"})]}),o.amount&&r.jsx("p",{className:"mt-2 text-red-600 text-sm",children:o.amount})]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-2",children:"Expense Description"}),r.jsx("textarea",{value:s.description,onChange:w=>c("description",w.target.value),onBlur:()=>m("description",s.description),placeholder:"Enter Expense Description",className:`w-full min-h-[120px] p-4 bg-white border-2 rounded-xl text-[15px] placeholder:text-[#B9B9C3] focus:border-[#7B5FEB] focus:outline-none transition-colors resize-none ${o.description?"border-red-500":"border-[#E8E8E8]"}`,required:!0}),o.description&&r.jsx("p",{className:"mt-2 text-red-600 text-sm",children:o.description})]}),r.jsx("button",{type:"submit",className:"w-full h-[56px] bg-gradient-to-r from-[#A89BF5] to-[#9B8DF5] text-white rounded-full font-semibold text-[16px] shadow-lg shadow-[#7B5FEB]/20 active:scale-[0.98] transition-transform disabled:opacity-50 px-6 flex items-center justify-center",children:"Submit Expense"})]})]})}function Q8({expense:e,onClose:t}){const[n,s]=v.useState([]),[o,i]=v.useState(!1);v.useEffect(()=>{c()},[e.id]);const c=async()=>{try{i(!0);const{files:m}=await de(`/expenses/${e.id}/files`);s(m||[])}catch(m){console.error("Error loading files:",m)}finally{i(!1)}},h={pending:{bg:"bg-orange-50",text:"text-orange-600",icon:er,label:"Under Review"},approved:{bg:"bg-green-50",text:"text-green-600",icon:Ln,label:"Approved"},rejected:{bg:"bg-red-50",text:"text-red-600",icon:$d,label:"Rejected"}}[e.status],f=h.icon;return r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-[#E8E8E8]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-[#1F1F1F] text-[18px] font-semibold",children:"Expense Details"}),r.jsxs("div",{className:`px-3 py-1.5 rounded-full ${h.bg} ${h.text} text-sm font-medium flex items-center gap-1.5`,children:[r.jsx(f,{className:"w-3.5 h-3.5"}),h.label]})]}),r.jsxs("div",{className:"mb-6 text-center py-4 bg-gradient-to-br from-[#7B5FEB]/10 to-[#6B4FDB]/10 rounded-xl",children:[r.jsx("div",{className:"text-[#B9B9C3] text-sm mb-1",children:"Total Amount"}),r.jsxs("div",{className:"text-[#7B5FEB] text-[32px] font-bold",children:["$",e.amount]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-[#F3F2F7] rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(fr,{className:"w-5 h-5 text-[#7B5FEB]"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-[#B9B9C3] text-sm mb-1",children:"Category"}),r.jsx("div",{className:"text-[#5E5873] text-[15px] font-medium capitalize",children:e.category||"Uncategorized"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-[#F3F2F7] rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(tt,{className:"w-5 h-5 text-[#7B5FEB]"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-[#B9B9C3] text-sm mb-1",children:"Transaction Date"}),r.jsx("div",{className:"text-[#5E5873] text-[15px] font-medium",children:new Date(e.date||e.created_at).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-[#F3F2F7] rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(fr,{className:"w-5 h-5 text-[#7B5FEB]"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-[#B9B9C3] text-sm mb-1",children:"Description"}),r.jsx("div",{className:"text-[#5E5873] text-[15px]",children:e.description||"No description provided"})]})]}),e.approver&&r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-[#F3F2F7] rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Cs,{className:"w-5 h-5 text-[#7B5FEB]"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-[#B9B9C3] text-sm mb-1",children:"Reviewed By"}),r.jsx("div",{className:"text-[#5E5873] text-[15px] font-medium",children:e.approver})]})]}),n.length>0&&r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-[#F3F2F7] rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx($R,{className:"w-5 h-5 text-[#7B5FEB]"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"text-[#B9B9C3] text-sm mb-2",children:["Receipts (",n.length,")"]}),r.jsx("div",{className:"space-y-2",children:n.map(m=>r.jsxs("a",{href:m.signedUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-2 bg-[#F8F8F8] rounded-lg hover:bg-[#F3F2F7] transition-colors",children:[m.fileType.startsWith("image/")?r.jsx(Hw,{className:"w-4 h-4 text-[#7B5FEB]"}):r.jsx(fr,{className:"w-4 h-4 text-[#7B5FEB]"}),r.jsx("span",{className:"text-[#5E5873] text-sm truncate flex-1",children:m.fileName}),r.jsx("span",{className:"text-[#7B5FEB] text-sm font-medium",children:"View"})]},m.id))})]})]}),o&&r.jsx("div",{className:"text-center py-2",children:r.jsx("div",{className:"text-[#B9B9C3] text-sm",children:"Loading receipts..."})})]}),t&&r.jsx("button",{onClick:t,className:"w-full h-[48px] bg-[#F3F2F7] text-[#5E5873] rounded-xl font-medium text-[15px] mt-6 hover:bg-[#E8E7F0] transition-colors px-6 flex items-center justify-center",children:"Close"})]})}function pj({children:e,onDelete:t,disabled:n=!1,deleteLabel:s="Delete"}){const[o,i]=v.useState(0),[c,d]=v.useState(!1),[h,f]=v.useState(!1),m=v.useRef(0),p=v.useRef(0),x=80,b=100;v.useEffect(()=>{n&&(i(0),p.current=0)},[n]);const w=S=>{n||(m.current=S.touches[0].clientX,d(!0))},k=S=>{if(n||!c)return;const C=S.touches[0].clientX,D=m.current-C;if(D>0){const _=Math.min(D,b);i(_),p.current=_,_>=x&&!h?(Ir("warning"),f(!0)):_<x&&h&&f(!1)}},N=async()=>{if(!n)if(d(!1),p.current>=x){Ir("error"),i(b);try{await new Promise(S=>setTimeout(S,200)),await t()}catch(S){console.error("Delete failed:",S),i(0),p.current=0,f(!1)}}else i(0),p.current=0,f(!1)},E=async()=>{if(!n){Ir("error");try{await t()}catch(S){console.error("Delete failed:",S),i(0),p.current=0,f(!1)}}};return r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center justify-end bg-gradient-to-l from-red-500 to-red-600 pr-6",style:{width:`${Math.max(o,0)}px`,transition:c?"none":"width 0.3s ease-out"},children:r.jsxs("button",{onClick:E,className:"flex items-center gap-2 text-white font-medium text-[15px] whitespace-nowrap",style:{opacity:o>=x?1:.5,transform:`scale(${o>=x?1:.9})`,transition:"opacity 0.2s, transform 0.2s"},children:[r.jsx(Wd,{className:"w-5 h-5"}),o>=x&&r.jsx("span",{children:s})]})}),r.jsx("div",{onTouchStart:w,onTouchMove:k,onTouchEnd:N,style:{transform:`translateX(-${o}px)`,transition:c?"none":"transform 0.3s ease-out"},className:"bg-white relative",children:e})]})}const Hr=({title:e,subtitle:t,action:n,onBack:s,variant:o="gradient",stats:i,showStatusBar:c=!0,showDecorations:d=!1,gradient:h={from:"#7B5FEB",to:"#6B4FDB"},className:f="",children:m})=>{const p=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),x=o==="gradient",b=o==="white";return x?r.jsxs(r.Fragment,{children:[c&&r.jsx("div",{className:"px-6 sm:px-8 pt-[calc(0.75rem+env(safe-area-inset-top))] pb-2",style:{background:`linear-gradient(to bottom right, ${h.from}, ${h.to})`},children:r.jsx("div",{className:"text-white text-[15px]",children:p()})}),r.jsxs("div",{className:`px-6 sm:px-8 pb-6 ${c?"":"pt-[calc(0.75rem+env(safe-area-inset-top))]"} relative overflow-hidden ${f}`,style:{background:`linear-gradient(to bottom right, ${h.from}, ${h.to})`},children:[d&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute top-4 right-8 text-white/20 text-[20px]",children:""}),r.jsx("div",{className:"absolute top-12 right-16 text-white/20 text-sm",children:""}),r.jsx("div",{className:"absolute top-8 right-24 text-white/20 text-[16px]",children:""})]}),r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsx("div",{className:"flex-1 min-w-0",children:r.jsx("h1",{className:"text-white text-[28px] font-semibold leading-tight mb-1",children:e})}),n&&r.jsxs("button",{onClick:n.onClick,className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-lg active:scale-95 transition-transform flex-shrink-0 ml-4 relative","aria-label":n["aria-label"],children:[r.jsx("div",{className:"text-[#7B5FEB]",children:n.icon}),n.badge!==void 0&&r.jsx("div",{className:"absolute -top-1 -right-1 min-w-[20px] h-5 bg-[#FF9F43] rounded-full flex items-center justify-center px-1.5",children:r.jsx("span",{className:"text-white text-xs font-semibold",children:n.badge})})]})]}),i&&i.length>0&&r.jsx("div",{className:`grid gap-3 ${i.length===3?"grid-cols-3":i.length===2?"grid-cols-2":"grid-cols-1"}`,children:i.map((w,k)=>r.jsxs("div",{className:"bg-white border border-[#E8E8E8] rounded-2xl p-4 shadow-sm",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center mb-3",style:{background:w.color||`linear-gradient(to bottom right, ${h.from}, ${h.to})`},children:r.jsx("div",{className:"text-white",children:w.icon})}),r.jsx("div",{className:"text-[#2E3152] text-[24px] font-semibold mb-1",children:w.value}),r.jsx("div",{className:"text-[#B9B9C3] text-sm",children:w.label})]},k))}),m]})]}):b?r.jsxs(r.Fragment,{children:[c&&r.jsx("div",{className:"bg-white px-6 sm:px-8 pt-[calc(0.75rem+env(safe-area-inset-top))] pb-2",children:r.jsx("div",{className:"text-[#1F1F1F] text-[15px]",children:p()})}),r.jsxs("div",{className:`bg-white px-6 sm:px-8 py-4 flex items-center gap-4 border-b border-[#E8E8E8] ${c?"":"pt-[calc(1rem+env(safe-area-inset-top))]"} ${f}`,children:[s&&r.jsx("button",{onClick:s,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 active:bg-gray-200 transition-colors flex-shrink-0","aria-label":"Go back",children:r.jsx(Jn,{className:"w-6 h-6 text-[#5E5873]"})}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsx("h1",{className:"text-[#1F1F1F] text-[18px] font-semibold truncate",children:e})}),n&&r.jsx("button",{onClick:n.onClick,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 active:bg-gray-200 transition-colors flex-shrink-0","aria-label":n["aria-label"],children:n.icon})]}),m]}):null},e6=({count:e})=>r.jsx(r.Fragment,{children:Array.from({length:e}).map((t,n)=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg animate-pulse",style:{animationDelay:`${n*100}ms`},children:[r.jsx("div",{className:"h-10 w-10 bg-muted rounded-full flex-shrink-0"}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-1/3"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]},n))});function Lu({data:e,isLoading:t,error:n,renderItem:s,keyExtractor:o=(x,b)=>b,loadingSkeleton:i,loadingCount:c=5,emptyState:d,errorState:h,onRetry:f,className:m="",showDivider:p=!1}){return t?i?r.jsx("div",{className:m,children:Array.from({length:c}).map((x,b)=>r.jsx("div",{children:i},b))}):r.jsx("div",{className:m,children:r.jsx(e6,{count:c})}):n?r.jsxs("div",{className:`flex flex-col items-center justify-center min-h-[200px] space-y-4 p-4 ${m}`,children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-destructive",children:h?.title||"Error"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:h?.description||n.message||"Something went wrong"})]}),h?.showRetry!==!1&&f&&r.jsxs(ze,{onClick:f,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(Um,{className:"h-4 w-4"}),"Retry"]})]}):!e||e.length===0?d?r.jsxs("div",{className:`flex flex-col items-center justify-center min-h-[300px] space-y-4 p-4 ${m}`,children:[d.icon&&r.jsx("div",{className:"text-muted-foreground",children:d.icon}),r.jsxs("div",{className:"text-center space-y-1",children:[r.jsx("h3",{className:"font-medium",children:d.title}),d.description&&r.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]}),d.action&&r.jsx(ze,{onClick:d.action.onClick,size:"sm",children:d.action.label})]}):r.jsx("div",{className:`flex flex-col items-center justify-center min-h-[200px] p-4 ${m}`,children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"No items to display"})}):r.jsx("div",{className:m,children:e.map((x,b)=>r.jsxs(te.Fragment,{children:[s(x,b),p&&b<e.length-1&&r.jsx("div",{className:"border-t my-2"})]},o(x,b)))})}function t6({expenses:e,onBack:t,onNavigate:n}){const[s,o]=v.useState(""),[i,c]=v.useState(null),[d,h]=v.useState("all"),[f,m]=v.useState(e),p=async b=>{try{await de(`/expenses/${b}`,{method:"DELETE"}),m(w=>w.filter(k=>k.id!==b)),K.success("Expense deleted successfully")}catch(w){throw console.error("Error deleting expense:",w),K.error("Failed to delete expense"),w}},x=f.filter(b=>{const w=b.description?.toLowerCase().includes(s.toLowerCase())||b.category?.toLowerCase().includes(s.toLowerCase()),k=d==="all"||b.status===d;return w&&k});return i?r.jsx("div",{className:"min-h-screen bg-[#F8F8F8] p-6",children:r.jsx(Q8,{expense:i,onClose:()=>c(null)})}):r.jsxs("div",{className:"min-h-dvh bg-[#F8F8F8] pb-[calc(84px+2rem+env(safe-area-inset-bottom))]",children:[r.jsx(Hr,{title:"Expense History",subtitle:`${x.length} ${x.length===1?"expense":"expenses"}`,onBack:t}),r.jsxs("div",{className:"px-6 sm:px-8 pt-4 pb-4 space-y-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ds,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#B9B9C3]"}),r.jsx("input",{type:"text",value:s,onChange:b=>o(b.target.value),placeholder:"Search expenses...",className:"w-full h-[48px] pl-12 pr-4 bg-white border-2 border-[#E8E8E8] rounded-xl text-[15px] placeholder:text-[#B9B9C3] focus:border-[#7B5FEB] focus:outline-none transition-colors"})]}),r.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[r.jsx("button",{onClick:()=>h("all"),className:`px-4 h-[32px] rounded-full text-sm font-medium whitespace-nowrap transition-all ${d==="all"?"bg-[#7B5FEB] text-white":"bg-white text-[#6E6B7B] border border-[#E8E8E8]"}`,children:"All"}),r.jsx("button",{onClick:()=>h("pending"),className:`px-4 h-[32px] rounded-full text-sm font-medium whitespace-nowrap transition-all ${d==="pending"?"bg-[#FF9F43] text-white":"bg-white text-[#6E6B7B] border border-[#E8E8E8]"}`,children:"Pending"}),r.jsx("button",{onClick:()=>h("approved"),className:`px-4 h-[32px] rounded-full text-sm font-medium whitespace-nowrap transition-all ${d==="approved"?"bg-[#28C76F] text-white":"bg-white text-[#6E6B7B] border border-[#E8E8E8]"}`,children:"Approved"}),r.jsx("button",{onClick:()=>h("rejected"),className:`px-4 h-[32px] rounded-full text-sm font-medium whitespace-nowrap transition-all ${d==="rejected"?"bg-[#EA5455] text-white":"bg-white text-[#6E6B7B] border border-[#E8E8E8]"}`,children:"Rejected"})]})]}),r.jsx("div",{className:"px-6 sm:px-8",children:r.jsx(Lu,{data:x,isLoading:!1,error:null,renderItem:b=>r.jsx(pj,{onDelete:()=>p(b.id),deleteLabel:"Delete",children:r.jsx("div",{onClick:()=>c(b),className:"cursor-pointer",children:r.jsx(vk,{date:new Date(b.date||b.created_at).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"}),type:b.description||b.category||"Expense",amount:b.amount,status:b.status==="pending"?"review":b.status})})}),keyExtractor:(b,w)=>b.id||w.toString(),emptyState:{icon:r.jsx(si,{className:"w-12 h-12 text-[#B9B9C3]"}),title:"No expenses found",description:s||d!=="all"?"Try adjusting your search or filters":"Your expense history will appear here"}})}),r.jsx(Xn,{activeTab:"expenses",onTabChange:n})]})}function n6({isOpen:e,onClose:t,onViewHistory:n}){return e?r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),r.jsxs("div",{className:"relative bg-white rounded-3xl p-8 mx-6 max-w-sm w-full shadow-2xl animate-in fade-in zoom-in duration-200",children:[r.jsx("div",{className:"mb-6 flex justify-center",children:r.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] rounded-3xl flex items-center justify-center shadow-lg shadow-[#7B5FEB]/30",children:r.jsx(si,{className:"w-12 h-12 text-white"})})}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-[#1F1F1F] text-[24px] font-semibold mb-3",children:"Expense Submitted!"}),r.jsx("p",{className:"text-[#6E6B7B] text-[15px] leading-relaxed",children:"Your expense report is in! You'll receive your reimbursement with your payroll."})]}),r.jsx("button",{onClick:n,className:"w-full h-[56px] bg-gradient-to-r from-[#7B5FEB] to-[#6B4FDB] text-white rounded-full font-semibold text-[16px] shadow-xl shadow-[#7B5FEB]/30 active:scale-[0.98] transition-transform px-6 flex items-center justify-center",children:"View Expense History"})]})]}):null}function r6({variant:e="default",className:t=""}){const{villas:n,selectedVilla:s,selectVilla:o}=zl();if(n.length===0)return null;const i=c=>{const d=n.find(h=>h.id===c);d&&o(d)};return e==="compact"?r.jsxs("div",{className:`flex items-center gap-2 ${t}`,children:[r.jsx(bn,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),r.jsxs(Nt,{value:s?.id||n[0]?.id,onValueChange:i,children:[r.jsx(Et,{className:"h-9 border-gray-300 focus:ring-[#7B5FEB] focus:border-[#7B5FEB] text-sm",children:r.jsx(St,{placeholder:"Select villa"})}),r.jsx(_t,{children:n.map(c=>r.jsx(xe,{value:c.id,children:c.name},c.id))})]})]}):e==="mobile"?r.jsxs("div",{className:`bg-white border-b border-gray-200 px-4 py-3 ${t}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] rounded-lg flex-shrink-0",children:r.jsx(bn,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("label",{className:"text-sm text-gray-500 block mb-1",children:"Active Villa"}),r.jsxs(Nt,{value:s?.id||n[0]?.id,onValueChange:i,children:[r.jsx(Et,{className:"h-10 border-gray-200 bg-gray-50 focus:ring-[#7B5FEB] focus:border-[#7B5FEB] text-sm font-medium",children:r.jsx(St,{placeholder:"Select a villa"})}),r.jsx(_t,{children:n.map(c=>r.jsx(xe,{value:c.id,children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium",children:c.name}),c.address&&r.jsx("span",{className:"text-sm text-gray-500",children:c.address})]})},c.id))})]})]})]}),s&&n.length>1&&r.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[n.length," villa",n.length!==1?"s":""," available"]})]}):r.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg p-4 ${t}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(bn,{className:"w-5 h-5 text-[#7B5FEB]"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Active Villa"})]}),r.jsxs(Nt,{value:s?.id||n[0]?.id,onValueChange:i,children:[r.jsx(Et,{className:"w-full h-11 border-gray-300 focus:ring-[#7B5FEB] focus:border-[#7B5FEB]",children:r.jsx(St,{placeholder:"Select a villa"})}),r.jsx(_t,{children:n.map(c=>r.jsx(xe,{value:c.id,children:r.jsxs("div",{className:"flex flex-col py-1",children:[r.jsx("span",{className:"font-medium text-gray-900",children:c.name}),c.address&&r.jsx("span",{className:"text-sm text-gray-500",children:c.address})]})},c.id))})]}),n.length>1&&r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Viewing data for ",s?.name||n[0]?.name]})]})}function ol({children:e,showVillaSwitcher:t=!0}){const{villas:n}=zl(),s=t&&n&&n.length>0;return r.jsxs("div",{className:"min-h-dvh bg-[#F8F8F8]",children:[s&&r.jsx(r6,{variant:"mobile"}),e]})}function s6({villas:e,onNavigate:t}){const{expenses:n,selectedVilla:s,loadExpenses:o,createExpense:i}=zl(),[c,d]=v.useState("summary"),[h,f]=v.useState(!1),[m,p]=v.useState(!1);v.useEffect(()=>{s&&o(s.id)},[s]);const x=async N=>{if(!s){Ir("error"),K.error("Please select a villa first");return}try{await i({villaId:s.id,description:N.description,amount:parseFloat(N.amount),category:N.category,date:N.date||new Date().toISOString(),status:"pending"}),Ir("success"),f(!0),s&&o(s.id)}catch(E){console.error("Error submitting expense:",E),Ir("error"),K.error("Failed to submit expense")}},b=()=>{f(!1),d("summary")},w=N=>{t?.({home:"dashboard",villas:"villas",calendar:"calendar",tasks:"tasks",expenses:"expenses"}[N]||N)},k=s?n.filter(N=>N.villaId===s.id||N.villa_id===s.id):n;return s?m?r.jsx(ol,{children:r.jsx("div",{className:"flex items-center justify-center h-[50vh]",children:r.jsx("div",{className:"text-[#6E6B7B]",children:"Loading expenses..."})})}):c==="submit"?r.jsx(ol,{children:r.jsx(X8,{onBack:()=>d("summary"),onSubmit:x,villaId:s.id})}):c==="history"?r.jsx(ol,{children:r.jsx(t6,{expenses:k,onBack:()=>d("summary"),onNavigate:w})}):r.jsxs(ol,{children:[r.jsx(QI,{expenses:k,onSubmit:()=>d("submit"),onNavigate:w,onViewHistory:()=>d("history")}),r.jsx(n6,{isOpen:h,onClose:()=>f(!1),onViewHistory:b})]}):r.jsx(ol,{children:r.jsx("div",{className:"flex items-center justify-center h-[50vh] px-4",children:r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-gray-600",children:"Please select a villa to view expenses"})})})})}function a6({task:e,onClick:t}){const n={pending:{color:"bg-[#B9B9C3]",label:"Pending"},todo:{color:"bg-[#B9B9C3]",label:"To Do"},in_progress:{color:"bg-[#FF9F43]",label:"In Progress"},review:{color:"bg-[#7B5FEB]",label:"Review"},completed:{color:"bg-[#28C76F]",label:"Completed"}},s={low:{color:"text-[#28C76F]",bg:"bg-[#28C76F]/10",icon:""},medium:{color:"text-[#FF9F43]",bg:"bg-[#FF9F43]/10",icon:""},high:{color:"text-[#EA5455]",bg:"bg-[#EA5455]/10",icon:""},urgent:{color:"text-[#EA5455]",bg:"bg-[#EA5455]/10",icon:""}},o=n[e.status],i=s[e.priority];return r.jsxs("div",{onClick:t,className:"bg-white rounded-2xl p-4 mb-3 active:scale-[0.98] transition-transform cursor-pointer",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-[#1F1F1F] text-[15px] font-semibold mb-1 line-clamp-2",children:e.title}),e.description&&r.jsx("p",{className:"text-[#B9B9C3] text-sm line-clamp-2",children:e.description})]}),r.jsx("div",{className:`w-2 h-2 rounded-full ${o.color} ml-3 mt-1.5 flex-shrink-0`})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[e.assignee&&r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("div",{className:"w-6 h-6 bg-[#7B5FEB]/10 rounded-full flex items-center justify-center",children:r.jsx(Cs,{className:"w-3.5 h-3.5 text-[#7B5FEB]"})}),r.jsx("span",{className:"text-[#6E6B7B] text-sm",children:e.assignee})]}),e.due_date&&r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(tt,{className:"w-3.5 h-3.5 text-[#B9B9C3]"}),r.jsx("span",{className:"text-[#6E6B7B] text-sm",children:new Date(e.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]}),r.jsxs("div",{className:`px-2.5 py-1 rounded-full ${i.bg} ${i.color} text-sm font-medium`,children:[i.icon," ",e.priority]})]})]})}function o6({task:e,onBack:t,onUpdate:n,onNavigate:s}){const[o,i]=v.useState(e.status),[c,d]=v.useState(e.priority),h=p=>{Ir(p==="completed"?"success":"medium"),i(p),n(e.id,{status:p})},f=p=>{Ir(p==="urgent"?"warning":"light"),d(p),n(e.id,{priority:p})},m={pending:{color:"bg-[#B9B9C3]",label:"Pending"},todo:{color:"bg-[#B9B9C3]",label:"To Do"},in_progress:{color:"bg-[#FF9F43]",label:"In Progress"},review:{color:"bg-[#7B5FEB]",label:"Review"},completed:{color:"bg-[#28C76F]",label:"Completed"}};return r.jsxs("div",{className:"min-h-dvh bg-[#F8F8F8] pb-[calc(env(safe-area-inset-bottom)+2rem)]",children:[r.jsx(Hr,{title:"Task Details",variant:"white",onBack:t,className:"mb-4"}),r.jsxs("div",{className:"px-6 sm:px-8 pb-24",children:[r.jsxs("div",{className:"bg-white rounded-2xl p-4 mb-3",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("h2",{className:"text-[#1F1F1F] text-[20px] font-semibold flex-1",children:e.title}),r.jsx("div",{className:`w-3 h-3 rounded-full ${m[o]?.color||m.todo.color} ml-3 mt-2`})]}),e.description&&r.jsx("p",{className:"text-[#6E6B7B] text-[15px] leading-relaxed",children:e.description})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-4 mb-3",children:[r.jsx("h3",{className:"text-[#1F1F1F] text-[16px] font-semibold mb-4",children:"Status & Priority"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"text-[#6E6B7B] text-sm mb-2 block",children:"Status"}),r.jsxs(Nt,{value:o,onValueChange:h,children:[r.jsx(Et,{className:"w-full h-[48px] bg-[#F8F8F8] border-2 border-[#E8E8E8] rounded-xl",children:r.jsx(St,{})}),r.jsxs(_t,{children:[r.jsx(xe,{value:"pending",children:"Pending"}),r.jsx(xe,{value:"todo",children:"To Do"}),r.jsx(xe,{value:"in_progress",children:"In Progress"}),r.jsx(xe,{value:"review",children:"Review"}),r.jsx(xe,{value:"completed",children:"Completed"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[#6E6B7B] text-sm mb-2 block",children:"Priority"}),r.jsxs(Nt,{value:c,onValueChange:f,children:[r.jsx(Et,{className:"w-full h-[48px] bg-[#F8F8F8] border-2 border-[#E8E8E8] rounded-xl",children:r.jsx(St,{})}),r.jsxs(_t,{children:[r.jsx(xe,{value:"low",children:"Low"}),r.jsx(xe,{value:"medium",children:"Medium"}),r.jsx(xe,{value:"high",children:"High"}),r.jsx(xe,{value:"urgent",children:"Urgent"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-4 mb-3",children:[r.jsx("h3",{className:"text-[#1F1F1F] text-[16px] font-semibold mb-4",children:"Details"}),r.jsxs("div",{className:"space-y-4",children:[e.assignee&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-[#7B5FEB]/10 rounded-lg flex items-center justify-center",children:r.jsx(Cs,{className:"w-5 h-5 text-[#7B5FEB]"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-[#B9B9C3] text-sm",children:"Assigned To"}),r.jsx("div",{className:"text-[#5E5873] text-[15px] font-medium",children:e.assignee})]})]}),e.due_date&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-[#FF9F43]/10 rounded-lg flex items-center justify-center",children:r.jsx(tt,{className:"w-5 h-5 text-[#FF9F43]"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-[#B9B9C3] text-sm",children:"Due Date"}),r.jsx("div",{className:"text-[#5E5873] text-[15px] font-medium",children:new Date(e.due_date).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})})]})]}),e.supervisor&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-[#28C76F]/10 rounded-lg flex items-center justify-center",children:r.jsx(Cs,{className:"w-5 h-5 text-[#28C76F]"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-[#B9B9C3] text-sm",children:"Supervisor"}),r.jsx("div",{className:"text-[#5E5873] text-[15px] font-medium",children:e.supervisor})]})]})]})]}),o!=="completed"&&r.jsxs("button",{onClick:()=>h("completed"),className:"w-full h-[56px] bg-gradient-to-r from-[#28C76F] to-[#20B561] text-white rounded-full font-semibold text-[16px] shadow-lg shadow-[#28C76F]/30 active:scale-[0.98] transition-transform flex items-center justify-center gap-2 px-6",children:[r.jsx(Ln,{className:"w-5 h-5"}),"Mark as Complete"]})]})]})}function i6({villas:e,onBack:t,onCreate:n}){const[s,o]=v.useState({title:"",description:"",villa_id:e[0]?.id||"",status:"todo",priority:"medium",due_date:"",assignee:"",supervisor:""}),[i,c]=v.useState({}),d=(f,m)=>{let p;return f==="title"?p=Ar(m,{required:"Please enter a task title",minLength:{value:3,message:"Title must be at least 3 characters"}}):f==="description"?p=Ar(m,{required:"Please enter a description",minLength:{value:10,message:"Description must be at least 10 characters"}}):f==="villa_id"?p=Ar(m,{required:"Please select a villa"}):p={isValid:!0},c(x=>({...x,[f]:p.isValid?"":p.error||""})),p.isValid},h=f=>{f.preventDefault();const m=d("title",s.title),p=d("description",s.description),x=d("villa_id",s.villa_id);if(!m||!p||!x){K.error("Please fix all errors before creating the task");return}n(s)};return r.jsxs("div",{className:"min-h-dvh bg-[#F8F8F8] pb-[calc(env(safe-area-inset-bottom)+2rem)]",children:[r.jsx("div",{className:"bg-white px-6 sm:px-8 pt-[calc(0.75rem+env(safe-area-inset-top))] pb-2",children:r.jsx("div",{className:"text-[#1F1F1F] text-[15px]",children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})})}),r.jsxs("div",{className:"bg-white px-6 sm:px-8 py-4 flex items-center gap-4 border-b border-[#E8E8E8]",children:[r.jsx("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 active:bg-gray-200 transition-colors",children:r.jsx(Jn,{className:"w-6 h-6 text-[#5E5873]"})}),r.jsx("h1",{className:"text-[#1F1F1F] text-[18px] font-semibold",children:"Create Task"})]}),r.jsxs("form",{onSubmit:h,className:"px-6 sm:px-8 py-6 pb-24",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-[#1F1F1F] text-[16px] font-semibold mb-1",children:"Task Information"}),r.jsx("p",{className:"text-[#B9B9C3] text-sm",children:"Fill in the task details"})]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-2",children:"Task Title"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:r.jsx(fr,{className:"w-5 h-5 text-[#7B5FEB]"})}),r.jsx("input",{type:"text",value:s.title,onChange:f=>{o({...s,title:f.target.value}),i.title&&c(m=>({...m,title:""}))},onBlur:()=>d("title",s.title),placeholder:"Enter task title",className:`w-full h-[56px] pl-12 pr-4 bg-white border-2 rounded-xl text-[15px] placeholder:text-[#B9B9C3] focus:border-[#7B5FEB] focus:outline-none transition-colors ${i.title?"border-red-500":"border-[#E8E8E8]"}`,required:!0})]}),i.title&&r.jsx("p",{className:"mt-2 text-red-600 text-sm",children:i.title})]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-2",children:"Description"}),r.jsx("textarea",{value:s.description,onChange:f=>{o({...s,description:f.target.value}),i.description&&c(m=>({...m,description:""}))},onBlur:()=>d("description",s.description),placeholder:"Enter task description",className:`w-full min-h-[120px] p-4 bg-white border-2 rounded-xl text-[15px] placeholder:text-[#B9B9C3] focus:border-[#7B5FEB] focus:outline-none transition-colors resize-none ${i.description?"border-red-500":"border-[#E8E8E8]"}`,required:!0}),i.description&&r.jsx("p",{className:"mt-2 text-red-600 text-sm",children:i.description})]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-2",children:"Villa"}),r.jsxs(Nt,{value:s.villa_id,onValueChange:f=>o({...s,villa_id:f}),children:[r.jsx(Et,{className:"w-full h-[56px] bg-white border-2 border-[#E8E8E8] rounded-xl text-[15px] focus:border-[#7B5FEB]",children:r.jsx(St,{placeholder:"Select Villa"})}),r.jsx(_t,{children:e.map(f=>r.jsx(xe,{value:f.id,children:f.name},f.id))})]})]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-2",children:"Priority"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10",children:r.jsx(dR,{className:"w-5 h-5 text-[#7B5FEB]"})}),r.jsxs(Nt,{value:s.priority,onValueChange:f=>o({...s,priority:f}),children:[r.jsx(Et,{className:"w-full h-[56px] pl-12 pr-4 bg-white border-2 border-[#E8E8E8] rounded-xl text-[15px] focus:border-[#7B5FEB]",children:r.jsx(St,{})}),r.jsxs(_t,{children:[r.jsx(xe,{value:"low",children:"Low"}),r.jsx(xe,{value:"medium",children:"Medium"}),r.jsx(xe,{value:"high",children:"High"}),r.jsx(xe,{value:"urgent",children:"Urgent"})]})]})]})]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-2",children:"Due Date"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10",children:r.jsx(tt,{className:"w-5 h-5 text-[#7B5FEB]"})}),r.jsx("input",{type:"date",value:s.due_date,onChange:f=>o({...s,due_date:f.target.value}),className:"w-full h-[56px] pl-12 pr-4 bg-white border-2 border-[#E8E8E8] rounded-xl text-[15px] focus:border-[#7B5FEB] focus:outline-none transition-colors",required:!0})]})]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-2",children:"Assign To"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:r.jsx(Cs,{className:"w-5 h-5 text-[#7B5FEB]"})}),r.jsx("input",{type:"text",value:s.assignee,onChange:f=>o({...s,assignee:f.target.value}),placeholder:"Enter assignee name",className:"w-full h-[56px] pl-12 pr-4 bg-white border-2 border-[#E8E8E8] rounded-xl text-[15px] placeholder:text-[#B9B9C3] focus:border-[#7B5FEB] focus:outline-none transition-colors"})]})]}),r.jsx("button",{type:"submit",className:"w-full h-[56px] bg-gradient-to-r from-[#7B5FEB] to-[#6B4FDB] text-white rounded-full font-semibold text-[16px] shadow-xl shadow-[#7B5FEB]/30 active:scale-[0.98] transition-transform px-6 flex items-center justify-center",children:"Create Task"})]})]})}var Pl;(function(e){e[e.UP=-1]="UP",e[e.DOWN=1]="DOWN"})(Pl||(Pl={}));function l6(e){var t=getComputedStyle(e).overflowY;return e===document.scrollingElement&&t==="visible"?!0:!(t!=="scroll"&&t!=="auto")}function c6(e,t){if(!l6(e))return!1;if(t===Pl.DOWN){var n=e.scrollTop+e.clientHeight;return n<e.scrollHeight}if(t===Pl.UP)return e.scrollTop>0;throw new Error("unsupported direction")}function mj(e,t){return c6(e,t)?!0:e.parentElement==null?!1:mj(e.parentElement,t)}function gj(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&s.firstChild?s.insertBefore(o,s.firstChild):s.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var d6=`.lds-ellipsis {
  display: inline-block;
  position: relative;
  width: 64px;
  height: 64px; }

.lds-ellipsis div {
  position: absolute;
  top: 27px;
  width: 11px;
  height: 11px;
  border-radius: 50%;
  background: #363636;
  animation-timing-function: cubic-bezier(0, 1, 1, 0); }

.lds-ellipsis div:nth-child(1) {
  left: 6px;
  animation: lds-ellipsis1 0.6s infinite; }

.lds-ellipsis div:nth-child(2) {
  left: 6px;
  animation: lds-ellipsis2 0.6s infinite; }

.lds-ellipsis div:nth-child(3) {
  left: 26px;
  animation: lds-ellipsis2 0.6s infinite; }

.lds-ellipsis div:nth-child(4) {
  left: 45px;
  animation: lds-ellipsis3 0.6s infinite; }

@keyframes lds-ellipsis1 {
  0% {
    transform: scale(0); }
  100% {
    transform: scale(1); } }

@keyframes lds-ellipsis3 {
  0% {
    transform: scale(1); }
  100% {
    transform: scale(0); } }

@keyframes lds-ellipsis2 {
  0% {
    transform: translate(0, 0); }
  100% {
    transform: translate(19px, 0); } }
`;gj(d6);var u6=function(){return te.createElement("div",{className:"lds-ellipsis"},te.createElement("div",null),te.createElement("div",null),te.createElement("div",null),te.createElement("div",null))},f6=function(){return te.createElement("div",null,te.createElement("p",null,"pull to refresh"))},h6=`.ptr,
.ptr__children {
  height: 100%;
  width: 100%;
  overflow: hidden;
  -webkit-overflow-scrolling: touch;
  position: relative; }

.ptr.ptr--fetch-more-treshold-breached .ptr__fetch-more {
  display: block; }

.ptr__fetch-more {
  display: none; }

/**
  * Pull down transition 
  */
.ptr__children,
.ptr__pull-down {
  transition: transform 0.2s cubic-bezier(0, 0, 0.31, 1); }

.ptr__pull-down {
  position: absolute;
  overflow: hidden;
  left: 0;
  right: 0;
  top: 0;
  visibility: hidden; }
  .ptr__pull-down > div {
    display: none; }

.ptr--dragging {
  /**
    * Hide PullMore content is treshold breached
    */
  /**
    * Otherwize, display content
    */ }
  .ptr--dragging.ptr--pull-down-treshold-breached .ptr__pull-down--pull-more {
    display: none; }
  .ptr--dragging .ptr__pull-down--pull-more {
    display: block; }

.ptr--pull-down-treshold-breached {
  /**
    * Force opacity to 1 is pull down trashold breached
    */
  /**
    * And display loader
    */ }
  .ptr--pull-down-treshold-breached .ptr__pull-down {
    opacity: 1 !important; }
  .ptr--pull-down-treshold-breached .ptr__pull-down--loading {
    display: block; }

.ptr__loader {
  margin: 0 auto;
  text-align: center; }
`;gj(h6);var p6=function(e){var t=e.isPullable,n=t===void 0?!0:t,s=e.canFetchMore,o=s===void 0?!1:s,i=e.onRefresh,c=e.onFetchMore,d=e.refreshingContent,h=d===void 0?te.createElement(u6,null):d,f=e.pullingContent,m=f===void 0?te.createElement(f6,null):f,p=e.children,x=e.pullDownThreshold,b=x===void 0?67:x,w=e.fetchMoreThreshold,k=w===void 0?100:w,N=e.maxPullDownDistance,E=N===void 0?95:N,S=e.resistance,C=S===void 0?1:S,D=e.backgroundColor,_=e.className,A=_===void 0?"":_,P=v.useRef(null),F=v.useRef(null),W=v.useRef(null),U=v.useRef(null),G=!1,ne=!1,V=!1,re=0,pe=0;v.useEffect(function(){if(!(!n||!F||!F.current)){var R=F.current;return R.addEventListener("touchstart",M,{passive:!0}),R.addEventListener("mousedown",M),R.addEventListener("touchmove",X,{passive:!1}),R.addEventListener("mousemove",X),window.addEventListener("scroll",ae),R.addEventListener("touchend",I),R.addEventListener("mouseup",I),document.body.addEventListener("mouseleave",I),function(){R.removeEventListener("touchstart",M),R.removeEventListener("mousedown",M),R.removeEventListener("touchmove",X),R.removeEventListener("mousemove",X),window.removeEventListener("scroll",ae),R.removeEventListener("touchend",I),R.removeEventListener("mouseup",I),document.body.removeEventListener("mouseleave",I)}}},[p,n,i,b,E,o,k]),v.useEffect(function(){var R;if(!((R=P)===null||R===void 0)&&R.current){var O=P.current.classList.contains("ptr--fetch-more-treshold-breached");O||o&&se()<k&&c&&(P.current.classList.add("ptr--fetch-more-treshold-breached"),ne=!0,c().then(q).catch(q))}},[o,p]);var se=function(){if(!F||!F.current)return-1;var R=window.scrollY,O=F.current.scrollHeight;return O-R-window.innerHeight},q=function(){requestAnimationFrame(function(){F.current&&(F.current.style.overflowX="hidden",F.current.style.overflowY="auto",F.current.style.transform="unset"),W.current&&(W.current.style.opacity="0"),P.current&&(P.current.classList.remove("ptr--pull-down-treshold-breached"),P.current.classList.remove("ptr--dragging"),P.current.classList.remove("ptr--fetch-more-treshold-breached")),G&&(G=!1),ne&&(ne=!1)})},M=function(R){V=!1,R instanceof MouseEvent&&(re=R.pageY),window.TouchEvent&&R instanceof TouchEvent&&(re=R.touches[0].pageY),pe=re,!(R.type==="touchstart"&&mj(R.target,Pl.UP))&&(F.current.getBoundingClientRect().top<0||(V=!0))},X=function(R){if(V){if(window.TouchEvent&&R instanceof TouchEvent?pe=R.touches[0].pageY:pe=R.pageY,P.current.classList.add("ptr--dragging"),pe<re){V=!1;return}R.cancelable&&R.preventDefault();var O=Math.min((pe-re)/C,E);O>=b&&(V=!0,G=!0,P.current.classList.remove("ptr--dragging"),P.current.classList.add("ptr--pull-down-treshold-breached")),!(O>=E)&&(W.current.style.opacity=(O/65).toString(),F.current.style.overflow="visible",F.current.style.transform="translate(0px, "+O+"px)",W.current.style.visibility="visible")}},ae=function(R){ne||o&&se()<k&&c&&(ne=!0,P.current.classList.add("ptr--fetch-more-treshold-breached"),c().then(q).catch(q))},I=function(){if(V=!1,re=0,pe=0,!G){W.current&&(W.current.style.visibility="hidden"),q();return}F.current&&(F.current.style.overflow="visible",F.current.style.transform="translate(0px, "+b+"px)"),i().then(q).catch(q)};return te.createElement("div",{className:"ptr "+A,style:{backgroundColor:D},ref:P},te.createElement("div",{className:"ptr__pull-down",ref:W},te.createElement("div",{className:"ptr__loader ptr__pull-down--loading"},h),te.createElement("div",{className:"ptr__pull-down--pull-more"},m)),te.createElement("div",{className:"ptr__children",ref:F},p,te.createElement("div",{className:"ptr__fetch-more",ref:U},te.createElement("div",{className:"ptr__loader ptr__fetch-more--loading"},h))))};function pg({onRefresh:e,children:t,className:n}){return r.jsx(p6,{onRefresh:e,pullDownThreshold:80,maxPullDownDistance:120,resistance:2,refreshingContent:r.jsx("div",{className:"flex justify-center py-4",role:"status","aria-live":"polite",children:r.jsx("div",{className:"w-8 h-8 border-4 border-vs-primary border-t-transparent rounded-full animate-spin","aria-label":"Refreshing content"})}),pullingContent:r.jsxs("div",{className:"flex justify-center py-2 text-vs-text-tertiary text-sm",children:[r.jsx("span",{"aria-hidden":"true",children:""})," Pull to refresh"]}),className:n,children:t})}function sn({className:e,...t}){return r.jsx("div",{"data-slot":"skeleton",className:Ie("bg-[#E8E8E8] animate-pulse rounded-xl",e),...t})}function m6(){return r.jsxs("div",{className:"bg-white rounded-2xl p-4 mb-3",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1 min-w-0 space-y-1.5",children:[r.jsx(sn,{className:"h-[15px] w-3/4"}),r.jsx(sn,{className:"h-[13px] w-full"}),r.jsx(sn,{className:"h-[13px] w-5/6"})]}),r.jsx(sn,{className:"w-2 h-2 rounded-full ml-3 mt-1.5 flex-shrink-0"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(sn,{className:"w-6 h-6 rounded-full"}),r.jsx(sn,{className:"h-[12px] w-16"})]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(sn,{className:"w-3.5 h-3.5 rounded"}),r.jsx(sn,{className:"h-[12px] w-12"})]})]}),r.jsx(sn,{className:"h-[22px] w-16 rounded-full"})]})]})}function vj(){return r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx(sn,{className:"w-10 h-10 rounded-lg flex-shrink-0"}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx(sn,{className:"h-4 w-3/4"}),r.jsx(sn,{className:"h-3 w-1/2"})]})]})}function zu({count:e=3,children:t}){return r.jsx(r.Fragment,{children:Array.from({length:e}).map((n,s)=>r.jsx("div",{children:t},s))})}class g6{transitions=[];storageKey="villasaya_task_analytics";constructor(){this.loadTransitions()}trackTransition(t){const n={...t,timestamp:new Date};this.transitions.push(n),this.saveTransitions(),console.log("[Task Analytics] Status change:",{task:t.taskTitle,from:t.fromStatus,to:t.toStatus,timestamp:n.timestamp.toISOString()}),t.toStatus==="done"&&this.trackCompletion(t.taskId),t.fromStatus==="pending"&&this.trackPendingResolution(t.taskId,t.toStatus)}getPendingAnalytics(){const t=this.transitions.filter(d=>d.fromStatus==="pending"||d.toStatus==="pending"),n=this.transitions.filter(d=>d.fromStatus==="pending"&&d.toStatus!=="pending"),s=new Map,o=[];for(const d of this.transitions)if(d.toStatus==="pending")s.set(d.taskId,d.timestamp.getTime());else if(d.fromStatus==="pending"&&s.has(d.taskId)){const h=s.get(d.taskId),f=d.timestamp.getTime()-h;o.push(f),s.delete(d.taskId)}const i=o.length>0?o.reduce((d,h)=>d+h,0)/o.length:null,c=t.length>0?n.length/t.length*100:0;return{total:t.length,avgTimeInPending:i,resolutionRate:c}}getAnalytics(t){let n=this.transitions;t&&(n=this.transitions.filter(i=>i.villaId===t));const s={},o=new Map;for(const i of n)o.set(i.taskId,i.toStatus);for(const i of o.values())s[i]=(s[i]||0)+1;return{totalTasks:o.size,statusBreakdown:s,pendingTasks:s.pending||0,transitions:n}}trackCompletion(t){const n=this.transitions.filter(s=>s.taskId===t);if(n.length>1){const s=n[0],i=n[n.length-1].timestamp.getTime()-s.timestamp.getTime();console.log("[Task Analytics] Task completed:",{taskId:t,completionTime:`${(i/1e3/60).toFixed(2)} minutes`,transitions:n.length})}}trackPendingResolution(t,n){const s=this.transitions.find(o=>o.taskId===t&&o.toStatus==="pending");if(s){const o=Date.now()-s.timestamp.getTime();console.log("[Task Analytics] Pending task resolved:",{taskId:t,newStatus:n,timeInPending:`${(o/1e3/60).toFixed(2)} minutes`})}}getTaskHistory(t){return this.transitions.filter(n=>n.taskId===t)}saveTransitions(){try{const t=this.transitions.slice(-100);localStorage.setItem(this.storageKey,JSON.stringify(t))}catch(t){console.error("[Task Analytics] Failed to save transitions:",t)}}loadTransitions(){try{const t=localStorage.getItem(this.storageKey);if(t){const n=JSON.parse(t);this.transitions=n.map(s=>({...s,timestamp:new Date(s.timestamp)}))}}catch(t){console.error("[Task Analytics] Failed to load transitions:",t),this.transitions=[]}}clearAnalytics(){this.transitions=[],localStorage.removeItem(this.storageKey),console.log("[Task Analytics] Analytics data cleared")}exportAnalytics(){return JSON.stringify({transitions:this.transitions,summary:this.getAnalytics(),pendingAnalytics:this.getPendingAnalytics(),exportedAt:new Date().toISOString()},null,2)}}const v6=new g6;function x6(e,t,n,s,o,i){v6.trackTransition({taskId:e,taskTitle:t,fromStatus:n,toStatus:s,userId:o,villaId:i})}const y6=e=>e;function $u(e){const{endpoint:t,dataExtractor:n=y6,fetchOnMount:s=!0,errorMessage:o="Failed to load data",queryParams:i,showErrorToast:c=!0,onSuccess:d,onError:h,dependencies:f=[]}=e,[m,p]=v.useState([]),[x,b]=v.useState(!0),[w,k]=v.useState(!1),[N,E]=v.useState(null),[S,C]=v.useState(!1),D=v.useRef(!0),_=v.useCallback(async()=>{try{k(!0),E(null);let P=t;if(i){const U=new URLSearchParams;Object.entries(i).forEach(([ne,V])=>{U.append(ne,String(V))});const G=t.includes("?")?"&":"?";P=`${t}${G}${U.toString()}`}const F=await de(P),W=n(F);D.current&&(p(W),C(!0),d?.(W))}catch(P){const F=P instanceof Error?P:new Error(String(P));D.current&&(E(F),console.error(`Error fetching data from ${t}:`,F),c&&K.error(o),h?.(F))}finally{D.current&&(k(!1),b(!1))}},[t,i,n,o,c,d,h]),A=v.useCallback(async()=>{await _()},[_]);return v.useEffect(()=>(D.current=!0,s&&_(),()=>{D.current=!1}),[s,_,...f]),{data:m,isInitialLoad:x,isLoading:w,error:N,refresh:A,setData:p,hasLoaded:S}}const b6=e=>e.tasks||[],w6=e=>e.staff||[],k6=e=>e.events||[],j6=e=>e.chats||[];function N6(e){const t=v.useMemo(()=>{const n={};return Object.keys(n).length>0?n:void 0},[e?.villaId,e?.status,e?.assignedTo]);return $u({endpoint:"/tasks",dataExtractor:b6,errorMessage:"Failed to load tasks",queryParams:t,dependencies:[e?.villaId,e?.status,e?.assignedTo]})}function S6(e){const t=v.useMemo(()=>{const n={};return Object.keys(n).length>0?n:void 0},[e?.villaId,e?.status]);return $u({endpoint:"/staff",dataExtractor:w6,errorMessage:"Failed to load staff",queryParams:t,dependencies:[e?.villaId,e?.status]})}function E6(e){const t=v.useMemo(()=>{const n={};return e?.villaId&&(n.villaId=e.villaId),e?.startDate&&(n.startDate=e.startDate),e?.endDate&&(n.endDate=e.endDate),e?.type&&(n.type=e.type),e?.includeAll!==void 0&&(n.includeAll=e.includeAll),Object.keys(n).length>0?n:void 0},[e?.villaId,e?.startDate,e?.endDate,e?.type,e?.includeAll]);return $u({endpoint:"/events",dataExtractor:k6,errorMessage:"Failed to load events",queryParams:t,dependencies:[e?.startDate,e?.endDate,e?.villaId,e?.type,e?.includeAll]})}function _6(e){const t=v.useMemo(()=>{const n={};return Object.keys(n).length>0?n:void 0},[e?.villaId]);return $u({endpoint:"/chats",dataExtractor:j6,errorMessage:"Failed to load messages",queryParams:t,dependencies:[e?.villaId]})}function C6({villas:e,onNavigate:t}){const{data:n,isInitialLoad:s,refresh:o,setData:i}=N6(),[c,d]=v.useState(""),[h,f]=v.useState("list"),[m,p]=v.useState(null),[x,b]=v.useState("all"),w=_=>{p(_),f("detail")},k=async _=>{try{await de("/tasks",{method:"POST",body:JSON.stringify(_)}),K.success("Task created successfully!"),await o(),f("list")}catch(A){console.error("Error creating task:",A),K.error("Failed to create task")}},N=async(_,A)=>{try{const P=n.find(W=>W.id===_),F=P?.status||"unknown";if(await de(`/tasks/${_}`,{method:"PUT",body:JSON.stringify(A)}),A.status&&A.status!==F){const W=sessionStorage.getItem("user_id")||"unknown";x6(_,P?.title||"Untitled Task",F,A.status,W,P?.villaId)}K.success("Task updated successfully!"),await o(),f("list")}catch(P){console.error("Error updating task:",P),K.error("Failed to update task")}},E=async _=>{try{await de(`/tasks/${_}`,{method:"DELETE"}),i(A=>A.filter(P=>P.id!==_)),K.success("Task deleted successfully")}catch(A){throw console.error("Error deleting task:",A),K.error("Failed to delete task"),A}},S=_=>{t?.({home:"dashboard",villas:"villas",calendar:"calendar",tasks:"tasks",expenses:"expenses"}[_]||_)},C=n.filter(_=>{const A=_.title?.toLowerCase().includes(c.toLowerCase())||_.description?.toLowerCase().includes(c.toLowerCase()),P=x==="all"||_.status===x;return A&&P}),D={all:n.length,pending:n.filter(_=>_.status==="pending").length,todo:n.filter(_=>_.status==="todo").length,in_progress:n.filter(_=>_.status==="in_progress").length,review:n.filter(_=>_.status==="review").length,completed:n.filter(_=>_.status==="completed").length};return h==="detail"&&m?r.jsx(o6,{task:m,onBack:()=>{f("list"),p(null)},onUpdate:N,onNavigate:S}):h==="create"?r.jsx(i6,{villas:e,onBack:()=>f("list"),onCreate:k}):s?r.jsxs("div",{className:"min-h-dvh bg-[#F8F8F8] pb-[calc(84px+2rem+env(safe-area-inset-bottom))]",children:[r.jsx("div",{className:"bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] px-6 sm:px-8 pt-[calc(0.75rem+env(safe-area-inset-top))] pb-2",children:r.jsx("div",{className:"h-[15px] w-16 bg-white/20 rounded animate-pulse"})}),r.jsxs("div",{className:"bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] px-6 sm:px-8 pb-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsxs("div",{className:"flex-1 space-y-1.5",children:[r.jsx("div",{className:"h-[32px] w-32 bg-white/20 rounded-xl animate-pulse"}),r.jsx("div",{className:"h-[16px] w-48 bg-white/10 rounded-xl animate-pulse"})]}),r.jsx("div",{className:"w-12 h-12 bg-white rounded-full animate-pulse"})]}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:[1,2,3].map(_=>r.jsxs("div",{className:"bg-white border border-[#E8E8E8] rounded-2xl p-4 shadow-sm",children:[r.jsx("div",{className:"w-10 h-10 bg-[#E8E8E8] rounded-xl mb-3 animate-pulse"}),r.jsx("div",{className:"h-[28px] w-12 bg-[#E8E8E8] rounded mb-1 animate-pulse"}),r.jsx("div",{className:"h-[14px] w-full bg-[#E8E8E8] rounded animate-pulse"})]},_))})]}),r.jsx("div",{className:"px-6 sm:px-8 py-4",children:r.jsx("div",{className:"h-[48px] w-full bg-white border-2 border-[#E8E8E8] rounded-xl animate-pulse"})}),r.jsx("div",{className:"px-6 sm:px-8 pb-4",children:r.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[1,2,3,4].map(_=>r.jsx("div",{className:"h-11 w-24 bg-white border border-[#E8E8E8] rounded-full animate-pulse"},_))})}),r.jsx("div",{className:"px-6 sm:px-8",children:r.jsx(zu,{count:6,children:r.jsx(m6,{})})}),r.jsx(Xn,{activeTab:"tasks",onTabChange:S})]}):r.jsx("div",{className:"min-h-dvh bg-[#F8F8F8] pb-[calc(84px+2rem+env(safe-area-inset-bottom))]",children:r.jsxs(pg,{onRefresh:async()=>await o(),children:[r.jsx(Hr,{title:"Tasks",action:{icon:r.jsx(bt,{className:"w-6 h-6"}),onClick:()=>f("create"),"aria-label":"Create new task"},stats:[{icon:r.jsx(Ln,{className:"w-5 h-5"}),value:D.all,label:"Total Tasks"},{icon:r.jsx(er,{className:"w-5 h-5"}),value:D.in_progress,label:"In Progress",color:"linear-gradient(to bottom right, #FF9F43, #F58B2B)"},{icon:r.jsx(Ln,{className:"w-5 h-5"}),value:D.completed,label:"Completed",color:"linear-gradient(to bottom right, #28C76F, #20B561)"}]}),r.jsx("div",{className:"px-6 sm:px-8 py-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(ds,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#B9B9C3]"}),r.jsx("input",{type:"text",value:c,onChange:_=>d(_.target.value),placeholder:"Search tasks...",className:"w-full h-[48px] pl-12 pr-4 bg-white border-2 border-[#E8E8E8] rounded-xl text-[15px] placeholder:text-[#B9B9C3] focus:border-[#7B5FEB] focus:outline-none transition-colors"})]})}),r.jsx("div",{className:"px-6 sm:px-8 pb-4",children:r.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[r.jsxs("button",{onClick:()=>b("all"),className:`px-4 min-h-[44px] h-11 rounded-full text-sm font-medium whitespace-nowrap transition-all ${x==="all"?"bg-[#7B5FEB] text-white":"bg-white text-[#6E6B7B] border border-[#E8E8E8]"}`,children:["All (",D.all,")"]}),r.jsxs("button",{onClick:()=>b("pending"),className:`px-4 min-h-[44px] h-11 rounded-full text-sm font-medium whitespace-nowrap transition-all ${x==="pending"?"bg-[#9F7AEA] text-white":"bg-white text-[#6E6B7B] border border-[#E8E8E8]"}`,children:["Pending (",D.pending,")"]}),r.jsxs("button",{onClick:()=>b("todo"),className:`px-4 min-h-[44px] h-11 rounded-full text-sm font-medium whitespace-nowrap transition-all ${x==="todo"?"bg-[#B9B9C3] text-white":"bg-white text-[#6E6B7B] border border-[#E8E8E8]"}`,children:["To Do (",D.todo,")"]}),r.jsxs("button",{onClick:()=>b("in_progress"),className:`px-4 min-h-[44px] h-11 rounded-full text-sm font-medium whitespace-nowrap transition-all ${x==="in_progress"?"bg-[#FF9F43] text-white":"bg-white text-[#6E6B7B] border border-[#E8E8E8]"}`,children:["In Progress (",D.in_progress,")"]}),r.jsxs("button",{onClick:()=>b("completed"),className:`px-4 min-h-[44px] h-11 rounded-full text-sm font-medium whitespace-nowrap transition-all ${x==="completed"?"bg-[#28C76F] text-white":"bg-white text-[#6E6B7B] border border-[#E8E8E8]"}`,children:["Completed (",D.completed,")"]})]})}),r.jsx("div",{className:"px-6 sm:px-8",children:r.jsx(Lu,{data:C,isLoading:!1,error:null,renderItem:_=>r.jsx(pj,{onDelete:()=>E(_.id),deleteLabel:"Delete",children:r.jsx(a6,{task:_,onClick:()=>w(_)})}),keyExtractor:_=>_.id,emptyState:{icon:r.jsx(Ln,{className:"w-12 h-12 text-[#B9B9C3]"}),title:"No tasks found",description:c?"Try adjusting your search or filters":"Create your first task to get started",action:!c&&x==="all"?{label:"Create Task",onClick:()=>f("create")}:void 0}})}),r.jsx(Xn,{activeTab:"tasks",onTabChange:S})]})})}function T6({villas:e,onNavigate:t}){return r.jsx(C6,{villas:e,onNavigate:t})}function D6({staff:e,onClick:t}){const s={active:{color:"bg-[#28C76F]",label:"Active"},inactive:{color:"bg-[#EA5455]",label:"Inactive"},on_leave:{color:"bg-[#FF9F43]",label:"On Leave"},clocked_in:{color:"bg-[#7B5FEB]",label:"Clocked In"},clocked_out:{color:"bg-[#B9B9C3]",label:"Clocked Out"}}[e.status||"active"];return r.jsxs("div",{onClick:t,className:"bg-white rounded-2xl p-4 mb-3 active:scale-[0.98] transition-transform cursor-pointer",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] rounded-full flex items-center justify-center text-white text-[18px] font-semibold",children:e.name.charAt(0).toUpperCase()}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-[#1F1F1F] text-[15px] font-semibold",children:e.name}),r.jsx("p",{className:"text-[#B9B9C3] text-sm capitalize",children:e.role})]}),r.jsx("div",{className:`w-2 h-2 rounded-full ${s.color}`})]}),r.jsxs("div",{className:"flex items-center gap-4 text-[#6E6B7B] text-sm",children:[e.email&&r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(yu,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate",children:e.email})]}),e.phone&&r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(Bm,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:e.phone})]})]})]})}function P6({staff:e,onBack:t,onUpdate:n,onNavigate:s}){const[o,i]=v.useState(!1),c=async()=>{i(!0);try{await de("/staff/clock",{method:"POST",body:JSON.stringify({villaId:e.villaId,action:"in",location:null})}),K.success("Clocked in successfully!"),n()}catch(m){console.error("Error clocking in:",m),K.error("Failed to clock in")}finally{i(!1)}},d=async()=>{i(!0);try{await de("/staff/clock",{method:"POST",body:JSON.stringify({villaId:e.villaId,action:"out",location:null})}),K.success("Clocked out successfully!"),n()}catch(m){console.error("Error clocking out:",m),K.error("Failed to clock out")}finally{i(!1)}},f={active:{color:"bg-[#28C76F]",text:"text-[#28C76F]",label:"Active"},on_leave:{color:"bg-[#FF9F43]",text:"text-[#FF9F43]",label:"On Leave"},clocked_in:{color:"bg-[#7B5FEB]",text:"text-[#7B5FEB]",label:"Clocked In"},clocked_out:{color:"bg-[#B9B9C3]",text:"text-[#B9B9C3]",label:"Clocked Out"}}[e.status||"active"];return r.jsxs("div",{className:"min-h-dvh bg-[#F8F8F8] pb-[calc(env(safe-area-inset-bottom)+2rem)]",children:[r.jsx(Hr,{title:"Staff Details",variant:"white",onBack:t,className:"mb-4"}),r.jsxs("div",{className:"px-6 sm:px-8 pb-24",children:[r.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-3 text-center",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] rounded-full flex items-center justify-center text-white text-[36px] font-semibold mx-auto mb-4",children:e.name.charAt(0).toUpperCase()}),r.jsx("h2",{className:"text-[#1F1F1F] text-[20px] font-semibold mb-1",children:e.name}),r.jsx("p",{className:"text-[#6E6B7B] text-[15px] capitalize mb-3",children:e.role}),r.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full ${f.color}/10 ${f.text} text-sm font-medium`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${f.color}`}),f.label]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-4 mb-3",children:[r.jsx("h3",{className:"text-[#1F1F1F] text-[16px] font-semibold mb-4",children:"Contact Information"}),r.jsxs("div",{className:"space-y-4",children:[e.email&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-[#7B5FEB]/10 rounded-lg flex items-center justify-center",children:r.jsx(yu,{className:"w-5 h-5 text-[#7B5FEB]"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-[#B9B9C3] text-sm",children:"Email"}),r.jsx("div",{className:"text-[#5E5873] text-[15px] truncate",children:e.email})]})]}),e.phone&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-[#28C76F]/10 rounded-lg flex items-center justify-center",children:r.jsx(Bm,{className:"w-5 h-5 text-[#28C76F]"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-[#B9B9C3] text-sm",children:"Phone"}),r.jsx("div",{className:"text-[#5E5873] text-[15px]",children:e.phone})]})]})]})]}),e.status==="clocked_out"&&r.jsxs("button",{onClick:c,disabled:o,className:"w-full h-[56px] bg-gradient-to-r from-[#28C76F] to-[#20B561] text-white rounded-full font-semibold text-[16px] shadow-lg shadow-[#28C76F]/30 active:scale-[0.98] transition-transform flex items-center justify-center gap-2 disabled:opacity-50 px-6",children:[r.jsx(kR,{className:"w-5 h-5"}),"Clock In"]}),e.status==="clocked_in"&&r.jsxs("button",{onClick:d,disabled:o,className:"w-full h-[56px] bg-gradient-to-r from-[#EA5455] to-[#DC4546] text-white rounded-full font-semibold text-[16px] shadow-lg shadow-[#EA5455]/30 active:scale-[0.98] transition-transform flex items-center justify-center gap-2 disabled:opacity-50 px-6",children:[r.jsx(zm,{className:"w-5 h-5"}),"Clock Out"]})]})]})}function R6({villas:e,onNavigate:t,onShowClock:n,onShowLeave:s,villaId:o,onStaffSelect:i}){const{data:c,isInitialLoad:d,refresh:h}=S6(),[f,m]=v.useState(""),[p,x]=v.useState("list"),[b,w]=v.useState(null),[k,N]=v.useState("all"),E=_=>{w(_),x("detail"),i?.(_)},S=_=>{t?.({home:"dashboard",villas:"villas",calendar:"calendar",tasks:"tasks",expenses:"expenses"}[_]||_)},C=c.filter(_=>{const A=_.name?.toLowerCase().includes(f.toLowerCase())||_.role?.toLowerCase().includes(f.toLowerCase()),P=k==="all"||_.status===k;return A&&P}),D={all:c.length,active:c.filter(_=>_.status==="active"||_.status==="clocked_in").length,on_leave:c.filter(_=>_.status==="on_leave").length};return p==="detail"&&b?r.jsx(P6,{staff:b,onBack:()=>{x("list"),w(null)},onUpdate:h,onNavigate:S}):d?r.jsx("div",{className:"min-h-screen bg-[#F8F8F8] flex items-center justify-center",children:r.jsx("div",{className:"text-[#6E6B7B]",children:"Loading staff..."})}):r.jsxs("div",{className:"min-h-screen bg-[#F8F8F8] pb-[100px]",children:[r.jsxs(Hr,{title:"Staff",subtitle:"Manage your team here",className:"relative",children:[r.jsxs("div",{className:"absolute top-[16px] right-6 flex items-center gap-2",children:[r.jsx("button",{onClick:s,className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",title:"Leave Requests","aria-label":"View leave requests",children:r.jsx(tt,{className:"w-6 h-6 text-white"})}),r.jsx("button",{onClick:n,className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",title:"Clock In/Out","aria-label":"Clock in or out",children:r.jsx(er,{className:"w-6 h-6 text-white"})})]}),r.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-lg mt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-[#B9B9C3] text-sm mb-1",children:"Total Staff"}),r.jsx("div",{className:"text-[#1F1F1F] text-[24px] font-semibold",children:D.all})]}),r.jsx("div",{className:"w-px h-12 bg-[#E8E8E8]"}),r.jsxs("div",{className:"flex-1 text-center",children:[r.jsx("div",{className:"text-[#B9B9C3] text-sm mb-1",children:"Active"}),r.jsx("div",{className:"text-[#28C76F] text-[24px] font-semibold",children:D.active})]}),r.jsx("div",{className:"w-px h-12 bg-[#E8E8E8]"}),r.jsxs("div",{className:"flex-1 text-right",children:[r.jsx("div",{className:"text-[#B9B9C3] text-sm mb-1",children:"On Leave"}),r.jsx("div",{className:"text-[#FF9F43] text-[24px] font-semibold",children:D.on_leave})]})]})})]}),r.jsx("div",{className:"px-6 sm:px-8 py-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(ds,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#B9B9C3]"}),r.jsx("input",{type:"text",value:f,onChange:_=>m(_.target.value),placeholder:"Search staff...",className:"w-full h-[48px] pl-12 pr-4 bg-white border-2 border-[#E8E8E8] rounded-xl text-[15px] placeholder:text-[#B9B9C3] focus:border-[#7B5FEB] focus:outline-none transition-colors"})]})}),r.jsx("div",{className:"px-6 sm:px-8 pb-4",children:r.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto scrollbar-hide pb-2",children:[r.jsxs("button",{onClick:()=>N("all"),className:`px-4 h-[32px] rounded-full text-sm font-medium whitespace-nowrap transition-all ${k==="all"?"bg-[#7B5FEB] text-white":"bg-white text-[#6E6B7B] border border-[#E8E8E8]"}`,children:["All (",D.all,")"]}),r.jsxs("button",{onClick:()=>N("active"),className:`px-4 h-[32px] rounded-full text-sm font-medium whitespace-nowrap transition-all ${k==="active"?"bg-[#28C76F] text-white":"bg-white text-[#6E6B7B] border border-[#E8E8E8]"}`,children:["Active (",D.active,")"]}),r.jsxs("button",{onClick:()=>N("on_leave"),className:`px-4 h-[32px] rounded-full text-sm font-medium whitespace-nowrap transition-all ${k==="on_leave"?"bg-[#FF9F43] text-white":"bg-white text-[#6E6B7B] border border-[#E8E8E8]"}`,children:["On Leave (",D.on_leave,")"]})]})}),r.jsx("div",{className:"px-6 sm:px-8",children:r.jsx(Lu,{data:C,isLoading:!1,error:null,renderItem:_=>r.jsx(D6,{staff:_,onClick:()=>E(_)}),keyExtractor:_=>_.id,emptyState:{icon:r.jsx(wn,{className:"w-12 h-12 text-[#B9B9C3]"}),title:"No staff members found",description:f?"Try adjusting your search or filters":"Add your first staff member to get started"}})}),r.jsx(Xn,{activeTab:"more",onTabChange:S})]})}function A6({villaId:e,onBack:t,onClockAction:n}){const[s,o]=v.useState(null),[i,c]=v.useState(!0),[d,h]=v.useState(!1),[f,m]=v.useState(null),[p,x]=v.useState(new Date);v.useEffect(()=>{b();const C=setInterval(()=>{x(new Date)},1e3);return navigator.geolocation&&navigator.geolocation.getCurrentPosition(D=>{m(`${D.coords.latitude}, ${D.coords.longitude}`)},()=>m(null)),()=>clearInterval(C)},[e]);const b=async()=>{try{c(!0);const C=await de(`/staff/clock/status?villaId=${e}`);o(C)}catch(C){console.error("Error loading clock status:",C)}finally{c(!1)}},w=async C=>{try{h(!0),await de("/staff/clock",{method:"POST",body:JSON.stringify({villaId:e,action:C,location:f})});const D=C==="in"?"Clocked In":"Clocked Out";K.success(`${D} successfully!`),await b(),n?.()}catch(D){console.error("Error clocking in/out:",D),K.error(D.message||`Failed to clock ${C}`)}finally{h(!1)}},k=C=>C.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),N=C=>C.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),S=(C=>{const D=Math.floor(C),_=Math.round((C-D)*60);return{hours:D,minutes:_}})(s?.hoursWorked||0);return i?r.jsx("div",{className:"min-h-screen bg-[#F8F8F8] flex items-center justify-center",children:r.jsx(ua,{className:"w-8 h-8 animate-spin text-[#7B5FEB]"})}):r.jsxs("div",{className:"min-h-dvh bg-[#F8F8F8] pb-[calc(env(safe-area-inset-bottom)+2rem)]",children:[r.jsxs("div",{className:"bg-white px-6 sm:px-8 py-4 pt-[calc(1rem+env(safe-area-inset-top))] flex items-center gap-4 border-b border-[#E8E8E8]",children:[t&&r.jsx("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100",children:r.jsx(Jn,{className:"w-6 h-6 text-[#5E5873]"})}),r.jsx("h1",{className:"text-[#1F1F1F] text-[18px] font-semibold flex-1",children:"Time Clock"})]}),r.jsxs("div",{className:"p-6 sm:p-8 pb-24",children:[r.jsxs(on,{padding:"lg",className:"mb-4 text-center",children:[r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-[#B9B9C3] text-sm mb-1",children:N(p)}),r.jsx("p",{className:"text-[#1F1F1F] text-[48px] font-bold tracking-tight",children:k(p)})]}),r.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full ${s?.isClockedIn?"bg-[#28C76F]/10 text-[#28C76F]":"bg-[#B9B9C3]/10 text-[#5E5873]"}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${s?.isClockedIn?"bg-[#28C76F]":"bg-[#B9B9C3]"}`}),r.jsx("span",{className:"font-medium text-[14px]",children:s?.isClockedIn?"Clocked In":"Not Clocked In"})]})]}),r.jsxs(on,{padding:"lg",className:"mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-[#7B5FEB]/10 rounded-xl flex items-center justify-center",children:r.jsx(Ll,{className:"w-6 h-6 text-[#7B5FEB]"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[#B9B9C3] text-sm",children:"Today's Hours"}),r.jsxs("p",{className:"text-[#1F1F1F] text-[20px] font-bold",children:[S.hours,"h ",S.minutes,"m"]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-[#28C76F]/10 rounded-xl flex items-center justify-center",children:r.jsx(tt,{className:"w-6 h-6 text-[#28C76F]"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[#B9B9C3] text-sm",children:"Clock Records"}),r.jsxs("p",{className:"text-[#1F1F1F] text-[20px] font-bold",children:[s?.todayRecords?.length||0," entries"]})]})]})]}),s?.lastRecord&&r.jsxs(on,{padding:"md",className:"mb-4",children:[r.jsx("p",{className:"text-[#B9B9C3] text-sm mb-2",children:"LAST ACTION"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-[#1F1F1F] text-[15px] font-semibold",children:["Clock ",s.lastRecord.action==="in"?"In":"Out"]}),r.jsx("p",{className:"text-[#5E5873] text-sm",children:new Date(s.lastRecord.timestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),s.lastRecord.location&&r.jsxs("div",{className:"flex items-center gap-1 text-[#28C76F] text-sm",children:[r.jsx(qa,{className:"w-3 h-3"}),r.jsx("span",{children:"Tracked"})]})]})]}),s?.todayRecords&&s.todayRecords.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("p",{className:"text-[#5E5873] text-[14px] font-semibold mb-3",children:"Today's Activity"}),r.jsx("div",{className:"space-y-2",children:s.todayRecords.map((C,D)=>r.jsx("div",{className:"bg-white rounded-2xl p-4 border border-[#E8E8E8]",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${C.action==="in"?"bg-[#28C76F]/10 text-[#28C76F]":"bg-[#EA5455]/10 text-[#EA5455]"}`,children:r.jsx(er,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-[#1F1F1F] text-[14px] font-medium",children:["Clock ",C.action==="in"?"In":"Out"]}),r.jsx("p",{className:"text-[#B9B9C3] text-sm",children:new Date(C.timestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),C.location&&r.jsx(qa,{className:"w-4 h-4 text-[#28C76F]"})]})},C.id))})]}),r.jsx("button",{onClick:()=>w(s?.isClockedIn?"out":"in"),disabled:d,className:`w-full h-[56px] rounded-2xl font-semibold text-[18px] text-white shadow-2xl transition-all disabled:opacity-50 disabled:cursor-not-allowed ${s?.isClockedIn?"bg-gradient-to-br from-[#EA5455] to-[#D73A3B] shadow-[#EA5455]/40":"bg-gradient-to-br from-[#28C76F] to-[#1FAD5F] shadow-[#28C76F]/40"}`,children:d?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(ua,{className:"w-6 h-6 animate-spin"}),"Processing..."]}):s?.isClockedIn?"Clock Out Now":"Clock In Now"}),r.jsx("div",{className:"mt-4 text-center",children:r.jsx("p",{className:"text-[#B9B9C3] text-sm",children:f?r.jsxs("span",{className:"flex items-center justify-center gap-1",children:[r.jsx(qa,{className:"w-3 h-3"}),"Location tracking enabled"]}):"Location tracking unavailable"})})]})]})}function I6({villaId:e,onBack:t}){const[n,s]=v.useState("list"),[o,i]=v.useState([]),[c,d]=v.useState(!0),[h,f]=v.useState(!1),[m,p]=v.useState("all"),[x,b]=v.useState({type:"vacation",startDate:"",endDate:"",reason:""});v.useEffect(()=>{w()},[e]);const w=async()=>{try{d(!0);const{leaves:P}=await de(`/staff/leave?villaId=${e}`);i(P||[])}catch(P){console.error("Error loading leaves:",P),K.error("Failed to load leave requests")}finally{d(!1)}},k=async P=>{if(P.preventDefault(),!x.startDate||!x.endDate){K.error("Please select start and end dates");return}if(new Date(x.endDate)<new Date(x.startDate)){K.error("End date must be after start date");return}try{f(!0),await de("/staff/leave",{method:"POST",body:JSON.stringify({villaId:e,...x})}),K.success("Leave request submitted!"),b({type:"vacation",startDate:"",endDate:"",reason:""}),s("list"),w()}catch(F){console.error("Error submitting leave request:",F),K.error(F.message||"Failed to submit request")}finally{f(!1)}},N=async P=>{if(confirm("Cancel this leave request?"))try{await de(`/staff/leave/${P}`,{method:"DELETE"}),K.success("Leave request cancelled"),w()}catch(F){console.error("Error cancelling leave:",F),K.error(F.message||"Failed to cancel request")}},E=()=>{if(!x.startDate||!x.endDate)return 0;const P=new Date(x.startDate),F=new Date(x.endDate);return Math.ceil((F.getTime()-P.getTime())/(1e3*60*60*24))+1},S=P=>new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),C=P=>{switch(P){case"approved":return r.jsx(Ln,{className:"w-5 h-5 text-[#28C76F]"});case"rejected":return r.jsx($d,{className:"w-5 h-5 text-[#EA5455]"});case"cancelled":return r.jsx($d,{className:"w-5 h-5 text-[#B9B9C3]"});default:return r.jsx(er,{className:"w-5 h-5 text-[#FF9F43]"})}},D=P=>{switch(P){case"approved":return"bg-[#28C76F]/10 text-[#28C76F]";case"rejected":return"bg-[#EA5455]/10 text-[#EA5455]";case"cancelled":return"bg-[#B9B9C3]/10 text-[#B9B9C3]";default:return"bg-[#FF9F43]/10 text-[#FF9F43]"}},_=o.filter(P=>m==="all"?!0:P.status===m),A={all:o.length,pending:o.filter(P=>P.status==="pending").length,approved:o.filter(P=>P.status==="approved").length,rejected:o.filter(P=>P.status==="rejected").length};return n==="create"?r.jsxs("div",{className:"min-h-dvh bg-[#F8F8F8] pb-[calc(env(safe-area-inset-bottom)+2rem)]",children:[r.jsxs("div",{className:"bg-white px-6 sm:px-8 py-4 pt-[calc(1rem+env(safe-area-inset-top))] flex items-center gap-4 border-b border-[#E8E8E8]",children:[r.jsx("button",{onClick:()=>s("list"),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100",children:r.jsx(Jn,{className:"w-6 h-6 text-[#5E5873]"})}),r.jsx("h1",{className:"text-[#1F1F1F] text-[18px] font-semibold",children:"New Leave Request"})]}),r.jsxs("form",{onSubmit:k,className:"p-6 sm:p-8 pb-24 space-y-4",children:[r.jsx(on,{padding:"lg",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-2",children:"Leave Type"}),r.jsxs(Nt,{value:x.type,onValueChange:P=>b({...x,type:P}),children:[r.jsx(Et,{className:"mobile-input",children:r.jsx(St,{})}),r.jsxs(_t,{children:[r.jsx(xe,{value:"vacation",children:"Vacation"}),r.jsx(xe,{value:"sick",children:"Sick Leave"}),r.jsx(xe,{value:"personal",children:"Personal"}),r.jsx(xe,{value:"emergency",children:"Emergency"}),r.jsx(xe,{value:"other",children:"Other"})]})]})]}),r.jsx(ur,{label:"Start Date",type:"date",value:x.startDate,onChange:P=>b({...x,startDate:P.target.value}),required:!0}),r.jsx(ur,{label:"End Date",type:"date",value:x.endDate,onChange:P=>b({...x,endDate:P.target.value}),required:!0}),x.startDate&&x.endDate&&r.jsx("div",{className:"p-3 bg-[#7B5FEB]/10 rounded-xl",children:r.jsxs("p",{className:"text-[#7B5FEB] text-[14px] font-medium",children:["Total: ",E()," ",E()===1?"day":"days"]})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-2",children:"Reason"}),r.jsx("textarea",{value:x.reason,onChange:P=>b({...x,reason:P.target.value}),placeholder:"Provide a reason for your leave request...",className:"mobile-input min-h-[100px] resize-none",required:!0})]})]})}),r.jsx(yi,{type:"submit",variant:"primary",disabled:h,children:h?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(ua,{className:"w-5 h-5 animate-spin"}),"Submitting..."]}):"Submit Request"})]})]}):r.jsxs("div",{className:"min-h-dvh bg-[#F8F8F8] pb-[calc(env(safe-area-inset-bottom)+2rem)]",children:[r.jsxs("div",{className:"bg-white px-6 sm:px-8 py-4 pt-[calc(1rem+env(safe-area-inset-top))] flex items-center gap-4 border-b border-[#E8E8E8]",children:[t&&r.jsx("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100",children:r.jsx(Jn,{className:"w-6 h-6 text-[#5E5873]"})}),r.jsx("h1",{className:"text-[#1F1F1F] text-[18px] font-semibold flex-1",children:"Leave Requests"}),r.jsx("button",{onClick:()=>s("create"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-gradient-primary text-white",children:r.jsx(tt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6 sm:p-8 pb-24",children:[r.jsx(on,{padding:"md",className:"mb-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 text-center",children:[r.jsx("p",{className:"text-[#B9B9C3] text-sm mb-1",children:"Total"}),r.jsx("p",{className:"text-[#1F1F1F] text-[20px] font-bold",children:A.all})]}),r.jsx("div",{className:"w-px h-12 bg-[#E8E8E8]"}),r.jsxs("div",{className:"flex-1 text-center",children:[r.jsx("p",{className:"text-[#B9B9C3] text-sm mb-1",children:"Pending"}),r.jsx("p",{className:"text-[#FF9F43] text-[20px] font-bold",children:A.pending})]}),r.jsx("div",{className:"w-px h-12 bg-[#E8E8E8]"}),r.jsxs("div",{className:"flex-1 text-center",children:[r.jsx("p",{className:"text-[#B9B9C3] text-sm mb-1",children:"Approved"}),r.jsx("p",{className:"text-[#28C76F] text-[20px] font-bold",children:A.approved})]})]})}),r.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-4 mb-4",children:["all","pending","approved","rejected"].map(P=>r.jsxs("button",{onClick:()=>p(P),className:`px-4 h-[32px] rounded-full text-sm font-medium whitespace-nowrap transition-all ${m===P?"bg-[#7B5FEB] text-white":"bg-white text-[#6E6B7B] border border-[#E8E8E8]"}`,children:[P.charAt(0).toUpperCase()+P.slice(1)," (",A[P],")"]},P))}),c?r.jsx("div",{className:"text-center py-12",children:r.jsx(ua,{className:"w-8 h-8 animate-spin text-[#7B5FEB] mx-auto"})}):_.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-[#F3F2F7] rounded-3xl flex items-center justify-center mx-auto mb-4",children:r.jsx(fr,{className:"w-8 h-8 text-[#7B5FEB]"})}),r.jsx("h3",{className:"text-[#1F1F1F] text-[18px] font-semibold mb-2",children:"No Leave Requests"}),r.jsx("p",{className:"text-[#B9B9C3] text-[14px] mb-6",children:m==="all"?"You haven't submitted any leave requests yet":`No ${m} requests`}),r.jsxs("button",{onClick:()=>s("create"),className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-primary text-white rounded-full font-medium",children:[r.jsx(tt,{className:"w-5 h-5"}),"Request Leave"]})]}):r.jsx("div",{className:"space-y-3",children:_.map(P=>r.jsxs(on,{padding:"md",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 bg-[#F3F2F7] rounded-xl flex items-center justify-center flex-shrink-0",children:C(P.status)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsxs("h4",{className:"text-[#1F1F1F] text-[16px] font-semibold capitalize",children:[P.type," Leave"]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${D(P.status)}`,children:P.status})]}),r.jsxs("p",{className:"text-[#5E5873] text-sm",children:[S(P.startDate)," - ",S(P.endDate)]}),r.jsxs("p",{className:"text-[#B9B9C3] text-sm mt-1",children:[P.days," ",P.days===1?"day":"days"]})]})]}),P.reason&&r.jsx("p",{className:"text-[#5E5873] text-sm mb-3 bg-[#F8F8F8] p-3 rounded-lg",children:P.reason}),P.status==="rejected"&&P.rejectionReason&&r.jsxs("div",{className:"p-3 bg-[#EA5455]/10 rounded-lg mb-3",children:[r.jsx("p",{className:"text-[#EA5455] text-sm font-medium mb-1",children:"Rejection Reason:"}),r.jsx("p",{className:"text-[#EA5455] text-sm",children:P.rejectionReason})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-[#B9B9C3]",children:[r.jsxs("span",{children:["Submitted ",S(P.createdAt)]}),P.status==="pending"&&r.jsx("button",{onClick:()=>N(P.id),className:"text-[#EA5455] font-medium hover:underline",children:"Cancel"})]})]},P.id))})]})]})}function O6({villas:e,onNavigate:t}){const[n,s]=v.useState("list"),[o]=v.useState(e[0]?.id||null);return n==="clock"&&o?r.jsx(A6,{villaId:o,onBack:()=>s("list")}):n==="leave"&&o?r.jsx(I6,{villaId:o,onBack:()=>s("list")}):r.jsx(R6,{villas:e,onNavigate:t,onShowClock:()=>s("clock"),onShowLeave:()=>s("leave"),villaId:o})}function F6({villas:e,onNavigate:t}){const[n,s]=v.useState(e),[o,i]=v.useState(null),[c,d]=v.useState(!1),[h,f]=v.useState(!1),[m,p]=v.useState(!1),[x,b]=v.useState(!1),[w,k]=v.useState(""),[N,E]=v.useState(""),[S,C]=v.useState("tenant"),[D,_]=v.useState({name:"",address:"",leaseStartDate:"",leaseDuration:"",rent:""}),A=sessionStorage.getItem("user_id");v.useEffect(()=>{P()},[]);const P=async()=>{try{b(!0);const{villas:V}=await de("/villas");s(V||[])}catch(V){console.error("Error loading villas:",V),K.error("Failed to load villas")}finally{b(!1)}},F=async V=>{if(V.preventDefault(),!D.name||!D.address){K.error("Please fill in villa name and address");return}try{b(!0);const re={startDate:D.leaseStartDate,duration:D.leaseDuration,rent:D.rent},pe=await de("/villas",{method:"POST",body:JSON.stringify({name:D.name,address:D.address,leaseDetails:re})});console.log("Villa created successfully:",pe),K.success("Villa created successfully!"),d(!1),_({name:"",address:"",leaseStartDate:"",leaseDuration:"",rent:""}),await P()}catch(re){console.error("Error creating villa:",re),console.error("Error details:",{message:re?.message,stack:re?.stack,name:re?.name}),K.error(re?.message||"Failed to create villa. Please try again.")}finally{b(!1)}},W=async V=>{V.preventDefault();try{await de("/villas/join",{method:"POST",body:JSON.stringify({inviteCode:w})}),K.success("Joined villa successfully!"),f(!1),k(""),P()}catch(re){console.error("Error joining villa:",re),K.error(re.message||"Failed to join villa")}},U=async()=>{if(o)try{const{inviteCode:V}=await de(`/villas/${o.id}/invite`,{method:"POST",body:JSON.stringify({role:S})});E(V),K.success("Invite code generated!")}catch(V){console.error("Error generating invite:",V),K.error(V.message||"Failed to generate invite code")}},G=()=>{navigator.clipboard.writeText(N),K.success("Copied to clipboard!")},ne=V=>V.users?.find(re=>re.userId===A)?.role==="admin";return c?r.jsxs("div",{className:"flex flex-col min-h-screen bg-card dark:bg-gray-900",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("button",{onClick:()=>d(!1),className:"p-2",children:r.jsx(_d,{className:"w-5 h-5"})}),r.jsx("h2",{className:"text-lg font-semibold",children:"Create New Villa"}),r.jsx("div",{className:"w-9"})]}),r.jsxs("form",{onSubmit:F,className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Villa Name"}),r.jsx("input",{type:"text",value:D.name,onChange:V=>_({...D,name:V.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Address"}),r.jsx("textarea",{value:D.address,onChange:V=>_({...D,address:V.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:3,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Lease Start Date"}),r.jsx("input",{type:"date",value:D.leaseStartDate,onChange:V=>_({...D,leaseStartDate:V.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Lease Duration (months)"}),r.jsx("input",{type:"number",value:D.leaseDuration,onChange:V=>_({...D,leaseDuration:V.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Monthly Rent ($)"}),r.jsx("input",{type:"number",value:D.rent,onChange:V=>_({...D,rent:V.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),r.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-medium hover:bg-indigo-700",children:"Create Villa"})]})]}):h?r.jsxs("div",{className:"flex flex-col min-h-screen bg-card dark:bg-gray-900",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("button",{onClick:()=>f(!1),className:"p-2",children:r.jsx(_d,{className:"w-5 h-5"})}),r.jsx("h2",{className:"text-lg font-semibold",children:"Join Villa"}),r.jsx("div",{className:"w-9"})]}),r.jsxs("form",{onSubmit:W,className:"p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Invite Code"}),r.jsx("input",{type:"text",value:w,onChange:V=>k(V.target.value),placeholder:"Enter invite code",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),r.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-medium hover:bg-indigo-700",children:"Join Villa"})]})]}):o?r.jsxs("div",{className:"flex flex-col min-h-screen bg-card dark:bg-gray-900",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("button",{onClick:()=>i(null),className:"p-2",children:r.jsx(_d,{className:"w-5 h-5"})}),r.jsx("h2",{className:"text-lg font-semibold",children:o.name}),ne(o)&&r.jsx("button",{onClick:()=>p(!0),className:"p-2 text-indigo-600",children:r.jsx(wn,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx(qa,{className:"w-5 h-5 text-muted-foreground mr-3 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:"Address"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:o.address})]})]}),o.leaseDetails&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx(tt,{className:"w-5 h-5 text-muted-foreground mr-3 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:"Lease Period"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(o.leaseDetails.startDate).toLocaleDateString()," -",o.leaseDetails.duration," months"]})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx(Or,{className:"w-5 h-5 text-muted-foreground mr-3 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:"Monthly Rent"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",o.leaseDetails.rent]})]})]})]})]}),r.jsxs("div",{className:"pt-4 border-t",children:[r.jsx("h3",{className:"text-sm font-medium text-foreground mb-3",children:"Members"}),r.jsx("div",{className:"space-y-2",children:o.users?.map(V=>r.jsx("div",{className:"flex items-center justify-between p-2 bg-muted dark:bg-gray-800 rounded-lg",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:V.email}),r.jsx("p",{className:"text-sm text-muted-foreground",children:V.role})]})},V.userId))})]})]}),m&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-4 w-full",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Generate Invite Code"}),N?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Share this code:"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:N,readOnly:!0,className:"flex-1 px-3 py-2 border rounded-lg bg-muted dark:bg-gray-800"}),r.jsx("button",{onClick:G,className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg",children:r.jsx(Mm,{className:"w-5 h-5"})})]})]}),r.jsx("button",{onClick:()=>{p(!1),E("")},className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-lg",children:"Done"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Role for Invited User"}),r.jsxs("select",{value:S,onChange:V=>C(V.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"landlord",children:"Landlord"}),r.jsx("option",{value:"property_agent",children:"Property Agent"}),r.jsx("option",{value:"tenant",children:"Tenant"}),r.jsx("option",{value:"staff",children:"Staff"})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg",children:"Cancel"}),r.jsx("button",{onClick:U,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg",children:"Generate"})]})]})]})})]}):r.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[r.jsxs("div",{className:"bg-card dark:bg-gray-900 p-4 border-b border-border",children:[r.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Villa Management"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your villas and properties"})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:x?r.jsx("div",{className:"flex items-center justify-center h-32",children:r.jsx("p",{className:"text-muted-foreground",children:"Loading villas..."})}):n.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(bn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),r.jsx("p",{className:"text-foreground",children:"No villas yet"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Create or join a villa to get started"})]}):r.jsx("div",{className:"space-y-3",children:n.map(V=>r.jsx("button",{onClick:()=>i(V),className:"w-full bg-card dark:bg-gray-800 p-4 rounded-lg border border-border text-left hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(bn,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400 mr-2"}),r.jsx("h3",{className:"font-semibold text-foreground",children:V.name})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:V.address}),r.jsxs("div",{className:"flex items-center mt-2 text-sm text-muted-foreground",children:[r.jsx(wn,{className:"w-3 h-3 mr-1"}),r.jsxs("span",{children:[V.users?.length||0," members"]})]})]}),r.jsx("span",{className:"text-muted-foreground",children:""})]})},V.id))})}),r.jsxs("div",{className:"bg-card dark:bg-gray-900 border-t border-border p-4 space-y-2",children:[r.jsxs("button",{onClick:()=>d(!0),className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-medium flex items-center justify-center hover:bg-indigo-700",children:[r.jsx(bt,{className:"w-5 h-5 mr-2"}),"Create New Villa"]}),r.jsx("button",{onClick:()=>f(!0),className:"w-full bg-white text-indigo-600 py-3 rounded-lg font-medium border border-indigo-600 hover:bg-indigo-50",children:"Join Villa with Code"})]})]})}function M6({src:e,alt:t,placeholder:n='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 300"%3E%3Crect fill="%23E8E8E8" width="400" height="300"/%3E%3C/svg%3E',threshold:s=.1,className:o="",...i}){const[c,d]=v.useState(n),[h,f]=v.useState(!1),[m,p]=v.useState(!1),x=v.useRef(null);return v.useEffect(()=>{if(!x.current)return;const b=new IntersectionObserver(w=>{w.forEach(k=>{k.isIntersecting&&(p(!0),b.disconnect())})},{threshold:s,rootMargin:"50px"});return b.observe(x.current),()=>{b.disconnect()}},[s]),v.useEffect(()=>{if(!m)return;const b=new Image;b.src=e,b.onload=()=>{d(e),f(!0)},b.onerror=()=>{console.error(`Failed to load image: ${e}`),f(!0)}},[e,m]),r.jsx("img",{ref:x,src:c,alt:t,className:`transition-opacity duration-300 ${h?"opacity-100":"opacity-70"} ${o}`,loading:"lazy",...i})}function ub({villas:e,onNavigate:t}){const[n,s]=v.useState({tasks:{total:0,pending:0,completed:0},expenses:{total:0,pending:0,approved:0},staff:{total:0,active:0}}),[o,i]=v.useState([]),[c,d]=v.useState([]),[h,f]=v.useState(!0),m=xk();v.useEffect(()=>{p()},[]);const p=async()=>{try{const[w,k,N,E]=await Promise.all([de("/tasks"),de("/expenses"),de("/staff"),de("/notifications")]),S=w.tasks||[],C=k.expenses||[],D=N.staff||[],_=E.notifications||[];s({tasks:{total:S.length,pending:S.filter(P=>P.status!=="done").length,completed:S.filter(P=>P.status==="done").length},expenses:{total:C.reduce((P,F)=>P+F.amount,0),pending:C.filter(P=>P.status==="pending").length,approved:C.filter(P=>P.status==="approved").length},staff:{total:D.length,active:D.filter(P=>P.status==="active"||P.status==="clocked_in").length}}),d(_);const A=[...S.slice(0,3).map(P=>({...P,type:"task"})),...C.slice(0,3).map(P=>({...P,type:"expense"}))].sort((P,F)=>new Date(F.created_at).getTime()-new Date(P.created_at).getTime()).slice(0,5);i(A)}catch{K.error("Unable to refresh dashboard. Check your connection and try again.")}finally{f(!1)}},x=w=>{t?.({home:"dashboard",villas:"villas",calendar:"calendar",tasks:"tasks",expenses:"expenses"}[w]||w)},b=()=>{const w=new Date().getHours();return w<12?"Good Morning":w<18?"Good Afternoon":"Good Evening"};return h?r.jsxs("div",{className:`min-h-dvh bg-[#F8F8F8] pb-[calc(84px+2rem+env(safe-area-inset-bottom))] ${m?"pl-[calc(80px+env(safe-area-inset-left))]":""}`,children:[r.jsx("div",{className:"bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] px-6 sm:px-8 pt-[calc(0.75rem+env(safe-area-inset-top))] pb-2",children:r.jsx("div",{className:"h-[15px] w-16 bg-white/20 rounded animate-pulse"})}),r.jsxs("div",{className:"bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] px-6 sm:px-8 py-[32px] relative overflow-hidden",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6 relative z-10",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("div",{className:"h-8 w-48 bg-white/20 rounded-xl animate-pulse"}),r.jsx("div",{className:"h-4 w-32 bg-white/10 rounded-xl animate-pulse"})]}),r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full animate-pulse"})]}),r.jsx("div",{className:"grid grid-cols-3 gap-3 relative z-10 mt-[30px] mr-[0px] mb-[0px] ml-[0px]",children:[1,2,3].map(w=>r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mb-2 animate-pulse"}),r.jsx("div",{className:"h-[24px] w-full bg-white/20 rounded animate-pulse mb-0.5"}),r.jsx("div",{className:"h-[16px] w-full bg-white/10 rounded animate-pulse"})]},w))})]}),r.jsxs("div",{className:"px-6 sm:px-8 mt-6",children:[r.jsx("div",{className:"h-6 w-32 bg-[#E8E8E8] rounded-xl animate-pulse mb-4"}),r.jsx(zu,{count:5,children:r.jsx(vj,{})})]}),r.jsx(Xn,{activeTab:"home",onTabChange:x})]}):r.jsx("div",{className:`min-h-dvh bg-[#F8F8F8] ${m?"pb-8":"pb-[calc(84px+2rem+env(safe-area-inset-bottom))]"} ${m?"pl-[calc(80px+env(safe-area-inset-left))]":""}`,children:r.jsx("div",{className:"mx-auto max-w-[1200px]",children:r.jsxs(pg,{onRefresh:async()=>await p(),children:[r.jsxs(Hr,{title:`${b()}! `,action:{icon:r.jsx(oo,{className:"w-6 h-6"}),onClick:()=>t?.("notifications"),"aria-label":"View notifications",badge:c.length},className:"py-[32px] relative overflow-hidden",children:[r.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-3 gap-3 md:gap-4 relative z-10 mt-[30px]",children:[r.jsxs("button",{onClick:()=>t?.("tasks"),className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 md:p-4 active:scale-95 transition-transform hover:bg-white/20 cursor-pointer",children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mb-2",children:r.jsx(Ln,{className:"w-5 h-5 text-white"})}),r.jsx("div",{className:"text-white text-[20px] font-semibold",children:n.tasks.pending}),r.jsx("div",{className:"text-white/70 text-sm",children:"Active Tasks"})]}),r.jsxs("button",{onClick:()=>t?.("expenses"),className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 md:p-4 active:scale-95 transition-transform hover:bg-white/20 cursor-pointer",children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mb-2",children:r.jsx(si,{className:"w-5 h-5 text-white"})}),r.jsx("div",{className:"text-white text-[20px] font-semibold",children:n.expenses.pending}),r.jsx("div",{className:"text-white/70 text-sm",children:"Pending"})]}),r.jsxs("button",{onClick:()=>t?.("staff"),className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 md:p-4 active:scale-95 transition-transform hover:bg-white/20 cursor-pointer",children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mb-2",children:r.jsx(wn,{className:"w-5 h-5 text-white"})}),r.jsx("div",{className:"text-white text-[20px] font-semibold",children:n.staff.active}),r.jsx("div",{className:"text-white/70 text-sm",children:"Staff Active"})]})]}),r.jsx("div",{className:"absolute top-8 right-12 text-white/10 text-[80px] pointer-events-none",children:""}),r.jsx("div",{className:"absolute bottom-12 right-8 text-white/10 text-[60px] pointer-events-none",children:""})]}),r.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-6 md:px-6 lg:px-8",children:[e.length>0&&r.jsx("div",{className:"px-6 sm:px-8 md:px-0 -mt-4 mb-6",children:r.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-5 shadow-lg",children:[r.jsx("h3",{className:"text-[#1F1F1F] text-[16px] font-semibold mb-3",children:"My Villas"}),r.jsx("div",{className:"space-y-2",children:e.slice(0,3).map(w=>r.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-[#F8F8F8] transition-colors cursor-pointer group",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#7B5FEB]/20 to-[#6B4FDB]/20 rounded-lg overflow-hidden",children:r.jsx(M6,{src:"https://images.unsplash.com/photo-1602002418816-5c0aeef426aa?w=200",alt:w.name,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-[#1F1F1F] text-[14px] font-medium group-hover:text-[#6B4FDB] transition-colors",children:w.name}),r.jsx("div",{className:"text-[#B9B9C3] text-sm",children:w.location||"Bali, Indonesia"})]}),r.jsx("div",{className:"hidden md:block opacity-0 group-hover:opacity-100 transition-opacity text-[#6B4FDB]",children:""})]},w.id))})]})}),r.jsxs("div",{className:"px-6 sm:px-8 my-[24px] my-[20px] mx-[0px]",children:[r.jsx("h3",{className:"text-[#1F1F1F] text-[16px] font-semibold mb-3",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-5 gap-4",children:[r.jsxs("button",{onClick:()=>t?.("tasks"),className:"group bg-white border border-[#E8E8E8] rounded-2xl p-5 hover:border-[#7B5FEB] hover:shadow-md transition-all duration-200 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] rounded-xl flex items-center justify-center mb-4 mx-auto group-hover:scale-110 transition-transform duration-200",children:r.jsx(Ln,{className:"w-6 h-6 text-white"})}),r.jsx("div",{className:"text-[#2E3152] text-sm font-medium",children:"New Task"})]}),r.jsxs("button",{onClick:()=>t?.("expenses"),className:"group bg-white border border-[#E8E8E8] rounded-2xl p-5 hover:border-[#FF9F43] hover:shadow-md transition-all duration-200 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#FF9F43] to-[#F58B2B] rounded-xl flex items-center justify-center mb-4 mx-auto group-hover:scale-110 transition-transform duration-200",children:r.jsx(si,{className:"w-6 h-6 text-white"})}),r.jsx("div",{className:"text-[#2E3152] text-sm font-medium",children:"Submit Expense"})]}),r.jsxs("button",{onClick:()=>t?.("calendar"),className:"group bg-white border border-[#E8E8E8] rounded-2xl p-5 hover:border-[#28C76F] hover:shadow-md transition-all duration-200 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#28C76F] to-[#20B561] rounded-xl flex items-center justify-center mb-4 mx-auto group-hover:scale-110 transition-transform duration-200",children:r.jsx(tt,{className:"w-6 h-6 text-white"})}),r.jsx("div",{className:"text-[#2E3152] text-sm font-medium",children:"View Calendar"})]}),r.jsxs("button",{onClick:()=>t?.("staff"),className:"group bg-white border border-[#E8E8E8] rounded-2xl p-5 hover:border-[#EA5455] hover:shadow-md transition-all duration-200 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#EA5455] to-[#DC4546] rounded-xl flex items-center justify-center mb-4 mx-auto group-hover:scale-110 transition-transform duration-200",children:r.jsx(er,{className:"w-6 h-6 text-white"})}),r.jsx("div",{className:"text-[#2E3152] text-sm font-medium",children:"Staff Clock"})]}),r.jsxs("button",{onClick:()=>t?.("messages"),className:"group bg-white border border-[#E8E8E8] rounded-2xl p-5 hover:border-[#00CFE8] hover:shadow-md transition-all duration-200 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#00CFE8] to-[#00B8D4] rounded-xl flex items-center justify-center mb-4 mx-auto group-hover:scale-110 transition-transform duration-200",children:r.jsx(Wp,{className:"w-6 h-6 text-white"})}),r.jsx("div",{className:"text-[#2E3152] text-sm font-medium",children:"Messages"})]})]})]}),o.length>0&&r.jsx("div",{className:"px-6 sm:px-8 md:px-0 -mt-4 mb-6",children:r.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-5 shadow-lg",children:[r.jsx("h3",{className:"text-[#1F1F1F] text-[16px] font-semibold mb-3",children:"Recent Activity"}),r.jsx("div",{className:"space-y-3",children:o.map((w,k)=>r.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-[#E8E8E8] last:border-0 last:pb-0 group hover:bg-[#F8F8F8] -mx-2 px-2 rounded-lg transition-colors cursor-pointer",children:[r.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${w.type==="task"?"bg-[#7B5FEB]/10":"bg-[#FF9F43]/10"}`,children:w.type==="task"?r.jsx(Ln,{className:"w-5 h-5 text-[#7B5FEB]"}):r.jsx(si,{className:"w-5 h-5 text-[#FF9F43]"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-[#1F1F1F] text-[14px] font-medium truncate",children:w.title||w.description}),r.jsx("div",{className:"text-[#B9B9C3] text-sm",children:new Date(w.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),r.jsx("div",{className:"hidden md:block opacity-0 group-hover:opacity-100 transition-opacity text-[#6B4FDB]",children:""})]},k))})]})})]}),r.jsx(Xn,{activeTab:"home",onTabChange:x})]})})})}var Bu="Dialog",[xj]=vr(Bu),[L6,qr]=xj(Bu),yj=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:o,onOpenChange:i,modal:c=!0}=e,d=v.useRef(null),h=v.useRef(null),[f,m]=ma({prop:s,defaultProp:o??!1,onChange:i,caller:Bu});return r.jsx(L6,{scope:t,triggerRef:d,contentRef:h,contentId:os(),titleId:os(),descriptionId:os(),open:f,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(p=>!p),[m]),modal:c,children:n})};yj.displayName=Bu;var bj="DialogTrigger",wj=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=qr(bj,n),i=Ue(t,o.triggerRef);return r.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":vg(o.open),...s,ref:i,onClick:ye(e.onClick,o.onOpenToggle)})});wj.displayName=bj;var mg="DialogPortal",[z6,kj]=xj(mg,{forceMount:void 0}),jj=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:o}=e,i=qr(mg,t);return r.jsx(z6,{scope:t,forceMount:n,children:v.Children.map(s,c=>r.jsx(Bn,{present:n||i.open,children:r.jsx(Cu,{asChild:!0,container:o,children:c})}))})};jj.displayName=mg;var Qd="DialogOverlay",Nj=v.forwardRef((e,t)=>{const n=kj(Qd,e.__scopeDialog),{forceMount:s=n.forceMount,...o}=e,i=qr(Qd,e.__scopeDialog);return i.modal?r.jsx(Bn,{present:s||i.open,children:r.jsx(B6,{...o,ref:t})}):null});Nj.displayName=Qd;var $6=Za("DialogOverlay.RemoveScroll"),B6=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=qr(Qd,n);return r.jsx(Du,{as:$6,allowPinchZoom:!0,shards:[o.contentRef],children:r.jsx(Re.div,{"data-state":vg(o.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),eo="DialogContent",Sj=v.forwardRef((e,t)=>{const n=kj(eo,e.__scopeDialog),{forceMount:s=n.forceMount,...o}=e,i=qr(eo,e.__scopeDialog);return r.jsx(Bn,{present:s||i.open,children:i.modal?r.jsx(U6,{...o,ref:t}):r.jsx(V6,{...o,ref:t})})});Sj.displayName=eo;var U6=v.forwardRef((e,t)=>{const n=qr(eo,e.__scopeDialog),s=v.useRef(null),o=Ue(t,n.contentRef,s);return v.useEffect(()=>{const i=s.current;if(i)return ag(i)},[]),r.jsx(Ej,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,i=>{const c=i.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&i.preventDefault()}),onFocusOutside:ye(e.onFocusOutside,i=>i.preventDefault())})}),V6=v.forwardRef((e,t)=>{const n=qr(eo,e.__scopeDialog),s=v.useRef(!1),o=v.useRef(!1);return r.jsx(Ej,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(s.current||n.triggerRef.current?.focus(),i.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=i.target;n.triggerRef.current?.contains(c)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),Ej=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,...c}=e,d=qr(eo,n),h=v.useRef(null),f=Ue(t,h);return Km(),r.jsxs(r.Fragment,{children:[r.jsx(ku,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:i,children:r.jsx(wu,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":vg(d.open),...c,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(W6,{titleId:d.titleId}),r.jsx(q6,{contentRef:h,descriptionId:d.descriptionId})]})]})}),gg="DialogTitle",_j=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=qr(gg,n);return r.jsx(Re.h2,{id:o.titleId,...s,ref:t})});_j.displayName=gg;var Cj="DialogDescription",Tj=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=qr(Cj,n);return r.jsx(Re.p,{id:o.descriptionId,...s,ref:t})});Tj.displayName=Cj;var Dj="DialogClose",Pj=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=qr(Dj,n);return r.jsx(Re.button,{type:"button",...s,ref:t,onClick:ye(e.onClick,()=>o.onOpenChange(!1))})});Pj.displayName=Dj;function vg(e){return e?"open":"closed"}var Rj="DialogTitleWarning",[WU,Aj]=eO(Rj,{contentName:eo,titleName:gg,docsSlug:"dialog"}),W6=({titleId:e})=>{const t=Aj(Rj),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},H6="DialogDescriptionWarning",q6=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Aj(H6).contentName}}.`;return v.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},Y6=yj,K6=wj,G6=jj,Z6=Nj,J6=Sj,X6=_j,Q6=Tj,eL=Pj;function Lr({...e}){return r.jsx(Y6,{"data-slot":"dialog",...e})}function Ps({...e}){return r.jsx(K6,{"data-slot":"dialog-trigger",...e})}function tL({...e}){return r.jsx(G6,{"data-slot":"dialog-portal",...e})}const Ij=v.forwardRef(({className:e,...t},n)=>r.jsx(Z6,{ref:n,"data-slot":"dialog-overlay",className:Ie("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));Ij.displayName="DialogOverlay";function zr({className:e,children:t,...n}){return r.jsxs(tL,{"data-slot":"dialog-portal",children:[r.jsx(Ij,{}),r.jsxs(J6,{"data-slot":"dialog-content",className:Ie("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,r.jsxs(eL,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none min-w-[44px] min-h-[44px] flex items-center justify-center [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[r.jsx(fa,{}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Rs({className:e,...t}){return r.jsx("div",{"data-slot":"dialog-header",className:Ie("flex flex-col gap-2 text-center sm:text-left",e),...t})}function to({className:e,...t}){return r.jsx("div",{"data-slot":"dialog-footer",className:Ie("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function $r({className:e,...t}){return r.jsx(X6,{"data-slot":"dialog-title",className:Ie("text-lg leading-none font-semibold",e),...t})}function fb({className:e,...t}){return r.jsx(Q6,{"data-slot":"dialog-description",className:Ie("text-muted-foreground text-sm",e),...t})}function nL({villa:e,onClose:t}){const[n,s]=v.useState("staff"),[o,i]=v.useState(""),[c,d]=v.useState(!1),[h,f]=v.useState(!1),m=async()=>{try{d(!0);const{inviteCode:b}=await de(`/villas/${e.id}/invite`,{method:"POST",body:JSON.stringify({role:n})});i(b),K.success("Invite code generated!")}catch(b){console.error("Error generating invite code:",b),K.error(b.message||"Failed to generate invite code")}finally{d(!1)}},p=async()=>{try{await navigator.clipboard.writeText(o),f(!0),K.success("Code copied to clipboard!"),setTimeout(()=>f(!1),2e3)}catch{K.error("Failed to copy code")}},x=async()=>{const b=`Join ${e.name} on VillaSaya!

Invite Code: ${o}

This code expires in 7 days.`;if(navigator.share)try{await navigator.share({title:`Invite to ${e.name}`,text:b})}catch{}else await p()};return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-[24px] font-semibold text-vs-text-primary mb-2",children:["Invite to ",e.name]}),r.jsx("p",{className:"text-vs-text-secondary text-[14px]",children:"Generate an invite code to add team members to this villa"})]}),r.jsxs(on,{padding:"lg",className:"mb-4",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"text-vs-text-secondary text-[14px] font-medium block mb-2",children:"Role"}),r.jsxs("select",{value:n,onChange:b=>s(b.target.value),className:"mobile-input",disabled:!!o,children:[r.jsx("option",{value:"staff",children:"Staff"}),r.jsx("option",{value:"tenant",children:"Tenant"}),r.jsx("option",{value:"agent",children:"Property Agent"}),r.jsx("option",{value:"landlord",children:"Landlord"})]})]}),o?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-vs-primary/5 border-2 border-vs-primary/20 rounded-2xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ln,{className:"w-5 h-5 text-vs-primary"}),r.jsx("span",{className:"text-vs-text-secondary text-sm font-medium",children:"Invite Code Generated"})]}),r.jsx("div",{className:"font-mono text-[20px] font-bold text-vs-primary break-all",children:o}),r.jsxs("div",{className:"flex items-center gap-2 mt-2 text-vs-text-muted text-sm",children:[r.jsx(er,{className:"w-4 h-4"}),"Expires in 7 days"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx("button",{onClick:p,className:"flex items-center justify-center gap-2 px-4 py-3 bg-white border-2 border-vs-primary text-vs-primary rounded-2xl font-medium transition-colors hover:bg-vs-primary/5",children:h?r.jsxs(r.Fragment,{children:[r.jsx(Ln,{className:"w-5 h-5"}),"Copied!"]}):r.jsxs(r.Fragment,{children:[r.jsx(Mm,{className:"w-5 h-5"}),"Copy"]})}),r.jsxs("button",{onClick:x,className:"flex items-center justify-center gap-2 px-4 py-3 bg-gradient-primary text-white rounded-2xl font-medium shadow-lg shadow-vs-primary/30",children:[r.jsx(eA,{className:"w-5 h-5"}),"Share"]})]}),r.jsx("button",{onClick:()=>{i(""),f(!1)},className:"w-full py-3 text-vs-text-secondary text-[14px] font-medium hover:text-vs-text-primary transition-colors",children:"Generate Another Code"})]}):r.jsx(yi,{onClick:m,loading:c,icon:r.jsx(Hm,{className:"w-5 h-5"}),variant:"primary",children:"Generate Invite Code"})]}),t&&r.jsx("button",{onClick:t,className:"w-full py-3 text-vs-text-secondary text-[14px] font-medium hover:text-vs-text-primary transition-colors",children:"Close"})]})}function rL({onSuccess:e,onCancel:t}){const[n,s]=v.useState(""),[o,i]=v.useState(!1),[c,d]=v.useState(""),h=m=>{const p=Ar(m.trim(),{required:"Please enter an invite code",minLength:{value:6,message:"Invite code must be at least 6 characters"},pattern:{value:/^[A-Za-z0-9]+$/,message:"Invite code can only contain letters and numbers"}});return p.isValid?(d(""),!0):(d(p.error||"Invalid invite code"),!1)},f=async m=>{if(m.preventDefault(),!!h(n))try{i(!0);const{villa:p}=await de("/villas/join",{method:"POST",body:JSON.stringify({inviteCode:n.trim()})});K.success(`Successfully joined ${p.name}!`),e?.(p)}catch(p){console.error("Error joining villa:",p),K.error(p.message||"Failed to join villa")}finally{i(!1)}};return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-primary rounded-3xl flex items-center justify-center mx-auto mb-4",children:r.jsx(xu,{className:"w-8 h-8 text-white"})}),r.jsx("h2",{className:"text-[24px] font-semibold text-vs-text-primary mb-2",children:"Join a Villa"}),r.jsx("p",{className:"text-vs-text-secondary text-[14px]",children:"Enter the invite code shared with you to join a villa"})]}),r.jsx("form",{onSubmit:f,children:r.jsxs(on,{padding:"lg",className:"mb-4",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx(ur,{label:"Invite Code",value:n,onChange:m=>{s(m.target.value),c&&d("")},onBlur:()=>h(n),placeholder:"Enter invite code",disabled:o,className:c?"border-red-500":""}),c&&r.jsx("p",{className:"mt-2 text-red-600 text-sm",children:c})]}),r.jsx("div",{className:"bg-vs-primary/5 border-2 border-vs-primary/20 rounded-2xl p-4 mb-6",children:r.jsxs("p",{className:"text-vs-text-secondary text-sm",children:[" ",r.jsx("strong",{children:"Tip:"})," Invite codes are case-sensitive and expire after 7 days. Make sure to enter the code exactly as shared."]})}),r.jsx(yi,{type:"submit",loading:o,icon:!o&&r.jsx(kP,{className:"w-5 h-5"}),variant:"primary",children:"Join Villa"})]})}),t&&r.jsx("button",{onClick:t,disabled:o,className:"w-full py-3 text-vs-text-secondary text-[14px] font-medium hover:text-vs-text-primary transition-colors disabled:opacity-50",children:"Cancel"})]})}function sL({villas:e,onVillaUpdate:t}){const[n,s]=v.useState(!1),[o,i]=v.useState(!1),[c,d]=v.useState(!1),[h,f]=v.useState(null),m=()=>{e.length!==0&&(f(e[0]),s(!1),i(!0))},p=()=>{s(!1),d(!0)},x=()=>{d(!1),t?.()};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"fixed bottom-[104px] right-6 z-50",children:[r.jsx("button",{onClick:()=>s(!n),className:`w-14 h-14 rounded-full bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] text-white shadow-2xl shadow-[#7B5FEB]/40 flex items-center justify-center transition-transform ${n?"rotate-45":""}`,children:r.jsx(bt,{className:"w-7 h-7"})}),n&&r.jsxs("div",{className:"absolute bottom-16 right-0 bg-white rounded-2xl shadow-2xl p-2 min-w-[200px] animate-in slide-in-from-bottom-2",children:[r.jsxs("button",{onClick:p,className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-[#F8F8F8] rounded-xl transition-colors text-left",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-[#7B5FEB]/10 flex items-center justify-center",children:r.jsx(xu,{className:"w-5 h-5 text-[#7B5FEB]"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-[14px] text-[#1F1F1F]",children:"Join Villa"}),r.jsx("div",{className:"text-sm text-[#6E6B7B]",children:"Use invite code"})]})]}),e.length>0&&r.jsxs("button",{onClick:m,className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-[#F8F8F8] rounded-xl transition-colors text-left",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-[#28C76F]/10 flex items-center justify-center",children:r.jsx(Hm,{className:"w-5 h-5 text-[#28C76F]"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-[14px] text-[#1F1F1F]",children:"Invite Users"}),r.jsx("div",{className:"text-sm text-[#6E6B7B]",children:"Generate code"})]})]})]})]}),r.jsx(Lr,{open:o,onOpenChange:i,children:r.jsxs(zr,{className:"p-0 max-w-lg border-0",children:[r.jsx($r,{className:"sr-only",children:"Invite Code Manager"}),r.jsx(fb,{className:"sr-only",children:"Generate and manage invite codes for your villa"}),h&&r.jsx(nL,{villa:h,onClose:()=>i(!1)})]})}),r.jsx(Lr,{open:c,onOpenChange:d,children:r.jsxs(zr,{className:"p-0 max-w-lg border-0",children:[r.jsx($r,{className:"sr-only",children:"Join Villa"}),r.jsx(fb,{className:"sr-only",children:"Enter an invite code to join a villa"}),r.jsx(rL,{onSuccess:x,onCancel:()=>d(!1)})]})}),n&&r.jsx("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:()=>s(!1)})]})}function aL({villas:e,onBack:t,onSuccess:n,initialDate:s}){const[o,i]=v.useState(!1),[c,d]=v.useState({title:"",description:"",startDate:s?s.toISOString().split("T")[0]:new Date().toISOString().split("T")[0],startTime:"09:00",endDate:s?s.toISOString().split("T")[0]:new Date().toISOString().split("T")[0],endTime:"10:00",villaId:"",type:"event",location:""}),h=async f=>{if(f.preventDefault(),!c.title){K.error("Please enter an event title");return}try{i(!0);const m=`${c.startDate}T${c.startTime}:00`,p=`${c.endDate}T${c.endTime}:00`;await de("/events",{method:"POST",body:JSON.stringify({title:c.title,description:c.description,startDate:m,endDate:p,villaId:c.villaId||null,type:c.type,location:c.location||void 0})}),K.success("Event created successfully!"),n?.(),t()}catch(m){console.error("Error creating event:",m),K.error(m.message||"Failed to create event")}finally{i(!1)}};return r.jsxs("div",{className:"min-h-dvh bg-[#F8F8F8] pb-[calc(env(safe-area-inset-bottom)+2rem)]",children:[r.jsx(Hr,{title:"New Event",variant:"white",onBack:t}),r.jsxs("form",{onSubmit:h,className:"p-6 sm:p-8 pb-24 space-y-4",children:[r.jsx(on,{padding:"lg",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx(ur,{label:"Event Title",type:"text",value:c.title,onChange:f=>d({...c,title:f.target.value}),placeholder:"Enter event title",required:!0}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-2",children:"Description"}),r.jsx("textarea",{value:c.description,onChange:f=>d({...c,description:f.target.value}),placeholder:"Add event description (optional)",className:"mobile-input min-h-[100px] resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-2",children:"Event Type"}),r.jsxs(Nt,{value:c.type,onValueChange:f=>d({...c,type:f}),children:[r.jsx(Et,{className:"mobile-input",children:r.jsx(St,{})}),r.jsxs(_t,{children:[r.jsx(xe,{value:"event",children:"General Event"}),r.jsx(xe,{value:"meeting",children:"Meeting"}),r.jsx(xe,{value:"maintenance",children:"Maintenance"}),r.jsx(xe,{value:"inspection",children:"Inspection"}),r.jsx(xe,{value:"booking",children:"Booking"}),r.jsx(xe,{value:"reminder",children:"Reminder"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-2",children:"Villa (Optional)"}),r.jsxs(Nt,{value:c.villaId,onValueChange:f=>d({...c,villaId:f}),children:[r.jsx(Et,{className:"mobile-input",children:r.jsx(St,{placeholder:"Personal Event"})}),r.jsxs(_t,{children:[r.jsx(xe,{value:"",children:"Personal Event"}),e.map(f=>r.jsx(xe,{value:f.id,children:f.name},f.id))]})]}),r.jsx("p",{className:"text-[#B9B9C3] text-sm mt-1",children:c.villaId?"Shared with all villa members":"Only visible to you"})]})]})}),r.jsxs(on,{padding:"lg",children:[r.jsx("h3",{className:"text-[#1F1F1F] text-[16px] font-semibold mb-4",children:"Date & Time"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(ur,{label:"Start Date",type:"date",value:c.startDate,onChange:f=>d({...c,startDate:f.target.value}),required:!0}),r.jsx(ur,{label:"Start Time",type:"time",value:c.startTime,onChange:f=>d({...c,startTime:f.target.value}),required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(ur,{label:"End Date",type:"date",value:c.endDate,onChange:f=>d({...c,endDate:f.target.value}),required:!0}),r.jsx(ur,{label:"End Time",type:"time",value:c.endTime,onChange:f=>d({...c,endTime:f.target.value}),required:!0})]})]})]}),r.jsx(on,{padding:"lg",children:r.jsx("div",{className:"space-y-4",children:r.jsx(ur,{label:"Location (Optional)",type:"text",value:c.location,onChange:f=>d({...c,location:f.target.value}),placeholder:"Add event location"})})}),r.jsx(yi,{type:"submit",variant:"primary",disabled:o,children:o?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(ua,{className:"w-5 h-5 animate-spin"}),"Creating Event..."]}):r.jsxs(r.Fragment,{children:[r.jsx(tt,{className:"w-5 h-5 mr-2"}),"Create Event"]})})]})]})}function oL({villas:e,onNavigate:t}){const[n,s]=v.useState(new Date),[o,i]=v.useState(null),[c,d]=v.useState("calendar"),[h,f]=v.useState(null),[m,p]=v.useState("all"),x=v.useMemo(()=>{const U=new Date(n.getFullYear(),n.getMonth(),1),G=new Date(n.getFullYear(),n.getMonth()+1,0);return{startDate:U.toISOString().split("T")[0],endDate:G.toISOString().split("T")[0]}},[n]),{data:b,refresh:w}=E6({startDate:x.startDate,endDate:x.endDate,includeAll:!0}),k=()=>{const U=n.getFullYear(),G=n.getMonth(),ne=new Date(U,G,1),re=new Date(U,G+1,0).getDate(),pe=ne.getDay(),se=[];for(let q=0;q<pe;q++)se.push(null);for(let q=1;q<=re;q++)se.push(q);return se},N=U=>{const G=new Date(n.getFullYear(),n.getMonth(),U).toISOString().split("T")[0];return b.filter(ne=>{const V=ne.startDate.split("T")[0],re=ne.endDate.split("T")[0];return G>=V&&G<=re})},E=()=>{s(new Date(n.getFullYear(),n.getMonth()-1))},S=()=>{s(new Date(n.getFullYear(),n.getMonth()+1))},C=U=>{const G=new Date(n.getFullYear(),n.getMonth(),U);i(G)},D=U=>{t?.({home:"dashboard",villas:"villas",calendar:"calendar",tasks:"tasks",expenses:"expenses"}[U]||U)},_=b.filter(U=>m==="all"?!0:m==="personal"?!U.villaId:m==="villa"?!!U.villaId:U.type===m),A=o?_.filter(U=>{const G=o.toISOString().split("T")[0],ne=U.startDate.split("T")[0],V=U.endDate.split("T")[0];return G>=ne&&G<=V}):[],P=n.toLocaleDateString("en-US",{month:"long",year:"numeric"}),F=k(),W=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return c==="create"?r.jsx(aL,{villas:e,onBack:()=>d("calendar"),onSuccess:w,initialDate:o||n}):r.jsxs("div",{className:"min-h-screen bg-[#F8F8F8]",children:[r.jsx(Hr,{title:"Calendar",action:{icon:r.jsx(bt,{className:"w-6 h-6"}),onClick:()=>d("create"),"aria-label":"Create new event"},children:r.jsxs("div",{className:"bg-white rounded-2xl p-2 shadow-lg mt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2 px-2 pt-2",children:[r.jsx("button",{onClick:E,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100",children:r.jsx(Jn,{className:"w-5 h-5 text-[#5E5873]"})}),r.jsx("h2",{className:"text-[#1F1F1F] text-[18px] font-semibold",children:P}),r.jsx("button",{onClick:S,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100",children:r.jsx(hi,{className:"w-5 h-5 text-[#5E5873]"})})]}),r.jsx("div",{className:"grid grid-cols-7 gap-0.5 mb-1 px-1",children:W.map(U=>r.jsx("div",{className:"text-center text-[#B9B9C3] text-sm font-medium py-1",children:U},U))}),r.jsx("div",{className:"grid grid-cols-7 gap-0.5 px-1 pb-2",children:F.map((U,G)=>{if(U===null)return r.jsx("div",{className:"aspect-square"},`empty-${G}`);const ne=N(U),V=U===new Date().getDate()&&n.getMonth()===new Date().getMonth()&&n.getFullYear()===new Date().getFullYear(),re=o&&U===o.getDate()&&n.getMonth()===o.getMonth();return r.jsxs("button",{onClick:()=>C(U),className:`aspect-square rounded-lg flex flex-col items-center justify-center relative ${V?"bg-[#7B5FEB] text-white":re?"bg-[#7B5FEB]/20 text-[#7B5FEB]":"hover:bg-gray-100"}`,children:[r.jsx("span",{className:"text-[14px] font-medium",children:U}),ne.length>0&&r.jsx("div",{className:"flex gap-0.5 mt-1",children:ne.slice(0,3).map((pe,se)=>r.jsx("div",{className:`w-1 h-1 rounded-full ${V?"bg-white":"bg-[#7B5FEB]"}`},se))})]},U)})})]})}),r.jsx("div",{className:"px-6 py-4",children:r.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:["all","personal","villa","leave","task"].map(U=>r.jsx("button",{onClick:()=>p(U),className:`px-4 min-h-[44px] h-11 rounded-full text-sm font-medium whitespace-nowrap transition-all ${m===U?"bg-[#7B5FEB] text-white":"bg-white text-[#6E6B7B] border border-[#E8E8E8]"}`,children:U.charAt(0).toUpperCase()+U.slice(1)},U))})}),r.jsxs("div",{className:"px-6 pb-24",children:[o&&r.jsx("h3",{className:"text-[#1F1F1F] text-[16px] font-semibold mb-3",children:"Today's Events"}),A.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(tt,{className:"w-12 h-12 text-[#B9B9C3] mx-auto mb-3"}),r.jsx("p",{className:"text-[#B9B9C3] text-[14px]",children:o?"No events for this day":"Select a date to view events"})]}):r.jsx("div",{className:"space-y-3",children:A.map(U=>r.jsx("div",{children:r.jsx(on,{padding:"md",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 ${U.villaId?"bg-[#7B5FEB]/10 text-[#7B5FEB]":"bg-[#28C76F]/10 text-[#28C76F]"}`,children:r.jsx(tt,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-[#1F1F1F] text-[16px] font-semibold mb-1",children:U.title}),U.description&&r.jsx("p",{className:"text-[#5E5873] text-sm mb-2",children:U.description}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:`px-2 py-1 rounded-full ${U.villaId?"bg-[#7B5FEB]/10 text-[#7B5FEB]":"bg-[#28C76F]/10 text-[#28C76F]"}`,children:U.villaId?"Villa":"Personal"}),U.type&&U.type!=="personal"&&U.type!=="villa"&&r.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-gray-600 capitalize",children:U.type})]})]})]})})},U.id))})]}),r.jsx(Xn,{activeTab:"calendar",onTabChange:D})]})}function hb(e){return{id:e.id,chatId:e.chat_id||e.chatId||"",senderId:e.sender_id||e.senderId||"",content:e.content,attachments:e.attachments,createdAt:e.created_at||e.createdAt||new Date().toISOString(),editedAt:e.edited_at||e.editedAt,readBy:e.read_by||e.readBy||[]}}function iL(e){const{chatId:t,users:n,autoScroll:s=!0}=e,[o,i]=v.useState([]),[c,d]=v.useState(!1),[h,f]=v.useState(!1),[m,p]=v.useState(""),[x,b]=v.useState([]),w=v.useRef(null),k=v.useRef(null),N=v.useRef(null),E=v.useCallback(async()=>{try{const{user:G}=await de("/users/me");p(G?.id||"")}catch{}},[]),S=v.useCallback(async()=>{try{d(!0);const{messages:G}=await de(`/chats/${t}/messages`),ne=(G||[]).map(hb);i(ne)}catch(G){G instanceof Error&&K.error("Failed to load messages")}finally{d(!1)}},[t]),C=v.useCallback(async G=>{if(G.trim())try{f(!0);const ne=await de(`/chats/${t}/messages`,{method:"POST",body:JSON.stringify({content:G.trim()})});await new Promise(V=>setTimeout(V,500)),i(V=>{const re=String(ne?.message?.id);return!V.some(se=>String(se.id)===re)&&re&&(console.log("Realtime event missed, reloading messages for reconciliation"),S()),V})}catch(ne){throw console.error("Error sending message:",ne),K.error(ne.message||"Failed to send message"),ne}finally{f(!1)}},[t,S]),D=v.useCallback(()=>{s&&w.current?.scrollIntoView({behavior:"smooth"})},[s]),_=v.useCallback(G=>{const ne=n[G];return ne?.name||ne?.email||"Unknown User"},[n]),A=v.useCallback(G=>_(G).split(" ").map(V=>V[0]).join("").toUpperCase().slice(0,2),[_]),P=v.useCallback(G=>new Date(G).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),[]),F=v.useCallback(G=>{const ne=new Date(G),V=new Date,re=new Date(V);return re.setDate(re.getDate()-1),ne.toDateString()===V.toDateString()?"Today":ne.toDateString()===re.toDateString()?"Yesterday":ne.toLocaleDateString("en-US",{month:"short",day:"numeric",year:ne.getFullYear()!==V.getFullYear()?"numeric":void 0})},[]),W=v.useCallback(G=>{!k.current||!m||(G?(k.current.track({user_id:m,typing:!0,timestamp:new Date().toISOString()}),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{k.current&&k.current.track({user_id:m,typing:!1})},3e3)):(k.current.track({user_id:m,typing:!1}),N.current&&(clearTimeout(N.current),N.current=null)))},[m]),U=v.useMemo(()=>o.reduce((G,ne)=>{const V=F(ne.createdAt),re=G.find(pe=>pe.date===V);return re?re.messages.push(ne):G.push({date:V,messages:[ne]}),G},[]),[o,F]);return v.useEffect(()=>{S(),E()},[S,E]),v.useEffect(()=>{if(!m)return;k.current&&Rr.removeChannel(k.current);const G=Rr.channel(`chat:${t}`,{config:{presence:{key:m}}}).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`chat_id=eq.${t}`},ne=>{const V=hb(ne.new);i(re=>{const pe=String(V.id);return re.some(q=>String(q.id)===pe)?(console.log("Message already exists, skipping duplicate"),re):[...re,V]})}).on("presence",{event:"sync"},()=>{const ne=G.presenceState(),V=[];Object.keys(ne).forEach(re=>{const pe=ne[re];pe&&pe.length>0&&pe.forEach(se=>{const q=String(se.user_id||re);q!==m&&se.typing&&(V.includes(q)||V.push(q))})}),b(V)}).subscribe(ne=>{console.log("Realtime subscription status:",ne),ne==="SUBSCRIBED"?console.log(`Successfully subscribed to chat:${t}`):ne==="CHANNEL_ERROR"&&(console.error("Error subscribing to chat channel"),K.error("Connection error. Messages may not update in real-time."))});return k.current=G,()=>{k.current&&(Rr.removeChannel(k.current),k.current=null),b([]),N.current&&(clearTimeout(N.current),N.current=null)}},[t,m]),v.useEffect(()=>{D()},[o,D]),{messages:o,groupedMessages:U,loading:c,sending:h,currentUserId:m,typingUsers:x,sendMessage:C,setTyping:W,messagesEndRef:w,getUserName:_,getUserInitials:A,formatMessageTime:P}}function lL({chat:e,villa:t,users:n,onBack:s}){const[o,i]=v.useState(""),c=v.useRef(null),{groupedMessages:d,loading:h,sending:f,currentUserId:m,typingUsers:p,sendMessage:x,setTyping:b,messagesEndRef:w,getUserName:k,getUserInitials:N,formatMessageTime:E}=iL({chatId:e.id,users:n}),S=async D=>{if(D.preventDefault(),!!o.trim())try{await x(o),i(""),b(!1),c.current&&(c.current.style.height="auto")}catch{}},C=D=>{i(D.target.value),D.target.style.height="auto",D.target.style.height=Math.min(D.target.scrollHeight,120)+"px",D.target.value.length>0?b(!0):b(!1)};return r.jsxs("div",{className:"min-h-screen bg-[#F8F8F8] flex flex-col",children:[r.jsx(Hr,{title:e.subject,subtitle:t?.name||"Villa",variant:"white",onBack:s,showStatusBar:!1,action:{icon:r.jsx(wn,{className:"w-5 h-5 text-[#5E5873]"}),onClick:()=>{},"aria-label":"View participants"}}),r.jsx("div",{className:"flex-1 overflow-y-auto px-6 sm:px-8 py-4",children:h&&d.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("div",{className:"w-8 h-8 border-4 border-[#7B5FEB]/20 border-t-[#7B5FEB] rounded-full animate-spin mx-auto"})}):d.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-[#B9B9C3] text-[14px]",children:"No messages yet. Start the conversation!"})}):r.jsxs("div",{className:"space-y-4",children:[d.map((D,_)=>r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center justify-center my-6",children:r.jsx("div",{className:"px-4 py-1 bg-[#E8E8E8] rounded-full",children:r.jsx("span",{className:"text-[#5E5873] text-sm font-medium",children:D.date})})}),r.jsx("div",{className:"space-y-4",children:D.messages.map(A=>{const P=A.senderId===m;return r.jsxs("div",{className:`flex items-end gap-2 ${P?"flex-row-reverse":"flex-row"}`,children:[!P&&r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white text-sm font-semibold",children:N(A.senderId)})}),r.jsxs("div",{className:`max-w-[75%] ${P?"items-end":"items-start"}`,children:[!P&&r.jsx("p",{className:"text-[#5E5873] text-sm mb-1 px-3",children:k(A.senderId)}),r.jsx("div",{className:`px-4 py-3 rounded-2xl ${P?"bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] text-white rounded-br-md":"bg-white text-[#1F1F1F] rounded-bl-md"}`,children:r.jsx("p",{className:"text-[14px] leading-relaxed break-words",children:A.content})}),r.jsx("p",{className:`text-sm text-[#B9B9C3] mt-1 px-3 ${P?"text-right":"text-left"}`,children:E(A.createdAt)})]})]},A.id)})})]},_)),p.length>0&&r.jsxs("div",{className:"flex items-center gap-2 px-3 py-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white text-sm font-semibold",children:N(p[0])})}),r.jsx("div",{className:"bg-white rounded-2xl rounded-bl-md px-4 py-3 flex items-center gap-1",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-[#B9B9C3] rounded-full animate-bounce",style:{animationDelay:"0ms"}}),r.jsx("span",{className:"w-2 h-2 bg-[#B9B9C3] rounded-full animate-bounce",style:{animationDelay:"150ms"}}),r.jsx("span",{className:"w-2 h-2 bg-[#B9B9C3] rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}),r.jsx("p",{className:"text-sm text-[#B9B9C3]",children:p.length===1?`${k(p[0])} is typing...`:`${p.length} people are typing...`})]}),r.jsx("div",{ref:w})]})}),r.jsx("div",{className:"bg-white border-t border-[#E8E8E8] p-4",children:r.jsxs("form",{onSubmit:S,className:"flex items-end gap-3",children:[r.jsx("textarea",{ref:c,value:o,onChange:C,placeholder:"Type a message...",className:"flex-1 min-h-[44px] max-h-[120px] px-4 py-3 bg-[#F8F8F8] rounded-2xl resize-none focus:outline-none focus:ring-2 focus:ring-[#7B5FEB]/20 text-[15px]",rows:1,onKeyDown:D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),S(D))}}),r.jsx("button",{type:"submit",disabled:!o.trim()||f,className:"w-11 h-11 bg-gradient-primary rounded-full flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",children:r.jsx(Vm,{className:"w-5 h-5 text-white"})})]})})]})}var Uu="Checkbox",[cL]=vr(Uu),[dL,xg]=cL(Uu);function uL(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:o,disabled:i,form:c,name:d,onCheckedChange:h,required:f,value:m="on",internal_do_not_use_render:p}=e,[x,b]=ma({prop:n,defaultProp:o??!1,onChange:h,caller:Uu}),[w,k]=v.useState(null),[N,E]=v.useState(null),S=v.useRef(!1),C=w?!!c||!!w.closest("form"):!0,D={checked:x,disabled:i,setChecked:b,control:w,setControl:k,name:d,form:c,value:m,hasConsumerStoppedPropagationRef:S,required:f,defaultChecked:la(o)?!1:o,isFormControl:C,bubbleInput:N,setBubbleInput:E};return r.jsx(dL,{scope:t,...D,children:fL(p)?p(D):s})}var Oj="CheckboxTrigger",Fj=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},o)=>{const{control:i,value:c,disabled:d,checked:h,required:f,setControl:m,setChecked:p,hasConsumerStoppedPropagationRef:x,isFormControl:b,bubbleInput:w}=xg(Oj,e),k=Ue(o,m),N=v.useRef(h);return v.useEffect(()=>{const E=i?.form;if(E){const S=()=>p(N.current);return E.addEventListener("reset",S),()=>E.removeEventListener("reset",S)}},[i,p]),r.jsx(Re.button,{type:"button",role:"checkbox","aria-checked":la(h)?"mixed":h,"aria-required":f,"data-state":Uj(h),"data-disabled":d?"":void 0,disabled:d,value:c,...s,ref:k,onKeyDown:ye(t,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:ye(n,E=>{p(S=>la(S)?!0:!S),w&&b&&(x.current=E.isPropagationStopped(),x.current||E.stopPropagation())})})});Fj.displayName=Oj;var Mj=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:o,defaultChecked:i,required:c,disabled:d,value:h,onCheckedChange:f,form:m,...p}=e;return r.jsx(uL,{__scopeCheckbox:n,checked:o,defaultChecked:i,disabled:d,required:c,onCheckedChange:f,name:s,form:m,value:h,internal_do_not_use_render:({isFormControl:x})=>r.jsxs(r.Fragment,{children:[r.jsx(Fj,{...p,ref:t,__scopeCheckbox:n}),x&&r.jsx(Bj,{__scopeCheckbox:n})]})})});Mj.displayName=Uu;var Lj="CheckboxIndicator",zj=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...o}=e,i=xg(Lj,n);return r.jsx(Bn,{present:s||la(i.checked)||i.checked===!0,children:r.jsx(Re.span,{"data-state":Uj(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});zj.displayName=Lj;var $j="CheckboxBubbleInput",Bj=v.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:o,checked:i,defaultChecked:c,required:d,disabled:h,name:f,value:m,form:p,bubbleInput:x,setBubbleInput:b}=xg($j,e),w=Ue(n,b),k=sg(i),N=tg(s);v.useEffect(()=>{const S=x;if(!S)return;const C=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(C,"checked").set,A=!o.current;if(k!==i&&_){const P=new Event("click",{bubbles:A});S.indeterminate=la(i),_.call(S,la(i)?!1:i),S.dispatchEvent(P)}},[x,k,i,o]);const E=v.useRef(la(i)?!1:i);return r.jsx(Re.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??E.current,required:d,disabled:h,name:f,value:m,form:p,...t,tabIndex:-1,ref:w,style:{...t.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Bj.displayName=$j;function fL(e){return typeof e=="function"}function la(e){return e==="indeterminate"}function Uj(e){return la(e)?"indeterminate":e?"checked":"unchecked"}function hL({className:e,...t}){return r.jsx(Mj,{"data-slot":"checkbox",className:Ie("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(zj,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:r.jsx(jl,{className:"size-3.5"})})})}function pL({villas:e,users:t,onBack:n,onSuccess:s}){const[o,i]=v.useState(!1),[c,d]=v.useState({villaId:"",subject:"",participants:[]}),h=async w=>{if(w.preventDefault(),!c.villaId){K.error("Please select a villa");return}if(!c.subject.trim()){K.error("Please enter a subject");return}if(c.participants.length===0){K.error("Please select at least one participant");return}try{i(!0);const{chat:k}=await de("/chats",{method:"POST",body:JSON.stringify({villaId:c.villaId,subject:c.subject.trim(),participants:c.participants})});K.success("Conversation created!"),s(k)}catch(k){console.error("Error creating chat:",k),K.error(k.message||"Failed to create conversation")}finally{i(!1)}},f=w=>{d(k=>({...k,participants:k.participants.includes(w)?k.participants.filter(N=>N!==w):[...k.participants,w]}))},m=e.find(w=>w.id===c.villaId),p=m?m.users.map(w=>({id:w.userId,...t[w.userId],role:w.role})).filter(w=>w.id):[],x=w=>w?.name||w?.email||"Unknown User",b=w=>{const k={Landlord:"bg-[#7B5FEB]/10 text-[#7B5FEB]","Property Agent":"bg-[#28C76F]/10 text-[#28C76F]",Tenant:"bg-[#FF9F43]/10 text-[#FF9F43]",Staff:"bg-[#00CFE8]/10 text-[#00CFE8]"};return r.jsx("span",{className:`px-2 py-0.5 rounded-full text-sm font-medium ${k[w]||"bg-gray-100 text-gray-600"}`,children:w})};return r.jsxs("div",{className:"min-h-screen bg-[#F8F8F8]",children:[r.jsxs("div",{className:"bg-white px-6 py-4 flex items-center gap-4 border-b border-[#E8E8E8]",children:[r.jsx("button",{onClick:n,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100",children:r.jsx(Jn,{className:"w-6 h-6 text-[#5E5873]"})}),r.jsx("h1",{className:"text-[#1F1F1F] text-[18px] font-semibold",children:"New Conversation"})]}),r.jsxs("form",{onSubmit:h,className:"p-6 pb-24 space-y-4",children:[r.jsx(on,{padding:"lg",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[#5E5873] text-[14px] font-medium block mb-2",children:"Villa"}),r.jsxs(Nt,{value:c.villaId,onValueChange:w=>d({...c,villaId:w,participants:[]}),children:[r.jsx(Et,{className:"mobile-input",children:r.jsx(St,{placeholder:"Select a villa"})}),r.jsx(_t,{children:e.map(w=>r.jsx(xe,{value:w.id,children:w.name},w.id))})]}),r.jsx("p",{className:"text-[#B9B9C3] text-sm mt-1",children:"Only members of this villa can participate"})]}),r.jsx(ur,{label:"Subject",type:"text",value:c.subject,onChange:w=>d({...c,subject:w.target.value}),placeholder:"What's this conversation about?",required:!0})]})}),m&&r.jsxs(on,{padding:"lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(wn,{className:"w-5 h-5 text-[#7B5FEB]"}),r.jsx("h3",{className:"text-[#1F1F1F] text-[16px] font-semibold",children:"Participants"}),r.jsxs("span",{className:"text-[#B9B9C3] text-sm",children:["(",c.participants.length," selected)"]})]}),p.length===0?r.jsx("p",{className:"text-[#B9B9C3] text-sm text-center py-4",children:"No users available in this villa"}):r.jsx("div",{className:"space-y-3",children:p.map(w=>r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-[#F8F8F8] transition-colors cursor-pointer",onClick:()=>f(w.id),children:[r.jsx(hL,{checked:c.participants.includes(w.id),onCheckedChange:()=>f(w.id),onClick:k=>k.stopPropagation()}),r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white text-sm font-semibold",children:x(w).split(" ").map(k=>k[0]).join("").toUpperCase().slice(0,2)})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-[#1F1F1F] text-[15px] font-medium truncate",children:x(w)}),w.role&&r.jsx("div",{className:"mt-1",children:b(w.role)})]})]},w.id))})]}),c.villaId&&r.jsx("div",{className:"p-4 bg-[#7B5FEB]/10 rounded-xl",children:r.jsx("p",{className:"text-[#7B5FEB] text-sm",children:" All selected participants will be able to see and reply to messages in this conversation."})}),r.jsx(yi,{type:"submit",variant:"primary",disabled:o||!c.villaId,children:o?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(ua,{className:"w-5 h-5 animate-spin"}),"Creating..."]}):"Create Conversation"})]})]})}function mL({villas:e,onNavigate:t}){const[n,s]=v.useState("list"),[o,i]=v.useState(""),[c,d]=v.useState(null),[h,f]=v.useState({}),{data:m,isLoading:p,refresh:x}=_6();v.useEffect(()=>{b()},[]);const b=async()=>{try{const _={};for(const A of e)for(const P of A.users||[])if(!_[P.userId])try{const F=await de(`/users/${P.userId}`);F&&(_[P.userId]=F)}catch{}f(_)}catch(_){console.error("Error loading users:",_)}},w=_=>{t?.({home:"dashboard",villas:"villas",calendar:"calendar",tasks:"tasks",expenses:"expenses"}[_]||_)},k=_=>{d(_),s("thread")},N=()=>{s("list"),d(null),x()},E=_=>e.find(P=>P.id===_)?.name||"Unknown Villa",S=_=>{const A=h[_];return A?.name||A?.email||"Unknown User"},C=_=>{const A=new Date(_),W=(new Date().getTime()-A.getTime())/(1e3*60*60);return W<24?A.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):W<168?A.toLocaleDateString("en-US",{weekday:"short"}):A.toLocaleDateString("en-US",{month:"short",day:"numeric"})},D=m.filter(_=>_.subject.toLowerCase().includes(o.toLowerCase())||E(_.villaId).toLowerCase().includes(o.toLowerCase()));return n==="thread"&&c?r.jsx(lL,{chat:c,villa:e.find(_=>_.id===c.villaId),users:h,onBack:N}):n==="create"?r.jsx(pL,{villas:e,users:h,onBack:()=>s("list"),onSuccess:_=>{d(_),s("thread")}}):r.jsxs("div",{className:"min-h-screen bg-[#F8F8F8]",children:[r.jsx(Hr,{title:"Messages",action:{icon:r.jsx(bt,{className:"w-6 h-6"}),onClick:()=>s("create"),"aria-label":"Create new conversation"},children:r.jsxs("div",{className:"relative mt-6",children:[r.jsx(ds,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#B9B9C3]"}),r.jsx("input",{type:"text",placeholder:"Search conversations...",value:o,onChange:_=>i(_.target.value),className:"w-full h-[48px] pl-12 pr-4 bg-white/20 backdrop-blur-sm border-2 border-white/30 rounded-xl text-white placeholder-white/60 focus:outline-none focus:border-white/50 transition-colors"})]})}),r.jsx("div",{className:"px-6 pb-24",children:r.jsx(Lu,{data:D,isLoading:p,error:null,renderItem:_=>r.jsx(on,{padding:"md",onClick:()=>k(_),className:"cursor-pointer active:scale-98 transition-transform mb-2",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-primary rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(Wp,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-1",children:[r.jsx("h4",{className:"text-[#1F1F1F] text-[16px] font-semibold truncate pr-2",children:_.subject}),r.jsx("span",{className:"text-[#B9B9C3] text-sm whitespace-nowrap",children:C(_.lastMessageAt||_.createdAt)})]}),r.jsx("p",{className:"text-[#5E5873] text-sm mb-1",children:E(_.villaId)}),_.lastMessage&&r.jsxs("p",{className:"text-[#B9B9C3] text-sm truncate",children:[_.lastMessageBy&&r.jsxs("span",{className:"font-medium",children:[S(_.lastMessageBy),":"]})," ",_.lastMessage]}),r.jsx("div",{className:"flex items-center gap-2 mt-2",children:r.jsxs("span",{className:"text-[#B9B9C3] text-sm",children:[_.participants.length," participants"]})})]}),r.jsx(hi,{className:"w-5 h-5 text-[#B9B9C3] flex-shrink-0"})]})}),keyExtractor:_=>_.id,emptyState:{icon:r.jsx("div",{className:"w-16 h-16 bg-[#F3F2F7] rounded-3xl flex items-center justify-center",children:r.jsx(Wp,{className:"w-8 h-8 text-[#7B5FEB]"})}),title:o?"No results found":"No conversations yet",description:o?"Try a different search term":"Start a new conversation with your villa team",action:o?void 0:{label:"New Conversation",onClick:()=>s("create")}},loadingCount:6})}),r.jsx(Xn,{activeTab:"more",onTabChange:w})]})}const cm=60*1e3,dm=60*cm,pb=24*dm;function Vj(e){const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const s=new Date().getTime()-t.getTime();if(s<0||s<cm)return"just now";if(s<dm){const i=Math.round(s/cm);return`${i} min${i===1?"":"s"} ago`}if(s<pb){const i=Math.round(s/dm);return`${i} hr${i===1?"":"s"} ago`}const o=Math.round(s/pb);return`${o} day${o===1?"":"s"} ago`}const gL={info:"bg-[#E9E5FF] text-[#4634C4]",warning:"bg-[#FFF5E5] text-[#9A6200]",critical:"bg-[#FFE5E5] text-[#B11A1A]"},vL={info:r.jsx(Lm,{className:"w-4 h-4"}),warning:r.jsx(Nl,{className:"w-4 h-4"}),critical:r.jsx(Nl,{className:"w-4 h-4"})};function xL({onNavigate:e}){const[t,n]=v.useState([]),[s,o]=v.useState(!0),[i,c]=v.useState(null),d=v.useMemo(()=>[...t].sort((m,p)=>new Date(p.createdAt).getTime()-new Date(m.createdAt).getTime()),[t]),h=async()=>{c(null);try{const m=await de("/notifications");n(m.notifications||[])}catch(m){console.error("Error loading notifications:",m),c("Unable to load notifications. Pull to refresh to try again.")}finally{o(!1)}};v.useEffect(()=>{h()},[]);const f=m=>{e?.({home:"dashboard",villas:"villas",calendar:"calendar",tasks:"tasks",expenses:"expenses"}[m]||m)};return s?r.jsxs("div",{className:"min-h-dvh bg-[#F8F8F8] pb-[calc(84px+2rem+env(safe-area-inset-bottom))]",children:[r.jsxs("div",{className:"bg-gradient-to-br from-[#7B5FEB] to-[#6B4FDB] px-6 sm:px-8 pt-[calc(0.75rem+env(safe-area-inset-top))] pb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex-1 space-y-1.5",children:[r.jsx("div",{className:"h-[32px] w-32 bg-white/20 rounded-xl animate-pulse"}),r.jsx("div",{className:"h-[16px] w-48 bg-white/10 rounded-xl animate-pulse"})]}),r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full animate-pulse"})]}),r.jsx("div",{className:"space-y-2",children:[1,2,3].map(m=>r.jsxs("div",{className:"bg-white/15 backdrop-blur-sm rounded-2xl p-4 animate-pulse",children:[r.jsx("div",{className:"h-4 w-24 bg-white/30 rounded mb-2"}),r.jsx("div",{className:"h-4 w-full bg-white/20 rounded mb-1"}),r.jsx("div",{className:"h-4 w-2/3 bg-white/10 rounded"})]},m))})]}),r.jsx("div",{className:"px-6 sm:px-8 -mt-6",children:r.jsx(zu,{count:4,children:r.jsx(vj,{})})}),r.jsx(Xn,{activeTab:"home",onTabChange:f})]}):r.jsxs("div",{className:"min-h-dvh bg-[#F8F8F8] pb-[calc(84px+2rem+env(safe-area-inset-bottom))]",children:[r.jsxs(pg,{onRefresh:h,children:[r.jsx(Hr,{title:"Notifications",subtitle:t.length?`${t.length} updates`:"All caught up",action:{icon:r.jsx(Um,{className:"w-5 h-5"}),onClick:h,"aria-label":"Refresh notifications"},className:"py-[32px]"}),r.jsxs("div",{className:"px-6 sm:px-8 space-y-3",children:[i&&r.jsx("div",{className:"bg-[#FFE5E5] text-[#B11A1A] rounded-2xl p-4 text-sm",children:i}),!d.length&&!i&&r.jsxs("div",{className:"bg-white rounded-2xl p-6 text-center shadow-sm border border-[#E8E8E8]",children:[r.jsx(oo,{className:"w-12 h-12 mx-auto text-[#6B4FDB] mb-3"}),r.jsx("p",{className:"text-[#1F1F1F] font-semibold text-lg",children:"You're up to date"}),r.jsx("p",{className:"text-[#8E8EA0] text-sm mt-1",children:"We'll let you know when there's something new to review."}),r.jsx(ze,{className:"mt-4",variant:"outline",onClick:()=>e?.("dashboard"),children:"Back to dashboard"})]}),d.map(m=>{const p=m.severity??"info",x=gL[p],b=vL[p];return r.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-[#E8E8E8]",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:Ie("w-10 h-10 rounded-xl flex items-center justify-center",x),children:b}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"text-[#1F1F1F] font-semibold text-base line-clamp-1",children:m.title}),r.jsx("span",{className:"text-xs text-[#8E8EA0]",children:Vj(m.createdAt)})]}),r.jsx("p",{className:"text-sm text-[#52525B] mt-1 whitespace-pre-line",children:m.message}),m.villaName&&r.jsxs("p",{className:"text-xs text-[#8E8EA0] mt-2",children:["Villa: ",m.villaName]})]})]})},m.id)})]})]}),r.jsx(Xn,{activeTab:"home",onTabChange:f})]})}function He({className:e,...t}){return r.jsx("div",{"data-slot":"card",className:Ie("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function It({className:e,...t}){return r.jsx("div",{"data-slot":"card-header",className:Ie("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Ot({className:e,...t}){return r.jsx("h4",{"data-slot":"card-title",className:Ie("leading-none",e),...t})}function um({className:e,...t}){return r.jsx("p",{"data-slot":"card-description",className:Ie("text-muted-foreground",e),...t})}function Je({className:e,...t}){return r.jsx("div",{"data-slot":"card-content",className:Ie("px-6 [&:last-child]:pb-6",e),...t})}function mb({villas:e}){const[t,n]=v.useState({totalVillas:0,totalTasks:0,completedTasks:0,totalExpenses:0,pendingExpenses:0,upcomingEvents:0}),[s,o]=v.useState(!0),i=HI();v.useEffect(()=>{c()},[e]);const c=async()=>{try{o(!0);let m=0,p=0,x=0,b=0,w=0;for(const k of e)try{const{tasks:N}=await de(`/villas/${k.id}/tasks`);m+=N?.length||0,p+=N?.filter(C=>C.status==="completed").length||0;const{expenses:E}=await de(`/villas/${k.id}/expenses`);x+=E?.reduce((C,D)=>C+D.amount,0)||0,b+=E?.filter(C=>C.status==="pending").length||0;const{events:S}=await de(`/events?villaId=${k.id}`);w+=S?.filter(C=>new Date(C.startDate)>=new Date).length||0}catch(N){console.error(`Error loading stats for villa ${k.id}:`,N)}n({totalVillas:e.length,totalTasks:m,completedTasks:p,totalExpenses:x,pendingExpenses:b,upcomingEvents:w})}catch(m){console.error("Error loading dashboard stats:",m)}finally{o(!1)}},d=[{title:"Total Villas",value:t.totalVillas,icon:bn,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-50 dark:bg-blue-900/20",trend:"+2 this month"},{title:"Active Tasks",value:`${t.totalTasks-t.completedTasks}/${t.totalTasks}`,icon:Ya,color:"text-green-600 dark:text-green-400",bgColor:"bg-green-50 dark:bg-green-900/20",trend:"12 due today"},{title:"Total Expenses",value:`Rp ${(t.totalExpenses/1e6).toFixed(1)}M`,icon:Or,color:"text-yellow-600 dark:text-yellow-400",bgColor:"bg-yellow-50 dark:bg-yellow-900/20",trend:"+8% from last month"},{title:"Pending Expenses",value:t.pendingExpenses,icon:Ll,color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-50 dark:bg-orange-900/20",trend:"Requires attention"},{title:"Upcoming Events",value:t.upcomingEvents,icon:tt,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-50 dark:bg-purple-900/20",trend:"Next in 2 days"},{title:"Completion Rate",value:t.totalTasks>0?`${Math.round(t.completedTasks/t.totalTasks*100)}%`:"0%",icon:P0,color:"text-indigo-600 dark:text-indigo-400",bgColor:"bg-indigo-50 dark:bg-indigo-900/20",trend:" 5% improvement"}];if(s)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-muted-foreground animate-pulse",children:"Loading dashboard..."})});const h=i==="mobile"?"grid-cols-1":i==="tablet"?"grid-cols-2":i==="desktop"?"grid-cols-3":"grid-cols-4",f=i==="mobile"?"space-y-4":i==="tablet"?"space-y-6":"space-y-8";return r.jsxs("div",{className:`${f} max-w-[1920px] mx-auto`,children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-semibold text-foreground",children:"Dashboard"}),r.jsx("p",{className:"text-sm md:text-base text-muted-foreground mt-1",children:"Overview of your villa management"})]}),i!=="mobile"&&r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("span",{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date().toLocaleTimeString()]})})]}),e.length===0?r.jsx(He,{className:"hover-lift transition-all duration-200",children:r.jsxs(Je,{className:"flex flex-col items-center justify-center py-12 md:py-16 lg:py-20",children:[r.jsx(bn,{className:"h-16 w-16 md:h-20 md:w-20 lg:h-24 lg:w-24 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg md:text-xl lg:text-2xl mb-2 text-foreground",children:"Welcome to VillaSaya!"}),r.jsx("p",{className:"text-sm md:text-base text-muted-foreground mb-4 text-center max-w-md",children:"Get started by creating your first villa or joining one with an invite code"})]})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`grid ${h} gap-4 md:gap-6`,children:d.map(m=>{const p=m.icon;return r.jsxs(He,{className:"hover-lift transition-all duration-200 hover:shadow-lg cursor-pointer",children:[r.jsxs(It,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[r.jsx(Ot,{className:"text-sm sm:text-sm font-medium",children:m.title}),r.jsx("div",{className:`p-2 rounded-lg ${m.bgColor}`,children:r.jsx(p,{className:`h-4 w-4 sm:h-5 sm:w-5 ${m.color}`})})]}),r.jsxs(Je,{children:[r.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:m.value}),i!=="mobile"&&r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:m.trend})]})]},m.title)})}),r.jsxs("div",{className:`grid ${i==="mobile"?"grid-cols-1":i==="desktop"||i==="wide"?"grid-cols-3":"grid-cols-2"} gap-4 md:gap-6`,children:[r.jsxs(He,{className:`${i==="desktop"||i==="wide"?"col-span-2":""} hover-lift`,children:[r.jsx(It,{children:r.jsxs(Ot,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Recent Activity"}),i!=="mobile"&&r.jsx(P0,{className:"h-5 w-5 text-muted-foreground"})]})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-3 md:space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 md:p-4 bg-muted dark:bg-gray-800 rounded-lg hover:bg-muted/80 transition-colors",children:[r.jsx(Ya,{className:"h-5 w-5 md:h-6 md:w-6 text-green-600 dark:text-green-400"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-sm md:text-base text-foreground font-medium",children:[t.completedTasks," tasks completed"]}),r.jsx("p",{className:"text-sm md:text-sm text-muted-foreground",children:"Across all villas"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 md:p-4 bg-muted dark:bg-gray-800 rounded-lg hover:bg-muted/80 transition-colors",children:[r.jsx(Or,{className:"h-5 w-5 md:h-6 md:w-6 text-yellow-600 dark:text-yellow-400"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-sm md:text-base text-foreground font-medium",children:[t.pendingExpenses," pending expense approvals"]}),r.jsx("p",{className:"text-sm md:text-sm text-muted-foreground",children:"Requires attention"})]}),t.pendingExpenses>0&&i!=="mobile"&&r.jsx(Fm,{className:"h-4 w-4 text-orange-500"})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 md:p-4 bg-muted dark:bg-gray-800 rounded-lg hover:bg-muted/80 transition-colors",children:[r.jsx(tt,{className:"h-5 w-5 md:h-6 md:w-6 text-purple-600 dark:text-purple-400"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-sm md:text-base text-foreground font-medium",children:[t.upcomingEvents," upcoming events"]}),r.jsx("p",{className:"text-sm md:text-sm text-muted-foreground",children:"In your calendar"})]})]})]})})]}),r.jsxs(He,{className:"hover-lift",children:[r.jsx(It,{children:r.jsxs(Ot,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Your Villas"}),r.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:[e.length," total"]})]})}),r.jsx(Je,{children:r.jsx("div",{className:"space-y-2 md:space-y-3 max-h-[400px] overflow-y-auto",children:e.map(m=>r.jsxs("div",{className:"flex items-center gap-3 p-3 md:p-4 bg-muted dark:bg-gray-800 rounded-lg hover:bg-muted/80 transition-colors cursor-pointer",children:[r.jsx(bn,{className:"h-5 w-5 md:h-6 md:w-6 text-indigo-600 dark:text-indigo-400 flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm md:text-base text-foreground font-medium truncate",children:m.name}),r.jsxs("p",{className:"text-sm md:text-sm text-muted-foreground",children:[m.users?.length||0," member(s)"]})]}),i!=="mobile"&&r.jsx(wn,{className:"h-4 w-4 text-muted-foreground"})]},m.id))})})]})]}),(i==="desktop"||i==="wide")&&r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsx(He,{className:"hover-lift cursor-pointer",children:r.jsx(Je,{className:"flex items-center justify-center py-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx(bn,{className:"h-8 w-8 mx-auto mb-2 text-indigo-600"}),r.jsx("p",{className:"text-sm font-medium",children:"Add Villa"})]})})}),r.jsx(He,{className:"hover-lift cursor-pointer",children:r.jsx(Je,{className:"flex items-center justify-center py-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ya,{className:"h-8 w-8 mx-auto mb-2 text-green-600"}),r.jsx("p",{className:"text-sm font-medium",children:"Create Task"})]})})}),r.jsx(He,{className:"hover-lift cursor-pointer",children:r.jsx(Je,{className:"flex items-center justify-center py-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Or,{className:"h-8 w-8 mx-auto mb-2 text-yellow-600"}),r.jsx("p",{className:"text-sm font-medium",children:"Submit Expense"})]})})}),r.jsx(He,{className:"hover-lift cursor-pointer",children:r.jsx(Je,{className:"flex items-center justify-center py-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx(tt,{className:"h-8 w-8 mx-auto mb-2 text-purple-600"}),r.jsx("p",{className:"text-sm font-medium",children:"Schedule Event"})]})})})]})]})]})}const yL={info:"bg-[#E9E5FF] text-[#4634C4]",warning:"bg-[#FFF5E5] text-[#9A6200]",critical:"bg-[#FFE5E5] text-[#B11A1A]"},bL={info:r.jsx(Lm,{className:"w-4 h-4"}),warning:r.jsx(Nl,{className:"w-4 h-4"}),critical:r.jsx(Nl,{className:"w-4 h-4"})};function wL({className:e}){const[t,n]=v.useState([]),[s,o]=v.useState(!0),[i,c]=v.useState(null),d=v.useMemo(()=>[...t].sort((f,m)=>new Date(m.createdAt).getTime()-new Date(f.createdAt).getTime()),[t]),h=async()=>{c(null);try{const f=await de("/notifications");n(f.notifications||[])}catch(f){console.error("Error loading notifications:",f),c("Unable to load notifications. Please try again.")}finally{o(!1)}};return v.useEffect(()=>{h()},[]),r.jsxs("div",{className:Ie("flex flex-col gap-4 w-full",e),children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-[#1F1F1F]",children:"Notifications"}),r.jsx("p",{className:"text-sm text-[#8E8EA0]",children:s?"Checking for new updates":`${d.length} updates`})]}),r.jsxs(ze,{variant:"outline",onClick:h,disabled:s,children:[r.jsx(HR,{className:"w-4 h-4 mr-2"})," Refresh"]})]}),i&&r.jsx(He,{className:"border-[#FEE2E2] bg-[#FEF2F2] text-[#B11A1A]",children:r.jsx("div",{className:"p-4 text-sm",children:i})}),s?r.jsxs(He,{className:"p-6",children:[r.jsx(sn,{className:"h-6 w-48 mb-4"}),r.jsx(zu,{count:3,children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(sn,{className:"w-12 h-12 rounded-xl"}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx(sn,{className:"h-4 w-40"}),r.jsx(sn,{className:"h-4 w-full"}),r.jsx(sn,{className:"h-4 w-3/4"})]})]})})]}):d.length?r.jsx("div",{className:"grid gap-3",children:d.map(f=>{const m=f.severity??"info",p=yL[m],x=bL[m];return r.jsx(He,{className:"p-5 border border-[#E8E8E8] bg-white shadow-sm",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:Ie("w-12 h-12 rounded-xl flex items-center justify-center",p),children:x}),r.jsxs("div",{className:"flex-1 space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-semibold text-[#1F1F1F] text-base",children:f.title}),r.jsx("span",{className:"text-xs text-[#8E8EA0]",children:Vj(f.createdAt)})]}),r.jsx("p",{className:"text-sm text-[#52525B] whitespace-pre-line",children:f.message}),f.villaName&&r.jsxs("p",{className:"text-xs text-[#8E8EA0]",children:["Villa: ",f.villaName]})]})]})},f.id)})}):r.jsxs(He,{className:"p-12 text-center flex flex-col items-center gap-3",children:[r.jsx(oo,{className:"w-12 h-12 text-[#6B4FDB]"}),r.jsx("h2",{className:"text-lg font-semibold text-[#1F1F1F]",children:"You're up to date"}),r.jsx("p",{className:"text-sm text-[#8E8EA0]",children:"We'll let you know when there's something new to review."})]})]})}function an({className:e,type:t,...n}){return r.jsx("input",{type:t,"data-slot":"input",className:Ie("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var kL="Label",Wj=v.forwardRef((e,t)=>r.jsx(Re.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Wj.displayName=kL;var jL=Wj;function Xe({className:e,...t}){return r.jsx(jL,{"data-slot":"label",className:Ie("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function Hl({className:e,disableSanitization:t=!1,onChange:n,...s}){const o=i=>{if(!t){const c=i.target.value,d=gk(c);i.target.value=d}n?.(i)};return r.jsx("textarea",{"data-slot":"textarea",className:Ie("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),onChange:o,...s})}function NL({onVillaSelect:e}){const[t,n]=v.useState([]),[s,o]=v.useState(!0),[i,c]=v.useState(!1),[d,h]=v.useState(!1),[f,m]=v.useState({name:"",address:"",leaseStartDate:"",leaseDuration:"",rent:""}),[p,x]=v.useState("");v.useEffect(()=>{b()},[]);const b=async()=>{try{o(!0);const{villas:N}=await de("/villas");n(N||[])}catch(N){console.error("Error loading villas:",N),K.error("Failed to load villas")}finally{o(!1)}},w=async N=>{N.preventDefault();try{const E={startDate:f.leaseStartDate,duration:f.leaseDuration,rent:f.rent};await de("/villas",{method:"POST",body:JSON.stringify({name:f.name,address:f.address,leaseDetails:E})}),K.success("Villa created successfully!"),c(!1),m({name:"",address:"",leaseStartDate:"",leaseDuration:"",rent:""}),b()}catch(E){console.error("Error creating villa:",E),K.error(E.message||"Failed to create villa")}},k=async N=>{N.preventDefault();try{await de("/villas/join",{method:"POST",body:JSON.stringify({inviteCode:p})}),K.success("Joined villa successfully!"),h(!1),x(""),b()}catch(E){console.error("Error joining villa:",E),K.error(E.message||"Failed to join villa")}};return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-gray-500",children:"Loading villas..."})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl",children:"My Villas"}),r.jsx("p",{className:"text-gray-600",children:"Manage your villa properties"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Lr,{open:d,onOpenChange:h,children:[r.jsx(Ps,{asChild:!0,children:r.jsx(ze,{variant:"outline",children:"Join Villa"})}),r.jsxs(zr,{children:[r.jsx(Rs,{children:r.jsx($r,{children:"Join Villa"})}),r.jsxs("form",{onSubmit:k,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"inviteCode",children:"Invite Code"}),r.jsx(an,{id:"inviteCode",placeholder:"Enter invite code",value:p,onChange:N=>x(N.target.value),required:!0})]}),r.jsx(to,{children:r.jsx(ze,{type:"submit",children:"Join Villa"})})]})]})]}),r.jsxs(Lr,{open:i,onOpenChange:c,children:[r.jsx(Ps,{asChild:!0,children:r.jsxs(ze,{children:[r.jsx(bt,{className:"mr-2 h-4 w-4"}),"Create Villa"]})}),r.jsxs(zr,{className:"max-w-md",children:[r.jsx(Rs,{children:r.jsx($r,{children:"Create New Villa"})}),r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"name",children:"Villa Name"}),r.jsx(an,{id:"name",placeholder:"e.g., Villa Sunset",value:f.name,onChange:N=>m({...f,name:N.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"address",children:"Address"}),r.jsx(Hl,{id:"address",placeholder:"Enter villa address",value:f.address,onChange:N=>m({...f,address:N.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"leaseStartDate",children:"Lease Start Date"}),r.jsx(an,{id:"leaseStartDate",type:"date",value:f.leaseStartDate,onChange:N=>m({...f,leaseStartDate:N.target.value})})]}),r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"leaseDuration",children:"Lease Duration (months)"}),r.jsx(an,{id:"leaseDuration",type:"number",placeholder:"e.g., 12",value:f.leaseDuration,onChange:N=>m({...f,leaseDuration:N.target.value})})]}),r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"rent",children:"Monthly Rent"}),r.jsx(an,{id:"rent",type:"number",placeholder:"e.g., 5000000",value:f.rent,onChange:N=>m({...f,rent:N.target.value})})]}),r.jsx(to,{children:r.jsx(ze,{type:"submit",children:"Create Villa"})})]})]})]})]})]}),t.length===0?r.jsx(He,{children:r.jsxs(Je,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(bn,{className:"h-16 w-16 text-gray-400 mb-4"}),r.jsx("h3",{className:"mb-2",children:"No villas yet"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first villa or join one with an invite code"})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(N=>r.jsxs(He,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e(N),children:[r.jsxs(It,{children:[r.jsxs(Ot,{className:"flex items-center",children:[r.jsx(bn,{className:"mr-2 h-5 w-5 text-indigo-600"}),N.name]}),r.jsxs(um,{className:"flex items-start",children:[r.jsx(qa,{className:"mr-2 h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"line-clamp-2",children:N.address})]})]}),r.jsx(Je,{children:r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(wn,{className:"mr-2 h-4 w-4"}),N.users?.length||0," member(s)"]})})]},N.id))})]})}function SL(){const e=zl();return{isAuthenticated:e.isAuthenticated,currentUser:e.currentUser,userProfile:e.userProfile,login:e.login,logout:e.logout,refreshAuth:e.refreshAuth}}function EL(){const e=zl();return{villas:e.villas,selectedVilla:e.selectedVilla,loading:e.villasLoading,error:e.villasError,loadVillas:e.loadVillas,selectVilla:e.selectVilla,createVilla:e.createVilla,updateVilla:e.updateVilla,deleteVilla:e.deleteVilla}}const hp={admin:["villa.create","villa.edit","villa.delete","villa.invite","task.create","task.edit","task.delete","task.assign","expense.create","expense.edit","expense.delete","expense.approve","staff.manage","staff.view","calendar.create","calendar.edit","calendar.delete","message.send","message.delete","reports.view","reports.export"],landlord:["villa.edit","villa.invite","task.create","task.edit","task.assign","expense.approve","expense.view","staff.manage","staff.view","calendar.create","calendar.edit","message.send","reports.view","reports.export"],property_agent:["villa.edit","villa.invite","task.create","task.edit","task.assign","expense.create","expense.edit","staff.view","calendar.create","calendar.edit","message.send","reports.view"],tenant:["task.create","task.edit","expense.create","calendar.create","calendar.edit","message.send","reports.view"],staff:["task.edit","expense.create","calendar.view","message.send"]};class _L{userRole=null;villaRole=null;permissions=new Set;constructor(t,n){t&&n?this.initialize(t,n):t&&this.initializeGlobalRole(t)}initialize(t,n){const s=n.users?.find(o=>o.userId===t.id);if(s)this.villaRole=s.role,this.permissions=new Set(hp[this.villaRole]||[]);else{this.permissions=new Set;return}t.role&&s&&(this.userRole=t.role,(hp[this.userRole]||[]).filter(c=>!c.startsWith("villa.")&&!c.startsWith("task.")&&!c.startsWith("expense.")&&!c.startsWith("staff.")&&!c.startsWith("calendar.")).forEach(c=>this.permissions.add(c)))}initializeGlobalRole(t){t.role&&(this.userRole=t.role,this.permissions=new Set(hp[this.userRole]||[]))}hasPermission(t){return this.permissions.has(t)}hasAnyPermission(t){return t.some(n=>this.hasPermission(n))}hasAllPermissions(t){return t.every(n=>this.hasPermission(n))}getRole(){return this.villaRole||this.userRole}isOwnerOrAdmin(){const t=this.getRole();return t==="admin"||t==="landlord"}canManageVilla(){return this.hasAnyPermission(["villa.edit","villa.delete","villa.invite"])}canManageTasks(){return this.hasAnyPermission(["task.create","task.edit","task.delete","task.assign"])}canApproveExpenses(){return this.hasPermission("expense.approve")}canManageStaff(){return this.hasPermission("staff.manage")}getAllPermissions(){return Array.from(this.permissions)}}function Hj(e){const{currentUser:t}=SL(),{villas:n}=EL(),[s,o]=v.useState(null);return v.useEffect(()=>{if(t){const i=e?n.find(d=>d.id===e):null,c=new _L(t,i||void 0);o(c)}else o(null)},[t,e,n]),s}function CL({permission:e,permissions:t,requireAll:n=!1,villaId:s,children:o,fallback:i=null}){const c=Hj(s);if(!c)return te.createElement(te.Fragment,null,i);let d=!1;return e?d=c.hasPermission(e):t?d=n?c.hasAllPermissions(t):c.hasAnyPermission(t):d=!0,d?te.createElement(te.Fragment,null,o):te.createElement(te.Fragment,null,i)}var Vu="Tabs",[TL]=vr(Vu,[Iu]),qj=Iu(),[DL,yg]=TL(Vu),Yj=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:o,defaultValue:i,orientation:c="horizontal",dir:d,activationMode:h="automatic",...f}=e,m=$l(d),[p,x]=ma({prop:s,onChange:o,defaultProp:i??"",caller:Vu});return r.jsx(DL,{scope:n,baseId:os(),value:p,onValueChange:x,orientation:c,dir:m,activationMode:h,children:r.jsx(Re.div,{dir:m,"data-orientation":c,...f,ref:t})})});Yj.displayName=Vu;var Kj="TabsList",Gj=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...o}=e,i=yg(Kj,n),c=qj(n);return r.jsx(I1,{asChild:!0,...c,orientation:i.orientation,dir:i.dir,loop:s,children:r.jsx(Re.div,{role:"tablist","aria-orientation":i.orientation,...o,ref:t})})});Gj.displayName=Kj;var Zj="TabsTrigger",Jj=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:o=!1,...i}=e,c=yg(Zj,n),d=qj(n),h=eN(c.baseId,s),f=tN(c.baseId,s),m=s===c.value;return r.jsx(O1,{asChild:!0,...d,focusable:!o,active:m,children:r.jsx(Re.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:h,...i,ref:t,onMouseDown:ye(e.onMouseDown,p=>{!o&&p.button===0&&p.ctrlKey===!1?c.onValueChange(s):p.preventDefault()}),onKeyDown:ye(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&c.onValueChange(s)}),onFocus:ye(e.onFocus,()=>{const p=c.activationMode!=="manual";!m&&!o&&p&&c.onValueChange(s)})})})});Jj.displayName=Zj;var Xj="TabsContent",Qj=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:o,children:i,...c}=e,d=yg(Xj,n),h=eN(d.baseId,s),f=tN(d.baseId,s),m=s===d.value,p=v.useRef(m);return v.useEffect(()=>{const x=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(x)},[]),r.jsx(Bn,{present:o||m,children:({present:x})=>r.jsx(Re.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!x,id:f,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:x&&i})})});Qj.displayName=Xj;function eN(e,t){return`${e}-trigger-${t}`}function tN(e,t){return`${e}-content-${t}`}var PL=Yj,RL=Gj,AL=Jj,IL=Qj;function bg({className:e,...t}){return r.jsx(PL,{"data-slot":"tabs",className:Ie("flex flex-col gap-2",e),...t})}function wg({className:e,...t}){return r.jsx(RL,{"data-slot":"tabs-list",className:Ie("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function ca({className:e,...t}){return r.jsx(AL,{"data-slot":"tabs-trigger",className:Ie("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function da({className:e,...t}){return r.jsx(IL,{"data-slot":"tabs-content",className:Ie("flex-1 outline-none",e),...t})}const OL=Qw("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-sm font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ht({className:e,variant:t,asChild:n=!1,...s}){const o=n?Zw:"span";return r.jsx(o,{"data-slot":"badge",className:Ie(OL({variant:t}),e),...s})}function FL({villa:e,onBack:t}){const[n,s]=v.useState(!1),[o,i]=v.useState("tenant"),[c,d]=v.useState(""),[h,f]=v.useState(!1),p=Hj(e.id)?.hasPermission("villa.invite")||!1,x=async()=>{try{const{inviteCode:w}=await de(`/villas/${e.id}/invite`,{method:"POST",body:JSON.stringify({role:o})});d(w),K.success("Invite code generated!")}catch(w){console.error("Error generating invite:",w),K.error(w.message||"Failed to generate invite code")}},b=()=>{navigator.clipboard.writeText(c),f(!0),K.success("Copied to clipboard!"),setTimeout(()=>f(!1),2e3)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(ze,{variant:"ghost",onClick:t,children:[r.jsx(_d,{className:"mr-2 h-4 w-4"}),"Back to Villas"]}),p&&r.jsxs(Lr,{open:n,onOpenChange:s,children:[r.jsx(Ps,{asChild:!0,children:r.jsxs(ze,{children:[r.jsx(wn,{className:"mr-2 h-4 w-4"}),"Invite Users"]})}),r.jsxs(zr,{children:[r.jsx(Rs,{children:r.jsx($r,{children:"Generate Invite Code"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"role",children:"Role for Invited User"}),r.jsxs(Nt,{value:o,onValueChange:i,children:[r.jsx(Et,{children:r.jsx(St,{})}),r.jsxs(_t,{children:[r.jsx(xe,{value:"landlord",children:"Landlord"}),r.jsx(xe,{value:"property_agent",children:"Property Agent"}),r.jsx(xe,{value:"tenant",children:"Tenant"}),r.jsx(xe,{value:"staff",children:"Staff"})]})]})]}),c?r.jsxs("div",{className:"space-y-2",children:[r.jsx(Xe,{children:"Invite Code"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(an,{value:c,readOnly:!0}),r.jsx(ze,{variant:"outline",size:"icon",onClick:b,children:h?r.jsx(jl,{className:"h-4 w-4"}):r.jsx(Mm,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Share this code with the user to invite them to this villa. Code expires in 7 days."})]}):r.jsx(ze,{onClick:x,className:"w-full",children:"Generate Code"})]})]})]})]}),r.jsxs(He,{children:[r.jsx(It,{children:r.jsx(Ot,{children:e.name})}),r.jsx(Je,{children:r.jsxs(bg,{defaultValue:"details",children:[r.jsxs(wg,{children:[r.jsx(ca,{value:"details",children:"Details"}),r.jsx(ca,{value:"members",children:"Members"}),r.jsx(ca,{value:"lease",children:"Lease Info"})]}),r.jsx(da,{value:"details",className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(Xe,{children:"Address"}),r.jsx("p",{className:"text-gray-700",children:e.address})]})}),r.jsx(da,{value:"members",className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(Xe,{className:"mb-3 block",children:"Villa Members"}),r.jsx("div",{className:"space-y-2",children:e.users.map((w,k)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("p",{children:["User ",k+1]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",w.userId]})]}),r.jsx(Ht,{variant:"secondary",className:"capitalize",children:w.role.replace("_"," ")})]},k))})]})}),r.jsx(da,{value:"lease",className:"space-y-4",children:e.leaseDetails&&Object.keys(e.leaseDetails).length>0?r.jsxs(r.Fragment,{children:[e.leaseDetails.startDate&&r.jsxs("div",{children:[r.jsx(Xe,{children:"Start Date"}),r.jsx("p",{className:"text-gray-700",children:e.leaseDetails.startDate})]}),e.leaseDetails.duration&&r.jsxs("div",{children:[r.jsx(Xe,{children:"Duration"}),r.jsxs("p",{className:"text-gray-700",children:[e.leaseDetails.duration," months"]})]}),e.leaseDetails.rent&&r.jsxs("div",{children:[r.jsx(Xe,{children:"Monthly Rent"}),r.jsxs("p",{className:"text-gray-700",children:["Rp ",Number(e.leaseDetails.rent).toLocaleString()]})]})]}):r.jsx("p",{className:"text-gray-600",children:"No lease information available"})})]})})]})]})}function ML({villas:e}){const[t,n]=v.useState([]),[s,o]=v.useState(!1),[i,c]=v.useState(""),[d,h]=v.useState(!1),[f,m]=v.useState({title:"",description:"",dueDate:""}),p=sessionStorage.getItem("user_id");v.useEffect(()=>{e.length>0&&!i&&c(e[0].id)},[e]),v.useEffect(()=>{i&&x()},[i]);const x=async()=>{try{o(!0);const{tasks:S}=await de(`/villas/${i}/tasks`);n(S||[])}catch(S){console.error("Error loading tasks:",S),K.error("Failed to load tasks")}finally{o(!1)}},b=async S=>{S.preventDefault();try{await de("/tasks",{method:"POST",body:JSON.stringify({villaId:i,title:f.title,description:f.description,assignedTo:[p],dueDate:f.dueDate||null})}),K.success("Task created successfully!"),h(!1),m({title:"",description:"",dueDate:""}),x()}catch(C){console.error("Error creating task:",C),K.error(C.message||"Failed to create task")}},w=async(S,C)=>{try{await de(`/tasks/${S}/status`,{method:"PUT",body:JSON.stringify({status:C})}),K.success("Task status updated!"),x()}catch(D){console.error("Error updating task status:",D),K.error(D.message||"Failed to update task")}},k=t.filter(S=>S.status==="pending"),N=t.filter(S=>S.status==="in_progress"),E=t.filter(S=>S.status==="completed");return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl",children:"Tasks"}),r.jsx("p",{className:"text-gray-600",children:"Manage and track villa tasks"})]}),r.jsxs("div",{className:"flex gap-3",children:[e.length>0&&r.jsxs(Nt,{value:i,onValueChange:c,children:[r.jsx(Et,{className:"w-48",children:r.jsx(St,{placeholder:"Select villa"})}),r.jsx(_t,{children:e.map(S=>r.jsx(xe,{value:S.id,children:S.name},S.id))})]}),r.jsx(CL,{permission:"task.create",villaId:i||void 0,fallback:null,children:r.jsxs(Lr,{open:d,onOpenChange:h,children:[r.jsx(Ps,{asChild:!0,children:r.jsxs(ze,{disabled:!i,children:[r.jsx(bt,{className:"mr-2 h-4 w-4"}),"Create Task"]})}),r.jsxs(zr,{children:[r.jsx(Rs,{children:r.jsx($r,{children:"Create New Task"})}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"title",children:"Task Title"}),r.jsx(an,{id:"title",placeholder:"e.g., Clean pool area",value:f.title,onChange:S=>m({...f,title:S.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"description",children:"Description"}),r.jsx(Hl,{id:"description",placeholder:"Task details...",value:f.description,onChange:S=>m({...f,description:S.target.value})})]}),r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"dueDate",children:"Due Date"}),r.jsx(an,{id:"dueDate",type:"date",value:f.dueDate,onChange:S=>m({...f,dueDate:S.target.value})})]}),r.jsx(to,{children:r.jsx(ze,{type:"submit",children:"Create Task"})})]})]})]})})]})]}),i?s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-gray-500",children:"Loading tasks..."})}):r.jsxs(bg,{defaultValue:"board",className:"w-full",children:[r.jsxs(wg,{children:[r.jsx(ca,{value:"board",children:"Board View"}),r.jsx(ca,{value:"list",children:"List View"})]}),r.jsx(da,{value:"board",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"flex items-center",children:[r.jsx(er,{className:"mr-2 h-5 w-5 text-yellow-600"}),"Pending"]}),r.jsx(Ht,{variant:"secondary",children:k.length})]}),r.jsxs("div",{className:"space-y-3",children:[k.map(S=>r.jsx(Nd,{task:S,onStatusChange:w},S.id)),k.length===0&&r.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No pending tasks"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"flex items-center",children:[r.jsx(Ya,{className:"mr-2 h-5 w-5 text-blue-600"}),"In Progress"]}),r.jsx(Ht,{variant:"secondary",children:N.length})]}),r.jsxs("div",{className:"space-y-3",children:[N.map(S=>r.jsx(Nd,{task:S,onStatusChange:w},S.id)),N.length===0&&r.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No tasks in progress"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"flex items-center",children:[r.jsx(Uw,{className:"mr-2 h-5 w-5 text-green-600"}),"Completed"]}),r.jsx(Ht,{variant:"secondary",children:E.length})]}),r.jsxs("div",{className:"space-y-3",children:[E.map(S=>r.jsx(Nd,{task:S,onStatusChange:w},S.id)),E.length===0&&r.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No completed tasks"})]})]})]})}),r.jsx(da,{value:"list",children:r.jsxs("div",{className:"space-y-3",children:[t.map(S=>r.jsx(Nd,{task:S,onStatusChange:w,listView:!0},S.id)),t.length===0&&r.jsx(He,{children:r.jsxs(Je,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(Ya,{className:"h-16 w-16 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No tasks yet"})]})})]})})]}):r.jsx(He,{children:r.jsxs(Je,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(Ya,{className:"h-16 w-16 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Select a villa to view tasks"})]})})]})}function Nd({task:e,onStatusChange:t,listView:n}){const s=()=>{switch(e.status){case"pending":return r.jsx(Ht,{variant:"outline",children:"Pending"});case"in_progress":return r.jsx(Ht,{className:"bg-blue-500",children:"In Progress"});case"completed":return r.jsx(Ht,{className:"bg-green-500",children:"Completed"});default:return r.jsx(Ht,{variant:"secondary",children:e.status})}};return r.jsxs(He,{className:"",children:[r.jsx(It,{className:"pb-3",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx(Ot,{className:"text-base",children:e.title}),!n&&s()]})}),r.jsxs(Je,{className:"space-y-3",children:[e.description&&r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description}),e.dueDate&&r.jsxs("p",{className:"text-sm text-gray-500",children:["Due: ",e.dueDate]}),n&&r.jsx("div",{children:s()}),r.jsxs("div",{className:"flex gap-2",children:[e.status==="pending"&&r.jsx(ze,{size:"sm",variant:"outline",onClick:()=>t(e.id,"in_progress"),children:"Start"}),e.status==="in_progress"&&r.jsx(ze,{size:"sm",onClick:()=>t(e.id,"completed"),children:"Complete"})]})]})]})}function nN({className:e,...t}){return r.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:r.jsx("table",{"data-slot":"table",className:Ie("w-full caption-bottom text-sm",e),...t})})}function rN({className:e,...t}){return r.jsx("thead",{"data-slot":"table-header",className:Ie("[&_tr]:border-b",e),...t})}function sN({className:e,...t}){return r.jsx("tbody",{"data-slot":"table-body",className:Ie("[&_tr:last-child]:border-0",e),...t})}function eu({className:e,...t}){return r.jsx("tr",{"data-slot":"table-row",className:Ie("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Dr({className:e,...t}){return r.jsx("th",{"data-slot":"table-head",className:Ie("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Pr({className:e,...t}){return r.jsx("td",{"data-slot":"table-cell",className:Ie("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function LL({villas:e}){const[t,n]=v.useState([]),[s,o]=v.useState(!1),[i,c]=v.useState(""),[d,h]=v.useState(!1),[f,m]=v.useState({title:"",amount:"",category:"general",description:""});v.useEffect(()=>{e.length>0&&!i&&c(e[0].id)},[e]),v.useEffect(()=>{i&&p()},[i]);const p=async()=>{try{o(!0);const{expenses:S}=await de(`/villas/${i}/expenses`);n(S||[])}catch(S){console.error("Error loading expenses:",S),K.error("Failed to load expenses")}finally{o(!1)}},x=async S=>{S.preventDefault();try{await de("/expenses",{method:"POST",body:JSON.stringify({villaId:i,title:f.title,amount:parseFloat(f.amount),category:f.category,description:f.description})}),K.success("Expense created successfully!"),h(!1),m({title:"",amount:"",category:"general",description:""}),p()}catch(C){console.error("Error creating expense:",C),K.error(C.message||"Failed to create expense")}},b=async(S,C)=>{try{await de(`/expenses/${S}/status`,{method:"PUT",body:JSON.stringify({status:C})}),K.success(`Expense ${C}!`),p()}catch(D){console.error("Error updating expense status:",D),K.error(D.message||"Failed to update expense")}},w=S=>{switch(S){case"pending":return r.jsxs(Ht,{variant:"outline",className:"flex items-center w-fit",children:[r.jsx(er,{className:"mr-1 h-3 w-3"}),"Pending"]});case"approved":return r.jsxs(Ht,{className:"bg-blue-500 flex items-center w-fit",children:[r.jsx(Ln,{className:"mr-1 h-3 w-3"}),"Approved"]});case"rejected":return r.jsxs(Ht,{variant:"destructive",className:"flex items-center w-fit",children:[r.jsx($d,{className:"mr-1 h-3 w-3"}),"Rejected"]});case"paid":return r.jsxs(Ht,{className:"bg-green-500 flex items-center w-fit",children:[r.jsx(Ln,{className:"mr-1 h-3 w-3"}),"Paid"]});default:return r.jsx(Ht,{variant:"secondary",children:S})}},k=t.reduce((S,C)=>S+C.amount,0),N=t.filter(S=>S.status==="paid").reduce((S,C)=>S+C.amount,0),E=t.filter(S=>S.status==="pending"||S.status==="approved").reduce((S,C)=>S+C.amount,0);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl",children:"Expenses"}),r.jsx("p",{className:"text-gray-600",children:"Track and manage villa expenses"})]}),r.jsxs("div",{className:"flex gap-3",children:[e.length>0&&r.jsxs(Nt,{value:i,onValueChange:c,children:[r.jsx(Et,{className:"w-48",children:r.jsx(St,{placeholder:"Select villa"})}),r.jsx(_t,{children:e.map(S=>r.jsx(xe,{value:S.id,children:S.name},S.id))})]}),r.jsxs(Lr,{open:d,onOpenChange:h,children:[r.jsx(Ps,{asChild:!0,children:r.jsxs(ze,{disabled:!i,children:[r.jsx(bt,{className:"mr-2 h-4 w-4"}),"Add Expense"]})}),r.jsxs(zr,{children:[r.jsx(Rs,{children:r.jsx($r,{children:"Create New Expense"})}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"title",children:"Expense Title"}),r.jsx(an,{id:"title",placeholder:"e.g., Pool maintenance",value:f.title,onChange:S=>m({...f,title:S.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"amount",children:"Amount (IDR)"}),r.jsx(an,{id:"amount",type:"number",placeholder:"e.g., 500000",value:f.amount,onChange:S=>m({...f,amount:S.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"category",children:"Category"}),r.jsxs(Nt,{value:f.category,onValueChange:S=>m({...f,category:S}),children:[r.jsx(Et,{children:r.jsx(St,{})}),r.jsxs(_t,{children:[r.jsx(xe,{value:"general",children:"General"}),r.jsx(xe,{value:"maintenance",children:"Maintenance"}),r.jsx(xe,{value:"utilities",children:"Utilities"}),r.jsx(xe,{value:"supplies",children:"Supplies"}),r.jsx(xe,{value:"staff",children:"Staff"}),r.jsx(xe,{value:"other",children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"description",children:"Description"}),r.jsx(Hl,{id:"description",placeholder:"Expense details...",value:f.description,onChange:S=>m({...f,description:S.target.value})})]}),r.jsx(to,{children:r.jsx(ze,{type:"submit",children:"Create Expense"})})]})]})]})]})]}),i?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs(He,{children:[r.jsx(It,{className:"pb-2",children:r.jsx(Ot,{className:"text-sm",children:"Total Expenses"})}),r.jsx(Je,{children:r.jsxs("p",{className:"text-2xl",children:["Rp ",k.toLocaleString()]})})]}),r.jsxs(He,{children:[r.jsx(It,{className:"pb-2",children:r.jsx(Ot,{className:"text-sm",children:"Paid"})}),r.jsx(Je,{children:r.jsxs("p",{className:"text-2xl text-green-600",children:["Rp ",N.toLocaleString()]})})]}),r.jsxs(He,{children:[r.jsx(It,{className:"pb-2",children:r.jsx(Ot,{className:"text-sm",children:"Pending"})}),r.jsx(Je,{children:r.jsxs("p",{className:"text-2xl text-yellow-600",children:["Rp ",E.toLocaleString()]})})]})]}),r.jsxs(He,{children:[r.jsx(It,{children:r.jsx(Ot,{children:"Expense History"})}),r.jsx(Je,{children:s?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading expenses..."}):t.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No expenses yet"}):r.jsxs(nN,{children:[r.jsx(rN,{children:r.jsxs(eu,{children:[r.jsx(Dr,{children:"Title"}),r.jsx(Dr,{children:"Category"}),r.jsx(Dr,{children:"Amount"}),r.jsx(Dr,{children:"Status"}),r.jsx(Dr,{children:"Date"}),r.jsx(Dr,{children:"Actions"})]})}),r.jsx(sN,{children:t.map(S=>r.jsxs(eu,{children:[r.jsx(Pr,{children:S.title}),r.jsx(Pr,{className:"capitalize",children:S.category}),r.jsxs(Pr,{children:["Rp ",S.amount.toLocaleString()]}),r.jsx(Pr,{children:w(S.status)}),r.jsx(Pr,{children:new Date(S.createdAt).toLocaleDateString()}),r.jsx(Pr,{children:r.jsxs("div",{className:"flex gap-2",children:[S.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx(ze,{size:"sm",variant:"outline",onClick:()=>b(S.id,"approved"),children:"Approve"}),r.jsx(ze,{size:"sm",variant:"outline",onClick:()=>b(S.id,"rejected"),children:"Reject"})]}),S.status==="approved"&&r.jsx(ze,{size:"sm",onClick:()=>b(S.id,"paid"),children:"Mark as Paid"})]})})]},S.id))})]})})]})]}):r.jsx(He,{children:r.jsxs(Je,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(Or,{className:"h-16 w-16 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Select a villa to view expenses"})]})})]})}function Ke(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Qn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function yn(e,t){const n=Ke(e);return isNaN(t)?Qn(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Br(e,t){const n=Ke(e);if(isNaN(t))return Qn(e,NaN);if(!t)return n;const s=n.getDate(),o=Qn(e,n.getTime());o.setMonth(n.getMonth()+t+1,0);const i=o.getDate();return s>=i?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}const kg=6048e5,zL=864e5;let $L={};function ql(){return $L}function cs(e,t){const n=ql(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ke(e),i=o.getDay(),c=(i<s?7:0)+i-s;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function no(e){return cs(e,{weekStartsOn:1})}function aN(e){const t=Ke(e),n=t.getFullYear(),s=Qn(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=no(s),i=Qn(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const c=no(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function di(e){const t=Ke(e);return t.setHours(0,0,0,0),t}function tu(e){const t=Ke(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function as(e,t){const n=di(e),s=di(t),o=+n-tu(n),i=+s-tu(s);return Math.round((o-i)/zL)}function BL(e){const t=aN(e),n=Qn(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),no(n)}function fm(e,t){const n=t*7;return yn(e,n)}function UL(e,t){return Br(e,t*12)}function VL(e){let t;return e.forEach(function(n){const s=Ke(n);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function WL(e){let t;return e.forEach(n=>{const s=Ke(n);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function Mn(e,t){const n=di(e),s=di(t);return+n==+s}function jg(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function HL(e){if(!jg(e)&&typeof e!="number")return!1;const t=Ke(e);return!isNaN(Number(t))}function Rl(e,t){const n=Ke(e),s=Ke(t),o=n.getFullYear()-s.getFullYear(),i=n.getMonth()-s.getMonth();return o*12+i}function qL(e,t,n){const s=cs(e,n),o=cs(t,n),i=+s-tu(s),c=+o-tu(o);return Math.round((i-c)/kg)}function Ng(e){const t=Ke(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function zn(e){const t=Ke(e);return t.setDate(1),t.setHours(0,0,0,0),t}function oN(e){const t=Ke(e),n=Qn(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Sg(e,t){const n=ql(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ke(e),i=o.getDay(),c=(i<s?-7:0)+6-(i-s);return o.setDate(o.getDate()+c),o.setHours(23,59,59,999),o}function iN(e){return Sg(e,{weekStartsOn:1})}const YL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},KL=(e,t,n)=>{let s;const o=YL[e];return typeof o=="string"?s=o:t===1?s=o.one:s=o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function pp(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const GL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},JL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},XL={date:pp({formats:GL,defaultWidth:"full"}),time:pp({formats:ZL,defaultWidth:"full"}),dateTime:pp({formats:JL,defaultWidth:"full"})},QL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ez=(e,t,n,s)=>QL[e];function il(e){return(t,n)=>{const s=n?.context?String(n.context):"standalone";let o;if(s==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,d=n?.width?String(n.width):c;o=e.formattingValues[d]||e.formattingValues[c]}else{const c=e.defaultWidth,d=n?.width?String(n.width):e.defaultWidth;o=e.values[d]||e.values[c]}const i=e.argumentCallback?e.argumentCallback(t):t;return o[i]}}const tz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},az={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iz=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},lz={ordinalNumber:iz,era:il({values:tz,defaultWidth:"wide"}),quarter:il({values:nz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:il({values:rz,defaultWidth:"wide"}),day:il({values:sz,defaultWidth:"wide"}),dayPeriod:il({values:az,defaultWidth:"wide",formattingValues:oz,defaultFormattingWidth:"wide"})};function ll(e){return(t,n={})=>{const s=n.width,o=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;const c=i[0],d=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(d)?dz(d,p=>p.test(c)):cz(d,p=>p.test(c));let f;f=e.valueCallback?e.valueCallback(h):h,f=n.valueCallback?n.valueCallback(f):f;const m=t.slice(c.length);return{value:f,rest:m}}}function cz(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function dz(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function uz(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const o=s[0],i=t.match(e.parsePattern);if(!i)return null;let c=e.valueCallback?e.valueCallback(i[0]):i[0];c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(o.length);return{value:c,rest:d}}}const fz=/^(\d+)(th|st|nd|rd)?/i,hz=/\d+/i,pz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mz={any:[/^b/i,/^(a|c)/i]},gz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vz={any:[/1/i,/2/i,/3/i,/4/i]},xz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nz={ordinalNumber:uz({matchPattern:fz,parsePattern:hz,valueCallback:e=>parseInt(e,10)}),era:ll({matchPatterns:pz,defaultMatchWidth:"wide",parsePatterns:mz,defaultParseWidth:"any"}),quarter:ll({matchPatterns:gz,defaultMatchWidth:"wide",parsePatterns:vz,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ll({matchPatterns:xz,defaultMatchWidth:"wide",parsePatterns:yz,defaultParseWidth:"any"}),day:ll({matchPatterns:bz,defaultMatchWidth:"wide",parsePatterns:wz,defaultParseWidth:"any"}),dayPeriod:ll({matchPatterns:kz,defaultMatchWidth:"any",parsePatterns:jz,defaultParseWidth:"any"})},lN={code:"en-US",formatDistance:KL,formatLong:XL,formatRelative:ez,localize:lz,match:Nz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Sz(e){const t=Ke(e);return as(t,oN(t))+1}function cN(e){const t=Ke(e),n=+no(t)-+BL(t);return Math.round(n/kg)+1}function dN(e,t){const n=Ke(e),s=n.getFullYear(),o=ql(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,c=Qn(e,0);c.setFullYear(s+1,0,i),c.setHours(0,0,0,0);const d=cs(c,t),h=Qn(e,0);h.setFullYear(s,0,i),h.setHours(0,0,0,0);const f=cs(h,t);return n.getTime()>=d.getTime()?s+1:n.getTime()>=f.getTime()?s:s-1}function Ez(e,t){const n=ql(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=dN(e,t),i=Qn(e,0);return i.setFullYear(o,0,s),i.setHours(0,0,0,0),cs(i,t)}function uN(e,t){const n=Ke(e),s=+cs(n,t)-+Ez(n,t);return Math.round(s/kg)+1}function rt(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const na={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return rt(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):rt(n+1,2)},d(e,t){return rt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return rt(e.getHours()%12||12,t.length)},H(e,t){return rt(e.getHours(),t.length)},m(e,t){return rt(e.getMinutes(),t.length)},s(e,t){return rt(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return rt(o,t.length)}},Xo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gb={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return na.y(e,t)},Y:function(e,t,n,s){const o=dN(e,s),i=o>0?o:1-o;if(t==="YY"){const c=i%100;return rt(c,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):rt(i,t.length)},R:function(e,t){const n=aN(e);return rt(n,t.length)},u:function(e,t){const n=e.getFullYear();return rt(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return rt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return rt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return na.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return rt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const o=uN(e,s);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):rt(o,t.length)},I:function(e,t,n){const s=cN(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):rt(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):na.d(e,t)},D:function(e,t,n){const s=Sz(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):rt(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const o=e.getDay(),i=(o-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return rt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const o=e.getDay(),i=(o-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return rt(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),o=s===0?7:s;switch(t){case"i":return String(o);case"ii":return rt(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let o;switch(s===12?o=Xo.noon:s===0?o=Xo.midnight:o=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let o;switch(s>=17?o=Xo.evening:s>=12?o=Xo.afternoon:s>=4?o=Xo.morning:o=Xo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return na.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):na.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):rt(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):rt(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):na.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):na.s(e,t)},S:function(e,t){return na.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return xb(s);case"XXXX":case"XX":return Ua(s);case"XXXXX":case"XXX":default:return Ua(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return xb(s);case"xxxx":case"xx":return Ua(s);case"xxxxx":case"xxx":default:return Ua(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+vb(s,":");case"OOOO":default:return"GMT"+Ua(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+vb(s,":");case"zzzz":default:return"GMT"+Ua(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return rt(s,t.length)},T:function(e,t,n){const s=e.getTime();return rt(s,t.length)}};function vb(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),o=Math.trunc(s/60),i=s%60;return i===0?n+String(o):n+String(o)+t+rt(i,2)}function xb(e,t){return e%60===0?(e>0?"-":"+")+rt(Math.abs(e)/60,2):Ua(e,t)}function Ua(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),o=rt(Math.trunc(s/60),2),i=rt(s%60,2);return n+o+t+i}const yb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},fN=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},_z=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return yb(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",yb(s,t)).replace("{{time}}",fN(o,t))},Cz={p:fN,P:_z},Tz=/^D+$/,Dz=/^Y+$/,Pz=["D","DD","YY","YYYY"];function Rz(e){return Tz.test(e)}function Az(e){return Dz.test(e)}function Iz(e,t,n){const s=Oz(e,t,n);if(console.warn(s),Pz.includes(e))throw new RangeError(s)}function Oz(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Fz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lz=/^'([^]*?)'?$/,zz=/''/g,$z=/[a-zA-Z]/;function uo(e,t,n){const s=ql(),o=n?.locale??s.locale??lN,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,d=Ke(e);if(!HL(d))throw new RangeError("Invalid time value");let h=t.match(Mz).map(m=>{const p=m[0];if(p==="p"||p==="P"){const x=Cz[p];return x(m,o.formatLong)}return m}).join("").match(Fz).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const p=m[0];if(p==="'")return{isToken:!1,value:Bz(m)};if(gb[p])return{isToken:!0,value:m};if(p.match($z))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:m}});o.localize.preprocessor&&(h=o.localize.preprocessor(d,h));const f={firstWeekContainsDate:i,weekStartsOn:c,locale:o};return h.map(m=>{if(!m.isToken)return m.value;const p=m.value;(!n?.useAdditionalWeekYearTokens&&Az(p)||!n?.useAdditionalDayOfYearTokens&&Rz(p))&&Iz(p,t,String(e));const x=gb[p[0]];return x(d,p,o.localize,f)}).join("")}function Bz(e){const t=e.match(Lz);return t?t[1].replace(zz,"'"):e}function Uz(e){const t=Ke(e),n=t.getFullYear(),s=t.getMonth(),o=Qn(e,0);return o.setFullYear(n,s+1,0),o.setHours(0,0,0,0),o.getDate()}function Vz(e){return Math.trunc(+Ke(e)/1e3)}function Wz(e){const t=Ke(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Hz(e,t){return qL(Wz(e),zn(e),t)+1}function hm(e,t){const n=Ke(e),s=Ke(t);return n.getTime()>s.getTime()}function hN(e,t){const n=Ke(e),s=Ke(t);return+n<+s}function Eg(e,t){const n=Ke(e),s=Ke(t);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function qz(e,t){const n=Ke(e),s=Ke(t);return n.getFullYear()===s.getFullYear()}function mp(e,t){return yn(e,-t)}function gp(e,t){const n=Ke(e),s=n.getFullYear(),o=n.getDate(),i=Qn(e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const c=Uz(i);return n.setMonth(t,Math.min(o,c)),n}function bb(e,t){const n=Ke(e);return isNaN(+n)?Qn(e,NaN):(n.setFullYear(t),n)}var Fe=function(){return Fe=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fe.apply(this,arguments)};function Yz(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n}function pN(e,t,n){for(var s=0,o=t.length,i;s<o;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function Yl(e){return e.mode==="multiple"}function Kl(e){return e.mode==="range"}function Wu(e){return e.mode==="single"}var Kz={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Gz(e,t){return uo(e,"LLLL y",t)}function Zz(e,t){return uo(e,"d",t)}function Jz(e,t){return uo(e,"LLLL",t)}function Xz(e){return"".concat(e)}function Qz(e,t){return uo(e,"cccccc",t)}function e$(e,t){return uo(e,"yyyy",t)}var t$=Object.freeze({__proto__:null,formatCaption:Gz,formatDay:Zz,formatMonthCaption:Jz,formatWeekNumber:Xz,formatWeekdayName:Qz,formatYearCaption:e$}),n$=function(e,t,n){return uo(e,"do MMMM (EEEE)",n)},r$=function(){return"Month: "},s$=function(){return"Go to next month"},a$=function(){return"Go to previous month"},o$=function(e,t){return uo(e,"cccc",t)},i$=function(e){return"Week n. ".concat(e)},l$=function(){return"Year: "},c$=Object.freeze({__proto__:null,labelDay:n$,labelMonthDropdown:r$,labelNext:s$,labelPrevious:a$,labelWeekNumber:i$,labelWeekday:o$,labelYearDropdown:l$});function d$(){var e="buttons",t=Kz,n=lN,s={},o={},i=1,c={},d=new Date;return{captionLayout:e,classNames:t,formatters:t$,labels:c$,locale:n,modifiersClassNames:s,modifiers:o,numberOfMonths:i,styles:c,today:d,mode:"default"}}function u$(e){var t=e.fromYear,n=e.toYear,s=e.fromMonth,o=e.toMonth,i=e.fromDate,c=e.toDate;return s?i=zn(s):t&&(i=new Date(t,0,1)),o?c=Ng(o):n&&(c=new Date(n,11,31)),{fromDate:i?di(i):void 0,toDate:c?di(c):void 0}}var mN=v.createContext(void 0);function f$(e){var t,n=e.initialProps,s=d$(),o=u$(n),i=o.fromDate,c=o.toDate,d=(t=n.captionLayout)!==null&&t!==void 0?t:s.captionLayout;d!=="buttons"&&(!i||!c)&&(d="buttons");var h;(Wu(n)||Yl(n)||Kl(n))&&(h=n.onSelect);var f=Fe(Fe(Fe({},s),n),{captionLayout:d,classNames:Fe(Fe({},s.classNames),n.classNames),components:Fe({},n.components),formatters:Fe(Fe({},s.formatters),n.formatters),fromDate:i,labels:Fe(Fe({},s.labels),n.labels),mode:n.mode||s.mode,modifiers:Fe(Fe({},s.modifiers),n.modifiers),modifiersClassNames:Fe(Fe({},s.modifiersClassNames),n.modifiersClassNames),onSelect:h,styles:Fe(Fe({},s.styles),n.styles),toDate:c});return r.jsx(mN.Provider,{value:f,children:e.children})}function ut(){var e=v.useContext(mN);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function gN(e){var t=ut(),n=t.locale,s=t.classNames,o=t.styles,i=t.formatters.formatCaption;return r.jsx("div",{className:s.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function h$(e){return r.jsx("svg",Fe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:r.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function vN(e){var t,n,s=e.onChange,o=e.value,i=e.children,c=e.caption,d=e.className,h=e.style,f=ut(),m=(n=(t=f.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:h$;return r.jsxs("div",{className:d,style:h,children:[r.jsx("span",{className:f.classNames.vhidden,children:e["aria-label"]}),r.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:o,onChange:s,children:i}),r.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[c,r.jsx(m,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function p$(e){var t,n=ut(),s=n.fromDate,o=n.toDate,i=n.styles,c=n.locale,d=n.formatters.formatMonthCaption,h=n.classNames,f=n.components,m=n.labels.labelMonthDropdown;if(!s)return r.jsx(r.Fragment,{});if(!o)return r.jsx(r.Fragment,{});var p=[];if(qz(s,o))for(var x=zn(s),b=s.getMonth();b<=o.getMonth();b++)p.push(gp(x,b));else for(var x=zn(new Date),b=0;b<=11;b++)p.push(gp(x,b));var w=function(N){var E=Number(N.target.value),S=gp(zn(e.displayMonth),E);e.onChange(S)},k=(t=f?.Dropdown)!==null&&t!==void 0?t:vN;return r.jsx(k,{name:"months","aria-label":m(),className:h.dropdown_month,style:i.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:d(e.displayMonth,{locale:c}),children:p.map(function(N){return r.jsx("option",{value:N.getMonth(),children:d(N,{locale:c})},N.getMonth())})})}function m$(e){var t,n=e.displayMonth,s=ut(),o=s.fromDate,i=s.toDate,c=s.locale,d=s.styles,h=s.classNames,f=s.components,m=s.formatters.formatYearCaption,p=s.labels.labelYearDropdown,x=[];if(!o)return r.jsx(r.Fragment,{});if(!i)return r.jsx(r.Fragment,{});for(var b=o.getFullYear(),w=i.getFullYear(),k=b;k<=w;k++)x.push(bb(oN(new Date),k));var N=function(S){var C=bb(zn(n),Number(S.target.value));e.onChange(C)},E=(t=f?.Dropdown)!==null&&t!==void 0?t:vN;return r.jsx(E,{name:"years","aria-label":p(),className:h.dropdown_year,style:d.dropdown_year,onChange:N,value:n.getFullYear(),caption:m(n,{locale:c}),children:x.map(function(S){return r.jsx("option",{value:S.getFullYear(),children:m(S,{locale:c})},S.getFullYear())})})}function g$(e,t){var n=v.useState(e),s=n[0],o=n[1],i=t===void 0?s:t;return[i,o]}function v$(e){var t=e.month,n=e.defaultMonth,s=e.today,o=t||n||s||new Date,i=e.toDate,c=e.fromDate,d=e.numberOfMonths,h=d===void 0?1:d;if(i&&Rl(i,o)<0){var f=-1*(h-1);o=Br(i,f)}return c&&Rl(o,c)<0&&(o=c),zn(o)}function x$(){var e=ut(),t=v$(e),n=g$(t,e.month),s=n[0],o=n[1],i=function(c){var d;if(!e.disableNavigation){var h=zn(c);o(h),(d=e.onMonthChange)===null||d===void 0||d.call(e,h)}};return[s,i]}function y$(e,t){for(var n=t.reverseMonths,s=t.numberOfMonths,o=zn(e),i=zn(Br(o,s)),c=Rl(i,o),d=[],h=0;h<c;h++){var f=Br(o,h);d.push(f)}return n&&(d=d.reverse()),d}function b$(e,t){if(!t.disableNavigation){var n=t.toDate,s=t.pagedNavigation,o=t.numberOfMonths,i=o===void 0?1:o,c=s?i:1,d=zn(e);if(!n)return Br(d,c);var h=Rl(n,e);if(!(h<i))return Br(d,c)}}function w$(e,t){if(!t.disableNavigation){var n=t.fromDate,s=t.pagedNavigation,o=t.numberOfMonths,i=o===void 0?1:o,c=s?i:1,d=zn(e);if(!n)return Br(d,-c);var h=Rl(d,n);if(!(h<=0))return Br(d,-c)}}var xN=v.createContext(void 0);function k$(e){var t=ut(),n=x$(),s=n[0],o=n[1],i=y$(s,t),c=b$(s,t),d=w$(s,t),h=function(p){return i.some(function(x){return Eg(p,x)})},f=function(p,x){h(p)||(x&&hN(p,x)?o(Br(p,1+t.numberOfMonths*-1)):o(p))},m={currentMonth:s,displayMonths:i,goToMonth:o,goToDate:f,previousMonth:d,nextMonth:c,isDateDisplayed:h};return r.jsx(xN.Provider,{value:m,children:e.children})}function Gl(){var e=v.useContext(xN);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function wb(e){var t,n=ut(),s=n.classNames,o=n.styles,i=n.components,c=Gl().goToMonth,d=function(m){c(Br(m,e.displayIndex?-e.displayIndex:0))},h=(t=i?.CaptionLabel)!==null&&t!==void 0?t:gN,f=r.jsx(h,{id:e.id,displayMonth:e.displayMonth});return r.jsxs("div",{className:s.caption_dropdowns,style:o.caption_dropdowns,children:[r.jsx("div",{className:s.vhidden,children:f}),r.jsx(p$,{onChange:d,displayMonth:e.displayMonth}),r.jsx(m$,{onChange:d,displayMonth:e.displayMonth})]})}function j$(e){return r.jsx("svg",Fe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function N$(e){return r.jsx("svg",Fe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var nu=v.forwardRef(function(e,t){var n=ut(),s=n.classNames,o=n.styles,i=[s.button_reset,s.button];e.className&&i.push(e.className);var c=i.join(" "),d=Fe(Fe({},o.button_reset),o.button);return e.style&&Object.assign(d,e.style),r.jsx("button",Fe({},e,{ref:t,type:"button",className:c,style:d}))});function S$(e){var t,n,s=ut(),o=s.dir,i=s.locale,c=s.classNames,d=s.styles,h=s.labels,f=h.labelPrevious,m=h.labelNext,p=s.components;if(!e.nextMonth&&!e.previousMonth)return r.jsx(r.Fragment,{});var x=f(e.previousMonth,{locale:i}),b=[c.nav_button,c.nav_button_previous].join(" "),w=m(e.nextMonth,{locale:i}),k=[c.nav_button,c.nav_button_next].join(" "),N=(t=p?.IconRight)!==null&&t!==void 0?t:N$,E=(n=p?.IconLeft)!==null&&n!==void 0?n:j$;return r.jsxs("div",{className:c.nav,style:d.nav,children:[!e.hidePrevious&&r.jsx(nu,{name:"previous-month","aria-label":x,className:b,style:d.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?r.jsx(N,{className:c.nav_icon,style:d.nav_icon}):r.jsx(E,{className:c.nav_icon,style:d.nav_icon})}),!e.hideNext&&r.jsx(nu,{name:"next-month","aria-label":w,className:k,style:d.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?r.jsx(E,{className:c.nav_icon,style:d.nav_icon}):r.jsx(N,{className:c.nav_icon,style:d.nav_icon})})]})}function kb(e){var t=ut().numberOfMonths,n=Gl(),s=n.previousMonth,o=n.nextMonth,i=n.goToMonth,c=n.displayMonths,d=c.findIndex(function(w){return Eg(e.displayMonth,w)}),h=d===0,f=d===c.length-1,m=t>1&&(h||!f),p=t>1&&(f||!h),x=function(){s&&i(s)},b=function(){o&&i(o)};return r.jsx(S$,{displayMonth:e.displayMonth,hideNext:m,hidePrevious:p,nextMonth:o,previousMonth:s,onPreviousClick:x,onNextClick:b})}function E$(e){var t,n=ut(),s=n.classNames,o=n.disableNavigation,i=n.styles,c=n.captionLayout,d=n.components,h=(t=d?.CaptionLabel)!==null&&t!==void 0?t:gN,f;return o?f=r.jsx(h,{id:e.id,displayMonth:e.displayMonth}):c==="dropdown"?f=r.jsx(wb,{displayMonth:e.displayMonth,id:e.id}):c==="dropdown-buttons"?f=r.jsxs(r.Fragment,{children:[r.jsx(wb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),r.jsx(kb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):f=r.jsxs(r.Fragment,{children:[r.jsx(h,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(kb,{displayMonth:e.displayMonth,id:e.id})]}),r.jsx("div",{className:s.caption,style:i.caption,children:f})}function _$(e){var t=ut(),n=t.footer,s=t.styles,o=t.classNames.tfoot;return n?r.jsx("tfoot",{className:o,style:s.tfoot,children:r.jsx("tr",{children:r.jsx("td",{colSpan:8,children:n})})}):r.jsx(r.Fragment,{})}function C$(e,t,n){for(var s=n?no(new Date):cs(new Date,{locale:e,weekStartsOn:t}),o=[],i=0;i<7;i++){var c=yn(s,i);o.push(c)}return o}function T$(){var e=ut(),t=e.classNames,n=e.styles,s=e.showWeekNumber,o=e.locale,i=e.weekStartsOn,c=e.ISOWeek,d=e.formatters.formatWeekdayName,h=e.labels.labelWeekday,f=C$(o,i,c);return r.jsxs("tr",{style:n.head_row,className:t.head_row,children:[s&&r.jsx("td",{style:n.head_cell,className:t.head_cell}),f.map(function(m,p){return r.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":h(m,{locale:o}),children:d(m,{locale:o})},p)})]})}function D$(){var e,t=ut(),n=t.classNames,s=t.styles,o=t.components,i=(e=o?.HeadRow)!==null&&e!==void 0?e:T$;return r.jsx("thead",{style:s.head,className:n.head,children:r.jsx(i,{})})}function P$(e){var t=ut(),n=t.locale,s=t.formatters.formatDay;return r.jsx(r.Fragment,{children:s(e.date,{locale:n})})}var _g=v.createContext(void 0);function R$(e){if(!Yl(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return r.jsx(_g.Provider,{value:t,children:e.children})}return r.jsx(A$,{initialProps:e.initialProps,children:e.children})}function A$(e){var t=e.initialProps,n=e.children,s=t.selected,o=t.min,i=t.max,c=function(f,m,p){var x,b;(x=t.onDayClick)===null||x===void 0||x.call(t,f,m,p);var w=!!(m.selected&&o&&s?.length===o);if(!w){var k=!!(!m.selected&&i&&s?.length===i);if(!k){var N=s?pN([],s):[];if(m.selected){var E=N.findIndex(function(S){return Mn(f,S)});N.splice(E,1)}else N.push(f);(b=t.onSelect)===null||b===void 0||b.call(t,N,f,m,p)}}},d={disabled:[]};s&&d.disabled.push(function(f){var m=i&&s.length>i-1,p=s.some(function(x){return Mn(x,f)});return!!(m&&!p)});var h={selected:s,onDayClick:c,modifiers:d};return r.jsx(_g.Provider,{value:h,children:n})}function Cg(){var e=v.useContext(_g);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function I$(e,t){var n=t||{},s=n.from,o=n.to;return s&&o?Mn(o,e)&&Mn(s,e)?void 0:Mn(o,e)?{from:o,to:void 0}:Mn(s,e)?void 0:hm(s,e)?{from:e,to:o}:{from:s,to:e}:o?hm(e,o)?{from:o,to:e}:{from:e,to:o}:s?hN(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var Tg=v.createContext(void 0);function O$(e){if(!Kl(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return r.jsx(Tg.Provider,{value:t,children:e.children})}return r.jsx(F$,{initialProps:e.initialProps,children:e.children})}function F$(e){var t=e.initialProps,n=e.children,s=t.selected,o=s||{},i=o.from,c=o.to,d=t.min,h=t.max,f=function(b,w,k){var N,E;(N=t.onDayClick)===null||N===void 0||N.call(t,b,w,k);var S=I$(b,s);(E=t.onSelect)===null||E===void 0||E.call(t,S,b,w,k)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(m.range_start=[i],c?(m.range_end=[c],Mn(i,c)||(m.range_middle=[{after:i,before:c}])):m.range_end=[i]):c&&(m.range_start=[c],m.range_end=[c]),d&&(i&&!c&&m.disabled.push({after:mp(i,d-1),before:yn(i,d-1)}),i&&c&&m.disabled.push({after:i,before:yn(i,d-1)}),!i&&c&&m.disabled.push({after:mp(c,d-1),before:yn(c,d-1)})),h){if(i&&!c&&(m.disabled.push({before:yn(i,-h+1)}),m.disabled.push({after:yn(i,h-1)})),i&&c){var p=as(c,i)+1,x=h-p;m.disabled.push({before:mp(i,x)}),m.disabled.push({after:yn(c,x)})}!i&&c&&(m.disabled.push({before:yn(c,-h+1)}),m.disabled.push({after:yn(c,h-1)}))}return r.jsx(Tg.Provider,{value:{selected:s,onDayClick:f,modifiers:m},children:n})}function Dg(){var e=v.useContext(Tg);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Pd(e){return Array.isArray(e)?pN([],e):e!==void 0?[e]:[]}function M$(e){var t={};return Object.entries(e).forEach(function(n){var s=n[0],o=n[1];t[s]=Pd(o)}),t}var Ur;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ur||(Ur={}));var L$=Ur.Selected,Ss=Ur.Disabled,z$=Ur.Hidden,$$=Ur.Today,vp=Ur.RangeEnd,xp=Ur.RangeMiddle,yp=Ur.RangeStart,B$=Ur.Outside;function U$(e,t,n){var s,o=(s={},s[L$]=Pd(e.selected),s[Ss]=Pd(e.disabled),s[z$]=Pd(e.hidden),s[$$]=[e.today],s[vp]=[],s[xp]=[],s[yp]=[],s[B$]=[],s);return e.fromDate&&o[Ss].push({before:e.fromDate}),e.toDate&&o[Ss].push({after:e.toDate}),Yl(e)?o[Ss]=o[Ss].concat(t.modifiers[Ss]):Kl(e)&&(o[Ss]=o[Ss].concat(n.modifiers[Ss]),o[yp]=n.modifiers[yp],o[xp]=n.modifiers[xp],o[vp]=n.modifiers[vp]),o}var yN=v.createContext(void 0);function V$(e){var t=ut(),n=Cg(),s=Dg(),o=U$(t,n,s),i=M$(t.modifiers),c=Fe(Fe({},o),i);return r.jsx(yN.Provider,{value:c,children:e.children})}function bN(){var e=v.useContext(yN);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function W$(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function H$(e){return!!(e&&typeof e=="object"&&"from"in e)}function q$(e){return!!(e&&typeof e=="object"&&"after"in e)}function Y$(e){return!!(e&&typeof e=="object"&&"before"in e)}function K$(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function G$(e,t){var n,s=t.from,o=t.to;if(s&&o){var i=as(o,s)<0;i&&(n=[o,s],s=n[0],o=n[1]);var c=as(e,s)>=0&&as(o,e)>=0;return c}return o?Mn(o,e):s?Mn(s,e):!1}function Z$(e){return jg(e)}function J$(e){return Array.isArray(e)&&e.every(jg)}function X$(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(Z$(n))return Mn(e,n);if(J$(n))return n.includes(e);if(H$(n))return G$(e,n);if(K$(n))return n.dayOfWeek.includes(e.getDay());if(W$(n)){var s=as(n.before,e),o=as(n.after,e),i=s>0,c=o<0,d=hm(n.before,n.after);return d?c&&i:i||c}return q$(n)?as(e,n.after)>0:Y$(n)?as(n.before,e)>0:typeof n=="function"?n(e):!1})}function Pg(e,t,n){var s=Object.keys(t).reduce(function(i,c){var d=t[c];return X$(e,d)&&i.push(c),i},[]),o={};return s.forEach(function(i){return o[i]=!0}),n&&!Eg(e,n)&&(o.outside=!0),o}function Q$(e,t){for(var n=zn(e[0]),s=Ng(e[e.length-1]),o,i,c=n;c<=s;){var d=Pg(c,t),h=!d.disabled&&!d.hidden;if(!h){c=yn(c,1);continue}if(d.selected)return c;d.today&&!i&&(i=c),o||(o=c),c=yn(c,1)}return i||o}var eB=365;function wN(e,t){var n=t.moveBy,s=t.direction,o=t.context,i=t.modifiers,c=t.retry,d=c===void 0?{count:0,lastFocused:e}:c,h=o.weekStartsOn,f=o.fromDate,m=o.toDate,p=o.locale,x={day:yn,week:fm,month:Br,year:UL,startOfWeek:function(N){return o.ISOWeek?no(N):cs(N,{locale:p,weekStartsOn:h})},endOfWeek:function(N){return o.ISOWeek?iN(N):Sg(N,{locale:p,weekStartsOn:h})}},b=x[n](e,s==="after"?1:-1);s==="before"&&f?b=VL([f,b]):s==="after"&&m&&(b=WL([m,b]));var w=!0;if(i){var k=Pg(b,i);w=!k.disabled&&!k.hidden}return w?b:d.count>eB?d.lastFocused:wN(b,{moveBy:n,direction:s,context:o,modifiers:i,retry:Fe(Fe({},d),{count:d.count+1})})}var kN=v.createContext(void 0);function tB(e){var t=Gl(),n=bN(),s=v.useState(),o=s[0],i=s[1],c=v.useState(),d=c[0],h=c[1],f=Q$(t.displayMonths,n),m=o??(d&&t.isDateDisplayed(d))?d:f,p=function(){h(o),i(void 0)},x=function(N){i(N)},b=ut(),w=function(N,E){if(o){var S=wN(o,{moveBy:N,direction:E,context:b,modifiers:n});Mn(o,S)||(t.goToDate(S,o),x(S))}},k={focusedDay:o,focusTarget:m,blur:p,focus:x,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return r.jsx(kN.Provider,{value:k,children:e.children})}function Rg(){var e=v.useContext(kN);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function nB(e,t){var n=bN(),s=Pg(e,n,t);return s}var Ag=v.createContext(void 0);function rB(e){if(!Wu(e.initialProps)){var t={selected:void 0};return r.jsx(Ag.Provider,{value:t,children:e.children})}return r.jsx(sB,{initialProps:e.initialProps,children:e.children})}function sB(e){var t=e.initialProps,n=e.children,s=function(i,c,d){var h,f,m;if((h=t.onDayClick)===null||h===void 0||h.call(t,i,c,d),c.selected&&!t.required){(f=t.onSelect)===null||f===void 0||f.call(t,void 0,i,c,d);return}(m=t.onSelect)===null||m===void 0||m.call(t,i,i,c,d)},o={selected:t.selected,onDayClick:s};return r.jsx(Ag.Provider,{value:o,children:n})}function jN(){var e=v.useContext(Ag);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function aB(e,t){var n=ut(),s=jN(),o=Cg(),i=Dg(),c=Rg(),d=c.focusDayAfter,h=c.focusDayBefore,f=c.focusWeekAfter,m=c.focusWeekBefore,p=c.blur,x=c.focus,b=c.focusMonthBefore,w=c.focusMonthAfter,k=c.focusYearBefore,N=c.focusYearAfter,E=c.focusStartOfWeek,S=c.focusEndOfWeek,C=function(q){var M,X,ae,I;Wu(n)?(M=s.onDayClick)===null||M===void 0||M.call(s,e,t,q):Yl(n)?(X=o.onDayClick)===null||X===void 0||X.call(o,e,t,q):Kl(n)?(ae=i.onDayClick)===null||ae===void 0||ae.call(i,e,t,q):(I=n.onDayClick)===null||I===void 0||I.call(n,e,t,q)},D=function(q){var M;x(e),(M=n.onDayFocus)===null||M===void 0||M.call(n,e,t,q)},_=function(q){var M;p(),(M=n.onDayBlur)===null||M===void 0||M.call(n,e,t,q)},A=function(q){var M;(M=n.onDayMouseEnter)===null||M===void 0||M.call(n,e,t,q)},P=function(q){var M;(M=n.onDayMouseLeave)===null||M===void 0||M.call(n,e,t,q)},F=function(q){var M;(M=n.onDayPointerEnter)===null||M===void 0||M.call(n,e,t,q)},W=function(q){var M;(M=n.onDayPointerLeave)===null||M===void 0||M.call(n,e,t,q)},U=function(q){var M;(M=n.onDayTouchCancel)===null||M===void 0||M.call(n,e,t,q)},G=function(q){var M;(M=n.onDayTouchEnd)===null||M===void 0||M.call(n,e,t,q)},ne=function(q){var M;(M=n.onDayTouchMove)===null||M===void 0||M.call(n,e,t,q)},V=function(q){var M;(M=n.onDayTouchStart)===null||M===void 0||M.call(n,e,t,q)},re=function(q){var M;(M=n.onDayKeyUp)===null||M===void 0||M.call(n,e,t,q)},pe=function(q){var M;switch(q.key){case"ArrowLeft":q.preventDefault(),q.stopPropagation(),n.dir==="rtl"?d():h();break;case"ArrowRight":q.preventDefault(),q.stopPropagation(),n.dir==="rtl"?h():d();break;case"ArrowDown":q.preventDefault(),q.stopPropagation(),f();break;case"ArrowUp":q.preventDefault(),q.stopPropagation(),m();break;case"PageUp":q.preventDefault(),q.stopPropagation(),q.shiftKey?k():b();break;case"PageDown":q.preventDefault(),q.stopPropagation(),q.shiftKey?N():w();break;case"Home":q.preventDefault(),q.stopPropagation(),E();break;case"End":q.preventDefault(),q.stopPropagation(),S();break}(M=n.onDayKeyDown)===null||M===void 0||M.call(n,e,t,q)},se={onClick:C,onFocus:D,onBlur:_,onKeyDown:pe,onKeyUp:re,onMouseEnter:A,onMouseLeave:P,onPointerEnter:F,onPointerLeave:W,onTouchCancel:U,onTouchEnd:G,onTouchMove:ne,onTouchStart:V};return se}function oB(){var e=ut(),t=jN(),n=Cg(),s=Dg(),o=Wu(e)?t.selected:Yl(e)?n.selected:Kl(e)?s.selected:void 0;return o}function iB(e){return Object.values(Ur).includes(e)}function lB(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(s){var o=e.modifiersClassNames[s];if(o)n.push(o);else if(iB(s)){var i=e.classNames["day_".concat(s)];i&&n.push(i)}}),n}function cB(e,t){var n=Fe({},e.styles.day);return Object.keys(t).forEach(function(s){var o;n=Fe(Fe({},n),(o=e.modifiersStyles)===null||o===void 0?void 0:o[s])}),n}function dB(e,t,n){var s,o,i,c=ut(),d=Rg(),h=nB(e,t),f=aB(e,h),m=oB(),p=!!(c.onDayClick||c.mode!=="default");v.useEffect(function(){var A;h.outside||d.focusedDay&&p&&Mn(d.focusedDay,e)&&((A=n.current)===null||A===void 0||A.focus())},[d.focusedDay,e,n,p,h.outside]);var x=lB(c,h).join(" "),b=cB(c,h),w=!!(h.outside&&!c.showOutsideDays||h.hidden),k=(i=(o=c.components)===null||o===void 0?void 0:o.DayContent)!==null&&i!==void 0?i:P$,N=r.jsx(k,{date:e,displayMonth:t,activeModifiers:h}),E={style:b,className:x,children:N,role:"gridcell"},S=d.focusTarget&&Mn(d.focusTarget,e)&&!h.outside,C=d.focusedDay&&Mn(d.focusedDay,e),D=Fe(Fe(Fe({},E),(s={disabled:h.disabled,role:"gridcell"},s["aria-selected"]=h.selected,s.tabIndex=C||S?0:-1,s)),f),_={isButton:p,isHidden:w,activeModifiers:h,selectedDays:m,buttonProps:D,divProps:E};return _}function uB(e){var t=v.useRef(null),n=dB(e.date,e.displayMonth,t);return n.isHidden?r.jsx("div",{role:"gridcell"}):n.isButton?r.jsx(nu,Fe({name:"day",ref:t},n.buttonProps)):r.jsx("div",Fe({},n.divProps))}function fB(e){var t=e.number,n=e.dates,s=ut(),o=s.onWeekNumberClick,i=s.styles,c=s.classNames,d=s.locale,h=s.labels.labelWeekNumber,f=s.formatters.formatWeekNumber,m=f(Number(t),{locale:d});if(!o)return r.jsx("span",{className:c.weeknumber,style:i.weeknumber,children:m});var p=h(Number(t),{locale:d}),x=function(b){o(t,n,b)};return r.jsx(nu,{name:"week-number","aria-label":p,className:c.weeknumber,style:i.weeknumber,onClick:x,children:m})}function hB(e){var t,n,s=ut(),o=s.styles,i=s.classNames,c=s.showWeekNumber,d=s.components,h=(t=d?.Day)!==null&&t!==void 0?t:uB,f=(n=d?.WeekNumber)!==null&&n!==void 0?n:fB,m;return c&&(m=r.jsx("td",{className:i.cell,style:o.cell,children:r.jsx(f,{number:e.weekNumber,dates:e.dates})})),r.jsxs("tr",{className:i.row,style:o.row,children:[m,e.dates.map(function(p){return r.jsx("td",{className:i.cell,style:o.cell,role:"presentation",children:r.jsx(h,{displayMonth:e.displayMonth,date:p})},Vz(p))})]})}function jb(e,t,n){for(var s=n?.ISOWeek?iN(t):Sg(t,n),o=n?.ISOWeek?no(e):cs(e,n),i=as(s,o),c=[],d=0;d<=i;d++)c.push(yn(o,d));var h=c.reduce(function(f,m){var p=n?.ISOWeek?cN(m):uN(m,n),x=f.find(function(b){return b.weekNumber===p});return x?(x.dates.push(m),f):(f.push({weekNumber:p,dates:[m]}),f)},[]);return h}function pB(e,t){var n=jb(zn(e),Ng(e),t);if(t?.useFixedWeeks){var s=Hz(e,t);if(s<6){var o=n[n.length-1],i=o.dates[o.dates.length-1],c=fm(i,6-s),d=jb(fm(i,1),c,t);n.push.apply(n,d)}}return n}function mB(e){var t,n,s,o=ut(),i=o.locale,c=o.classNames,d=o.styles,h=o.hideHead,f=o.fixedWeeks,m=o.components,p=o.weekStartsOn,x=o.firstWeekContainsDate,b=o.ISOWeek,w=pB(e.displayMonth,{useFixedWeeks:!!f,ISOWeek:b,locale:i,weekStartsOn:p,firstWeekContainsDate:x}),k=(t=m?.Head)!==null&&t!==void 0?t:D$,N=(n=m?.Row)!==null&&n!==void 0?n:hB,E=(s=m?.Footer)!==null&&s!==void 0?s:_$;return r.jsxs("table",{id:e.id,className:c.table,style:d.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!h&&r.jsx(k,{}),r.jsx("tbody",{className:c.tbody,style:d.tbody,children:w.map(function(S){return r.jsx(N,{displayMonth:e.displayMonth,dates:S.dates,weekNumber:S.weekNumber},S.weekNumber)})}),r.jsx(E,{displayMonth:e.displayMonth})]})}function gB(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var vB=gB()?v.useLayoutEffect:v.useEffect,bp=!1,xB=0;function Nb(){return"react-day-picker-".concat(++xB)}function yB(e){var t,n=e??(bp?Nb():null),s=v.useState(n),o=s[0],i=s[1];return vB(function(){o===null&&i(Nb())},[]),v.useEffect(function(){bp===!1&&(bp=!0)},[]),(t=e??o)!==null&&t!==void 0?t:void 0}function bB(e){var t,n,s=ut(),o=s.dir,i=s.classNames,c=s.styles,d=s.components,h=Gl().displayMonths,f=yB(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),m=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,p=[i.month],x=c.month,b=e.displayIndex===0,w=e.displayIndex===h.length-1,k=!b&&!w;o==="rtl"&&(t=[b,w],w=t[0],b=t[1]),b&&(p.push(i.caption_start),x=Fe(Fe({},x),c.caption_start)),w&&(p.push(i.caption_end),x=Fe(Fe({},x),c.caption_end)),k&&(p.push(i.caption_between),x=Fe(Fe({},x),c.caption_between));var N=(n=d?.Caption)!==null&&n!==void 0?n:E$;return r.jsxs("div",{className:p.join(" "),style:x,children:[r.jsx(N,{id:f,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(mB,{id:m,"aria-labelledby":f,displayMonth:e.displayMonth})]},e.displayIndex)}function wB(e){var t=ut(),n=t.classNames,s=t.styles;return r.jsx("div",{className:n.months,style:s.months,children:e.children})}function kB(e){var t,n,s=e.initialProps,o=ut(),i=Rg(),c=Gl(),d=v.useState(!1),h=d[0],f=d[1];v.useEffect(function(){o.initialFocus&&i.focusTarget&&(h||(i.focus(i.focusTarget),f(!0)))},[o.initialFocus,h,i.focus,i.focusTarget,i]);var m=[o.classNames.root,o.className];o.numberOfMonths>1&&m.push(o.classNames.multiple_months),o.showWeekNumber&&m.push(o.classNames.with_weeknumber);var p=Fe(Fe({},o.styles.root),o.style),x=Object.keys(s).filter(function(w){return w.startsWith("data-")}).reduce(function(w,k){var N;return Fe(Fe({},w),(N={},N[k]=s[k],N))},{}),b=(n=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:wB;return r.jsx("div",Fe({className:m.join(" "),style:p,dir:o.dir,id:o.id,nonce:s.nonce,title:s.title,lang:s.lang},x,{children:r.jsx(b,{children:c.displayMonths.map(function(w,k){return r.jsx(bB,{displayIndex:k,displayMonth:w},k)})})}))}function jB(e){var t=e.children,n=Yz(e,["children"]);return r.jsx(f$,{initialProps:n,children:r.jsx(k$,{children:r.jsx(rB,{initialProps:n,children:r.jsx(R$,{initialProps:n,children:r.jsx(O$,{initialProps:n,children:r.jsx(V$,{children:r.jsx(tB,{children:t})})})})})})})}function NB(e){return r.jsx(jB,Fe({},e,{children:r.jsx(kB,{initialProps:e})}))}function SB({className:e,classNames:t,showOutsideDays:n=!0,...s}){return r.jsx(NB,{showOutsideDays:n,className:Ie("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Ie(Kp({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Ie("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",s.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Ie(Kp({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:o,...i})=>r.jsx(Jn,{className:Ie("size-4",o),...i}),IconRight:({className:o,...i})=>r.jsx(hi,{className:Ie("size-4",o),...i})},...s})}function EB({villas:e}){const[t,n]=v.useState([]),[s,o]=v.useState(new Date),[i,c]=v.useState("personal"),[d,h]=v.useState(!1),[f,m]=v.useState({title:"",description:"",startDate:"",endDate:"",type:"event"});v.useEffect(()=>{p()},[i]);const p=async()=>{try{const w=i==="personal"?"":`?villaId=${i}`,{events:k}=await de(`/events${w}`);n(k||[])}catch(w){console.error("Error loading events:",w),K.error("Failed to load events")}},x=async w=>{w.preventDefault();try{await de("/events",{method:"POST",body:JSON.stringify({villaId:i==="personal"?null:i,title:f.title,description:f.description,startDate:f.startDate,endDate:f.endDate||f.startDate,type:f.type})}),K.success("Event created successfully!"),h(!1),m({title:"",description:"",startDate:"",endDate:"",type:"event"}),p()}catch(k){console.error("Error creating event:",k),K.error(k.message||"Failed to create event")}},b=s?t.filter(w=>{const k=new Date(w.startDate),N=new Date(w.endDate),E=s;return E>=k&&E<=N}):[];return t.map(w=>new Date(w.startDate)),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl",children:"Calendar"}),r.jsx("p",{className:"text-gray-600",children:"View and manage events"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(Nt,{value:i,onValueChange:c,children:[r.jsx(Et,{className:"w-48",children:r.jsx(St,{})}),r.jsxs(_t,{children:[r.jsx(xe,{value:"personal",children:"Personal Calendar"}),e.map(w=>r.jsx(xe,{value:w.id,children:w.name},w.id))]})]}),r.jsxs(Lr,{open:d,onOpenChange:h,children:[r.jsx(Ps,{asChild:!0,children:r.jsxs(ze,{children:[r.jsx(bt,{className:"mr-2 h-4 w-4"}),"Add Event"]})}),r.jsxs(zr,{children:[r.jsx(Rs,{children:r.jsx($r,{children:"Create New Event"})}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"title",children:"Event Title"}),r.jsx(an,{id:"title",placeholder:"e.g., Villa cleaning ceremony",value:f.title,onChange:w=>m({...f,title:w.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"type",children:"Event Type"}),r.jsxs(Nt,{value:f.type,onValueChange:w=>m({...f,type:w}),children:[r.jsx(Et,{children:r.jsx(St,{})}),r.jsxs(_t,{children:[r.jsx(xe,{value:"event",children:"General Event"}),r.jsx(xe,{value:"ceremony",children:"Ceremony"}),r.jsx(xe,{value:"maintenance",children:"Maintenance"}),r.jsx(xe,{value:"day_off",children:"Day Off"}),r.jsx(xe,{value:"lease",children:"Lease Date"})]})]})]}),r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"startDate",children:"Start Date"}),r.jsx(an,{id:"startDate",type:"date",value:f.startDate,onChange:w=>m({...f,startDate:w.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"endDate",children:"End Date (optional)"}),r.jsx(an,{id:"endDate",type:"date",value:f.endDate,onChange:w=>m({...f,endDate:w.target.value})})]}),r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"description",children:"Description"}),r.jsx(Hl,{id:"description",placeholder:"Event details...",value:f.description,onChange:w=>m({...f,description:w.target.value})})]}),r.jsx(to,{children:r.jsx(ze,{type:"submit",children:"Create Event"})})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs(He,{className:"lg:col-span-2",children:[r.jsx(It,{children:r.jsx(Ot,{children:i==="personal"?"Personal Calendar":e.find(w=>w.id===i)?.name})}),r.jsx(Je,{className:"flex justify-center",children:r.jsx(SB,{mode:"single",selected:s,onSelect:o,className:"rounded-md border"})})]}),r.jsxs(He,{children:[r.jsx(It,{children:r.jsxs(Ot,{className:"text-base",children:["Events on ",s?.toLocaleDateString()]})}),r.jsx(Je,{children:b.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(tt,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-gray-500",children:"No events on this date"})]}):r.jsx("div",{className:"space-y-3",children:b.map(w=>r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg space-y-2",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx("h4",{children:w.title}),r.jsx(Ht,{variant:"secondary",className:"capitalize",children:w.type.replace("_"," ")})]}),w.description&&r.jsx("p",{className:"text-sm text-gray-600",children:w.description}),r.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(w.startDate).toLocaleDateString()," -"," ",new Date(w.endDate).toLocaleDateString()]})]},w.id))})})]})]}),r.jsxs(He,{children:[r.jsx(It,{children:r.jsx(Ot,{children:"Upcoming Events"})}),r.jsx(Je,{children:t.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No events scheduled"}):r.jsx("div",{className:"space-y-3",children:t.filter(w=>new Date(w.startDate)>=new Date).sort((w,k)=>new Date(w.startDate).getTime()-new Date(k.startDate).getTime()).slice(0,10).map(w=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{children:w.title}),r.jsx("p",{className:"text-sm text-gray-600",children:new Date(w.startDate).toLocaleDateString()})]}),r.jsx(Ht,{variant:"secondary",className:"capitalize",children:w.type.replace("_"," ")})]},w.id))})})]})]})}function _B({villas:e}){const[t,n]=v.useState([]),[s,o]=v.useState(""),[i,c]=v.useState(!1),[d,h]=v.useState(!1),[f,m]=v.useState({startDate:"",endDate:"",reason:"",type:"vacation"}),p=sessionStorage.getItem("user_id");v.useEffect(()=>{e.length>0&&!s&&o(e[0].id)},[e]),v.useEffect(()=>{s&&x()},[s]);const x=async()=>{try{const{leaves:E}=await de(`/villas/${s}/leave`);n(E||[])}catch(E){console.error("Error loading leaves:",E),K.error("Failed to load leave requests")}},b=async E=>{E.preventDefault();try{await de("/staff/leave",{method:"POST",body:JSON.stringify({villaId:s,startDate:f.startDate,endDate:f.endDate,reason:f.reason,type:f.type})}),K.success("Leave request submitted!"),c(!1),m({startDate:"",endDate:"",reason:"",type:"vacation"}),x()}catch(S){console.error("Error creating leave request:",S),K.error(S.message||"Failed to submit leave request")}},w=async(E,S)=>{try{await de(`/staff/leave/${E}/status`,{method:"PUT",body:JSON.stringify({status:S})}),K.success(`Leave ${S}!`),x()}catch(C){console.error("Error updating leave status:",C),K.error(C.message||"Failed to update leave status")}},k=async E=>{try{await de("/staff/clock",{method:"POST",body:JSON.stringify({villaId:s,action:E,location:null})}),K.success(`Clocked ${E} successfully!`),h(!1)}catch(S){console.error("Error clocking in/out:",S),K.error(S.message||"Failed to clock in/out")}},N=E=>{switch(E){case"pending":return r.jsx(Ht,{variant:"outline",children:"Pending"});case"approved":return r.jsx(Ht,{className:"bg-green-500",children:"Approved"});case"rejected":return r.jsx(Ht,{variant:"destructive",children:"Rejected"});default:return r.jsx(Ht,{variant:"secondary",children:E})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl",children:"Staff Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage staff, leave, and attendance"})]}),r.jsx("div",{className:"flex gap-3",children:e.length>0&&r.jsxs(Nt,{value:s,onValueChange:o,children:[r.jsx(Et,{className:"w-48",children:r.jsx(St,{placeholder:"Select villa"})}),r.jsx(_t,{children:e.map(E=>r.jsx(xe,{value:E.id,children:E.name},E.id))})]})})]}),s?r.jsxs(bg,{defaultValue:"attendance",className:"w-full",children:[r.jsxs(wg,{children:[r.jsx(ca,{value:"attendance",children:"Attendance"}),r.jsx(ca,{value:"leave",children:"Leave Requests"}),r.jsx(ca,{value:"roster",children:"Roster"})]}),r.jsx(da,{value:"attendance",children:r.jsxs(He,{children:[r.jsx(It,{children:r.jsx(Ot,{children:"Clock In/Out"})}),r.jsxs(Je,{className:"space-y-4",children:[r.jsx("div",{className:"flex gap-4 justify-center",children:r.jsxs(Lr,{open:d,onOpenChange:h,children:[r.jsx(Ps,{asChild:!0,children:r.jsxs(ze,{size:"lg",className:"w-40",children:[r.jsx(er,{className:"mr-2 h-5 w-5"}),"Clock In"]})}),r.jsxs(zr,{children:[r.jsx(Rs,{children:r.jsx($r,{children:"Clock In/Out"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-gray-600",children:["Record your attendance for ",e.find(E=>E.id===s)?.name]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(ze,{onClick:()=>k("in"),className:"flex-1",children:"Clock In"}),r.jsx(ze,{onClick:()=>k("out"),variant:"outline",className:"flex-1",children:"Clock Out"})]})]})]})]})}),r.jsx("div",{className:"text-center text-sm text-gray-600",children:r.jsxs("p",{children:["Current time: ",new Date().toLocaleString()]})})]})]})}),r.jsx(da,{value:"leave",children:r.jsxs(He,{children:[r.jsxs(It,{className:"flex flex-row items-center justify-between",children:[r.jsx(Ot,{children:"Leave Requests"}),r.jsxs(Lr,{open:i,onOpenChange:c,children:[r.jsx(Ps,{asChild:!0,children:r.jsxs(ze,{children:[r.jsx(bt,{className:"mr-2 h-4 w-4"}),"Request Leave"]})}),r.jsxs(zr,{children:[r.jsx(Rs,{children:r.jsx($r,{children:"Request Leave"})}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"type",children:"Leave Type"}),r.jsxs(Nt,{value:f.type,onValueChange:E=>m({...f,type:E}),children:[r.jsx(Et,{children:r.jsx(St,{})}),r.jsxs(_t,{children:[r.jsx(xe,{value:"vacation",children:"Vacation"}),r.jsx(xe,{value:"sick",children:"Sick Leave"}),r.jsx(xe,{value:"personal",children:"Personal"}),r.jsx(xe,{value:"other",children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"startDate",children:"Start Date"}),r.jsx(an,{id:"startDate",type:"date",value:f.startDate,onChange:E=>m({...f,startDate:E.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"endDate",children:"End Date"}),r.jsx(an,{id:"endDate",type:"date",value:f.endDate,onChange:E=>m({...f,endDate:E.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"reason",children:"Reason"}),r.jsx(Hl,{id:"reason",placeholder:"Reason for leave...",value:f.reason,onChange:E=>m({...f,reason:E.target.value})})]}),r.jsx(to,{children:r.jsx(ze,{type:"submit",children:"Submit Request"})})]})]})]})]}),r.jsx(Je,{children:t.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No leave requests"}):r.jsxs(nN,{children:[r.jsx(rN,{children:r.jsxs(eu,{children:[r.jsx(Dr,{children:"Type"}),r.jsx(Dr,{children:"Start Date"}),r.jsx(Dr,{children:"End Date"}),r.jsx(Dr,{children:"Status"}),r.jsx(Dr,{children:"Actions"})]})}),r.jsx(sN,{children:t.map(E=>r.jsxs(eu,{children:[r.jsx(Pr,{className:"capitalize",children:E.type}),r.jsx(Pr,{children:new Date(E.startDate).toLocaleDateString()}),r.jsx(Pr,{children:new Date(E.endDate).toLocaleDateString()}),r.jsx(Pr,{children:N(E.status)}),r.jsx(Pr,{children:E.status==="pending"&&E.userId!==p&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ze,{size:"sm",variant:"outline",onClick:()=>w(E.id,"approved"),children:"Approve"}),r.jsx(ze,{size:"sm",variant:"outline",onClick:()=>w(E.id,"rejected"),children:"Reject"})]})})]},E.id))})]})})]})}),r.jsx(da,{value:"roster",children:r.jsxs(He,{children:[r.jsx(It,{children:r.jsx(Ot,{children:"Staff Roster"})}),r.jsx(Je,{children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(tt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Roster management coming soon"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Schedule and assign staff shifts"})]})})]})})]}):r.jsx(He,{children:r.jsxs(Je,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(wn,{className:"h-16 w-16 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Select a villa to manage staff"})]})})]})}function CB(e,t){return v.useReducer((n,s)=>t[n][s]??n,e)}var Ig="ScrollArea",[NN]=vr(Ig),[TB,xr]=NN(Ig),SN=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:o,scrollHideDelay:i=600,...c}=e,[d,h]=v.useState(null),[f,m]=v.useState(null),[p,x]=v.useState(null),[b,w]=v.useState(null),[k,N]=v.useState(null),[E,S]=v.useState(0),[C,D]=v.useState(0),[_,A]=v.useState(!1),[P,F]=v.useState(!1),W=Ue(t,G=>h(G)),U=$l(o);return r.jsx(TB,{scope:n,type:s,dir:U,scrollHideDelay:i,scrollArea:d,viewport:f,onViewportChange:m,content:p,onContentChange:x,scrollbarX:b,onScrollbarXChange:w,scrollbarXEnabled:_,onScrollbarXEnabledChange:A,scrollbarY:k,onScrollbarYChange:N,scrollbarYEnabled:P,onScrollbarYEnabledChange:F,onCornerWidthChange:S,onCornerHeightChange:D,children:r.jsx(Re.div,{dir:U,...c,ref:W,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});SN.displayName=Ig;var EN="ScrollAreaViewport",_N=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:o,...i}=e,c=xr(EN,n),d=v.useRef(null),h=Ue(t,d,c.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),r.jsx(Re.div,{"data-radix-scroll-area-viewport":"",...i,ref:h,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});_N.displayName=EN;var fs="ScrollAreaScrollbar",CN=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=xr(fs,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:c}=o,d=e.orientation==="horizontal";return v.useEffect(()=>(d?i(!0):c(!0),()=>{d?i(!1):c(!1)}),[d,i,c]),o.type==="hover"?r.jsx(DB,{...s,ref:t,forceMount:n}):o.type==="scroll"?r.jsx(PB,{...s,ref:t,forceMount:n}):o.type==="auto"?r.jsx(TN,{...s,ref:t,forceMount:n}):o.type==="always"?r.jsx(Og,{...s,ref:t}):null});CN.displayName=fs;var DB=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=xr(fs,e.__scopeScrollArea),[i,c]=v.useState(!1);return v.useEffect(()=>{const d=o.scrollArea;let h=0;if(d){const f=()=>{window.clearTimeout(h),c(!0)},m=()=>{h=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return d.addEventListener("pointerenter",f),d.addEventListener("pointerleave",m),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",f),d.removeEventListener("pointerleave",m)}}},[o.scrollArea,o.scrollHideDelay]),r.jsx(Bn,{present:n||i,children:r.jsx(TN,{"data-state":i?"visible":"hidden",...s,ref:t})})}),PB=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=xr(fs,e.__scopeScrollArea),i=e.orientation==="horizontal",c=qu(()=>h("SCROLL_END"),100),[d,h]=CB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(d==="idle"){const f=window.setTimeout(()=>h("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[d,o.scrollHideDelay,h]),v.useEffect(()=>{const f=o.viewport,m=i?"scrollLeft":"scrollTop";if(f){let p=f[m];const x=()=>{const b=f[m];p!==b&&(h("SCROLL"),c()),p=b};return f.addEventListener("scroll",x),()=>f.removeEventListener("scroll",x)}},[o.viewport,i,h,c]),r.jsx(Bn,{present:n||d!=="hidden",children:r.jsx(Og,{"data-state":d==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:ye(e.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:ye(e.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),TN=v.forwardRef((e,t)=>{const n=xr(fs,e.__scopeScrollArea),{forceMount:s,...o}=e,[i,c]=v.useState(!1),d=e.orientation==="horizontal",h=qu(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;c(d?f:m)}},10);return ui(n.viewport,h),ui(n.content,h),r.jsx(Bn,{present:s||i,children:r.jsx(Og,{"data-state":i?"visible":"hidden",...o,ref:t})})}),Og=v.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,o=xr(fs,e.__scopeScrollArea),i=v.useRef(null),c=v.useRef(0),[d,h]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=IN(d.viewport,d.content),m={...s,sizes:d,onSizesChange:h,hasThumb:f>0&&f<1,onThumbChange:x=>i.current=x,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:x=>c.current=x};function p(x,b){return MB(x,c.current,d,b)}return n==="horizontal"?r.jsx(RB,{...m,ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const x=o.viewport.scrollLeft,b=Sb(x,d,o.dir);i.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollLeft=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollLeft=p(x,o.dir))}}):n==="vertical"?r.jsx(AB,{...m,ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const x=o.viewport.scrollTop,b=Sb(x,d);i.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollTop=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollTop=p(x))}}):null}),RB=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...o}=e,i=xr(fs,e.__scopeScrollArea),[c,d]=v.useState(),h=v.useRef(null),f=Ue(t,h,i.onScrollbarXChange);return v.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),r.jsx(PN,{"data-orientation":"horizontal",...o,ref:f,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Hu(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,p)=>{if(i.viewport){const x=i.viewport.scrollLeft+m.deltaX;e.onWheelScroll(x),FN(x,p)&&m.preventDefault()}},onResize:()=>{h.current&&i.viewport&&c&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:su(c.paddingLeft),paddingEnd:su(c.paddingRight)}})}})}),AB=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...o}=e,i=xr(fs,e.__scopeScrollArea),[c,d]=v.useState(),h=v.useRef(null),f=Ue(t,h,i.onScrollbarYChange);return v.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),r.jsx(PN,{"data-orientation":"vertical",...o,ref:f,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Hu(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,p)=>{if(i.viewport){const x=i.viewport.scrollTop+m.deltaY;e.onWheelScroll(x),FN(x,p)&&m.preventDefault()}},onResize:()=>{h.current&&i.viewport&&c&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:su(c.paddingTop),paddingEnd:su(c.paddingBottom)}})}})}),[IB,DN]=NN(fs),PN=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:o,onThumbChange:i,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:f,onWheelScroll:m,onResize:p,...x}=e,b=xr(fs,n),[w,k]=v.useState(null),N=Ue(t,W=>k(W)),E=v.useRef(null),S=v.useRef(""),C=b.viewport,D=s.content-s.viewport,_=Xt(m),A=Xt(h),P=qu(p,10);function F(W){if(E.current){const U=W.clientX-E.current.left,G=W.clientY-E.current.top;f({x:U,y:G})}}return v.useEffect(()=>{const W=U=>{const G=U.target;w?.contains(G)&&_(U,D)};return document.addEventListener("wheel",W,{passive:!1}),()=>document.removeEventListener("wheel",W,{passive:!1})},[C,w,D,_]),v.useEffect(A,[s,A]),ui(w,P),ui(b.content,P),r.jsx(IB,{scope:n,scrollbar:w,hasThumb:o,onThumbChange:Xt(i),onThumbPointerUp:Xt(c),onThumbPositionChange:A,onThumbPointerDown:Xt(d),children:r.jsx(Re.div,{...x,ref:N,style:{position:"absolute",...x.style},onPointerDown:ye(e.onPointerDown,W=>{W.button===0&&(W.target.setPointerCapture(W.pointerId),E.current=w.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),F(W))}),onPointerMove:ye(e.onPointerMove,F),onPointerUp:ye(e.onPointerUp,W=>{const U=W.target;U.hasPointerCapture(W.pointerId)&&U.releasePointerCapture(W.pointerId),document.body.style.webkitUserSelect=S.current,b.viewport&&(b.viewport.style.scrollBehavior=""),E.current=null})})})}),ru="ScrollAreaThumb",RN=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=DN(ru,e.__scopeScrollArea);return r.jsx(Bn,{present:n||o.hasThumb,children:r.jsx(OB,{ref:t,...s})})}),OB=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...o}=e,i=xr(ru,n),c=DN(ru,n),{onThumbPositionChange:d}=c,h=Ue(t,p=>c.onThumbChange(p)),f=v.useRef(void 0),m=qu(()=>{f.current&&(f.current(),f.current=void 0)},100);return v.useEffect(()=>{const p=i.viewport;if(p){const x=()=>{if(m(),!f.current){const b=LB(p,d);f.current=b,d()}};return d(),p.addEventListener("scroll",x),()=>p.removeEventListener("scroll",x)}},[i.viewport,m,d]),r.jsx(Re.div,{"data-state":c.hasThumb?"visible":"hidden",...o,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:ye(e.onPointerDownCapture,p=>{const b=p.target.getBoundingClientRect(),w=p.clientX-b.left,k=p.clientY-b.top;c.onThumbPointerDown({x:w,y:k})}),onPointerUp:ye(e.onPointerUp,c.onThumbPointerUp)})});RN.displayName=ru;var Fg="ScrollAreaCorner",AN=v.forwardRef((e,t)=>{const n=xr(Fg,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?r.jsx(FB,{...e,ref:t}):null});AN.displayName=Fg;var FB=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,o=xr(Fg,n),[i,c]=v.useState(0),[d,h]=v.useState(0),f=!!(i&&d);return ui(o.scrollbarX,()=>{const m=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(m),h(m)}),ui(o.scrollbarY,()=>{const m=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(m),c(m)}),f?r.jsx(Re.div,{...s,ref:t,style:{width:i,height:d,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function su(e){return e?parseInt(e,10):0}function IN(e,t){const n=e/t;return isNaN(n)?0:n}function Hu(e){const t=IN(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function MB(e,t,n,s="ltr"){const o=Hu(n),i=o/2,c=t||i,d=o-c,h=n.scrollbar.paddingStart+c,f=n.scrollbar.size-n.scrollbar.paddingEnd-d,m=n.content-n.viewport,p=s==="ltr"?[0,m]:[m*-1,0];return ON([h,f],p)(e)}function Sb(e,t,n="ltr"){const s=Hu(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-o,c=t.content-t.viewport,d=i-s,h=n==="ltr"?[0,c]:[c*-1,0],f=Zp(e,h);return ON([0,c],[0,d])(f)}function ON(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function FN(e,t){return e>0&&e<t}var LB=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return(function o(){const i={left:e.scrollLeft,top:e.scrollTop},c=n.left!==i.left,d=n.top!==i.top;(c||d)&&t(),n=i,s=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(s)};function qu(e,t){const n=Xt(e),s=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),v.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function ui(e,t){const n=Xt(t);Ft(()=>{let s=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(s),o.unobserve(e)}}},[e,n])}var zB=SN,$B=_N,BB=AN;function Eb({className:e,children:t,...n}){return r.jsxs(zB,{"data-slot":"scroll-area",className:Ie("relative",e),...n,children:[r.jsx($B,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),r.jsx(UB,{}),r.jsx(BB,{})]})}function UB({className:e,orientation:t="vertical",...n}){return r.jsx(CN,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Ie("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:r.jsx(RN,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var wp={exports:{}},kp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function VB(){if(_b)return kp;_b=1;var e=uu();function t(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,o=e.useEffect,i=e.useLayoutEffect,c=e.useDebugValue;function d(p,x){var b=x(),w=s({inst:{value:b,getSnapshot:x}}),k=w[0].inst,N=w[1];return i(function(){k.value=b,k.getSnapshot=x,h(k)&&N({inst:k})},[p,b,x]),o(function(){return h(k)&&N({inst:k}),p(function(){h(k)&&N({inst:k})})},[p]),c(b),b}function h(p){var x=p.getSnapshot;p=p.value;try{var b=x();return!n(p,b)}catch{return!0}}function f(p,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return kp.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,kp}var Cb;function WB(){return Cb||(Cb=1,wp.exports=VB()),wp.exports}var HB=WB();function qB(){return HB.useSyncExternalStore(YB,()=>!0,()=>!1)}function YB(){return()=>{}}var Mg="Avatar",[KB]=vr(Mg),[GB,MN]=KB(Mg),LN=v.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[o,i]=v.useState("idle");return r.jsx(GB,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:i,children:r.jsx(Re.span,{...s,ref:t})})});LN.displayName=Mg;var zN="AvatarImage",ZB=v.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:o=()=>{},...i}=e,c=MN(zN,n),d=JB(s,i),h=Xt(f=>{o(f),c.onImageLoadingStatusChange(f)});return Ft(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?r.jsx(Re.img,{...i,ref:t,src:s}):null});ZB.displayName=zN;var $N="AvatarFallback",BN=v.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...o}=e,i=MN($N,n),[c,d]=v.useState(s===void 0);return v.useEffect(()=>{if(s!==void 0){const h=window.setTimeout(()=>d(!0),s);return()=>window.clearTimeout(h)}},[s]),c&&i.imageLoadingStatus!=="loaded"?r.jsx(Re.span,{...o,ref:t}):null});BN.displayName=$N;function Tb(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function JB(e,{referrerPolicy:t,crossOrigin:n}){const s=qB(),o=v.useRef(null),i=s?(o.current||(o.current=new window.Image),o.current):null,[c,d]=v.useState(()=>Tb(i,e));return Ft(()=>{d(Tb(i,e))},[i,e]),Ft(()=>{const h=p=>()=>{d(p)};if(!i)return;const f=h("loaded"),m=h("error");return i.addEventListener("load",f),i.addEventListener("error",m),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",f),i.removeEventListener("error",m)}},[i,n,t]),c}var XB=LN,QB=BN;function e9({className:e,...t}){return r.jsx(XB,{"data-slot":"avatar",className:Ie("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function t9({className:e,...t}){return r.jsx(QB,{"data-slot":"avatar-fallback",className:Ie("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function n9({villas:e}){const[t,n]=v.useState([]),[s,o]=v.useState(null),[i,c]=v.useState([]),[d,h]=v.useState(""),[f,m]=v.useState(!1),[p,x]=v.useState(""),[b,w]=v.useState({subject:""}),k=v.useRef(null),N=sessionStorage.getItem("user_id");v.useEffect(()=>{e.length>0&&!d&&h(e[0].id)},[e]),v.useEffect(()=>{d&&S()},[d]),v.useEffect(()=>{if(s){C();const A=setInterval(C,3e3);return()=>clearInterval(A)}},[s]),v.useEffect(()=>{E()},[i]);const E=()=>{k.current?.scrollIntoView({behavior:"smooth"})},S=async()=>{try{const{chats:A}=await de(`/villas/${d}/chats`);n(A||[])}catch(A){console.error("Error loading chats:",A),K.error("Failed to load chats")}},C=async()=>{if(s)try{const{messages:A}=await de(`/chats/${s.id}/messages`);c(A||[])}catch(A){console.error("Error loading messages:",A)}},D=async A=>{A.preventDefault();try{await de("/chats",{method:"POST",body:JSON.stringify({villaId:d,subject:b.subject,participants:[]})}),K.success("Chat created successfully!"),m(!1),w({subject:""}),S()}catch(P){console.error("Error creating chat:",P),K.error(P.message||"Failed to create chat")}},_=async A=>{if(A.preventDefault(),!(!p.trim()||!s))try{await de(`/chats/${s.id}/messages`,{method:"POST",body:JSON.stringify({content:p})}),x(""),C()}catch(P){console.error("Error sending message:",P),K.error(P.message||"Failed to send message")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl",children:"Messages"}),r.jsx("p",{className:"text-gray-600",children:"Chat with villa team members"})]}),r.jsxs("div",{className:"flex gap-3",children:[e.length>0&&r.jsxs(Nt,{value:d,onValueChange:h,children:[r.jsx(Et,{className:"w-48",children:r.jsx(St,{placeholder:"Select villa"})}),r.jsx(_t,{children:e.map(A=>r.jsx(xe,{value:A.id,children:A.name},A.id))})]}),r.jsxs(Lr,{open:f,onOpenChange:m,children:[r.jsx(Ps,{asChild:!0,children:r.jsxs(ze,{disabled:!d,children:[r.jsx(bt,{className:"mr-2 h-4 w-4"}),"New Chat"]})}),r.jsxs(zr,{children:[r.jsx(Rs,{children:r.jsx($r,{children:"Create New Chat"})}),r.jsxs("form",{onSubmit:D,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Xe,{htmlFor:"subject",children:"Chat Subject"}),r.jsx(an,{id:"subject",placeholder:"e.g., Pool maintenance discussion",value:b.subject,onChange:A=>w({...b,subject:A.target.value}),required:!0})]}),r.jsx(to,{children:r.jsx(ze,{type:"submit",children:"Create Chat"})})]})]})]})]})]}),d?r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs(He,{className:"lg:col-span-1",children:[r.jsx(It,{children:r.jsx(Ot,{className:"text-base",children:"Conversations"})}),r.jsx(Je,{className:"p-0",children:r.jsx(Eb,{className:"h-[500px]",children:t.length===0?r.jsx("div",{className:"p-6 text-center text-sm text-gray-500",children:"No chats yet"}):r.jsx("div",{className:"space-y-1 p-2",children:t.map(A=>r.jsxs("div",{onClick:()=>o(A),className:`p-3 rounded-lg cursor-pointer transition-colors ${s?.id===A.id?"bg-indigo-50 border border-indigo-200":"hover:bg-gray-50"}`,children:[r.jsx("h4",{className:"truncate",children:A.subject}),r.jsxs("p",{className:"text-sm text-gray-500",children:[A.participants.length," participant(s)"]})]},A.id))})})})]}),r.jsx(He,{className:"lg:col-span-2",children:s?r.jsxs(r.Fragment,{children:[r.jsxs(It,{className:"border-b",children:[r.jsx(Ot,{className:"text-base",children:s.subject}),r.jsxs("p",{className:"text-sm text-gray-500",children:[s.participants.length," participant(s)"]})]}),r.jsxs(Je,{className:"p-0 flex flex-col h-[600px]",children:[r.jsx(Eb,{className:"flex-1 p-4",children:r.jsxs("div",{className:"space-y-4",children:[i.map(A=>{const P=A.senderId===N;return r.jsx("div",{className:`flex ${P?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`flex items-start gap-2 max-w-[70%] ${P?"flex-row-reverse":"flex-row"}`,children:[r.jsx(e9,{className:"h-8 w-8",children:r.jsx(t9,{children:P?"Y":"U"})}),r.jsxs("div",{className:`rounded-lg p-3 ${P?"bg-indigo-600 text-white":"bg-gray-100 text-gray-900"}`,children:[r.jsx("p",{className:"text-sm",children:A.content}),r.jsx("p",{className:`text-sm mt-1 ${P?"text-indigo-200":"text-gray-500"}`,children:new Date(A.createdAt).toLocaleTimeString()})]})]})},A.id)}),r.jsx("div",{ref:k})]})}),r.jsx("div",{className:"p-4 border-t",children:r.jsxs("form",{onSubmit:_,className:"flex gap-2",children:[r.jsx(an,{placeholder:"Type a message...",value:p,onChange:A=>x(A.target.value)}),r.jsx(ze,{type:"submit",size:"icon",children:r.jsx(Vm,{className:"h-4 w-4"})})]})})]})]}):r.jsxs(Je,{className:"flex flex-col items-center justify-center h-[600px]",children:[r.jsx(Bd,{className:"h-16 w-16 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Select a chat to start messaging"})]})})]}):r.jsx(He,{children:r.jsxs(Je,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(Bd,{className:"h-16 w-16 text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Select a villa to view chats"})]})})]})}var Yu="Switch",[r9]=vr(Yu),[s9,a9]=r9(Yu),UN=v.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:o,defaultChecked:i,required:c,disabled:d,value:h="on",onCheckedChange:f,form:m,...p}=e,[x,b]=v.useState(null),w=Ue(t,C=>b(C)),k=v.useRef(!1),N=x?m||!!x.closest("form"):!0,[E,S]=ma({prop:o,defaultProp:i??!1,onChange:f,caller:Yu});return r.jsxs(s9,{scope:n,checked:E,disabled:d,children:[r.jsx(Re.button,{type:"button",role:"switch","aria-checked":E,"aria-required":c,"data-state":qN(E),"data-disabled":d?"":void 0,disabled:d,value:h,...p,ref:w,onClick:ye(e.onClick,C=>{S(D=>!D),N&&(k.current=C.isPropagationStopped(),k.current||C.stopPropagation())})}),N&&r.jsx(HN,{control:x,bubbles:!k.current,name:s,value:h,checked:E,required:c,disabled:d,form:m,style:{transform:"translateX(-100%)"}})]})});UN.displayName=Yu;var VN="SwitchThumb",WN=v.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,o=a9(VN,n);return r.jsx(Re.span,{"data-state":qN(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})});WN.displayName=VN;var o9="SwitchBubbleInput",HN=v.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...o},i)=>{const c=v.useRef(null),d=Ue(c,i),h=sg(n),f=tg(t);return v.useEffect(()=>{const m=c.current;if(!m)return;const p=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(p,"checked").set;if(h!==n&&b){const w=new Event("click",{bubbles:s});b.call(m,n),m.dispatchEvent(w)}},[h,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:d,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});HN.displayName=o9;function qN(e){return e?"checked":"unchecked"}var i9=UN,l9=WN;function c9({className:e,...t}){return r.jsx(i9,{"data-slot":"switch",className:Ie("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(l9,{"data-slot":"switch-thumb",className:Ie("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function d9(){const[e,t]=v.useState(!1),[n,s]=v.useState(!1),[o,i]=v.useState(!1);v.useEffect(()=>{const m=localStorage.getItem("googleCalendarConnected")==="true",p=localStorage.getItem("outlookCalendarConnected")==="true",x=localStorage.getItem("calendarSyncEnabled")==="true";t(m),s(p),i(x)},[]);const c=v.useCallback(()=>{const m=!e;t(m),localStorage.setItem("googleCalendarConnected",String(m)),m?(K.success("Google Calendar connected successfully"),n&&(s(!1),localStorage.setItem("outlookCalendarConnected","false"))):(K.success("Google Calendar disconnected"),i(!1),localStorage.setItem("calendarSyncEnabled","false"))},[e,n]),d=v.useCallback(()=>{const m=!n;s(m),localStorage.setItem("outlookCalendarConnected",String(m)),m?(K.success("Microsoft Outlook connected successfully"),e&&(t(!1),localStorage.setItem("googleCalendarConnected","false"))):(K.success("Microsoft Outlook disconnected"),i(!1),localStorage.setItem("calendarSyncEnabled","false"))},[n,e]),h=v.useCallback(m=>{if(!e&&!n){K.error("Please connect a calendar first");return}i(m),localStorage.setItem("calendarSyncEnabled",String(m)),K.success(m?"Calendar sync enabled":"Calendar sync disabled")},[e,n]),f=v.useCallback(()=>e?"google":n?"outlook":null,[e,n]);return{googleConnected:e,outlookConnected:n,syncEnabled:o,connectGoogle:c,connectOutlook:d,toggleSync:h,getConnectedProvider:f}}function u9({onBack:e}){const{googleConnected:t,outlookConnected:n,syncEnabled:s,connectGoogle:o,connectOutlook:i,toggleSync:c}=d9();return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-2",children:"User Preferences"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your calendar integrations and sync settings"})]}),r.jsxs(He,{children:[r.jsxs(It,{children:[r.jsxs(Ot,{className:"flex items-center gap-2",children:[r.jsx(tt,{className:"h-5 w-5"}),"Calendar Integration"]}),r.jsx(um,{children:"Connect your Google Calendar or Microsoft Outlook to sync events"})]}),r.jsxs(Je,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-[#4285F4]/10 rounded-lg flex items-center justify-center",children:r.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M19.5 3H4.5A2.5 2.5 0 0 0 2 5.5v13A2.5 2.5 0 0 0 4.5 21h15a2.5 2.5 0 0 0 2.5-2.5v-13A2.5 2.5 0 0 0 19.5 3z"}),r.jsx("path",{fill:"#fff",d:"M16.5 13h-2v2h-2v-2h-2v-2h2V9h2v2h2v2z"})]})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground",children:"Google Calendar"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:t?"Connected":"Not connected"})]})]}),r.jsx(ze,{variant:t?"outline":"default",onClick:o,className:t?"text-destructive hover:text-destructive":"",children:t?r.jsxs(r.Fragment,{children:[r.jsx(fa,{className:"mr-2 h-4 w-4"}),"Disconnect"]}):r.jsxs(r.Fragment,{children:[r.jsx(jl,{className:"mr-2 h-4 w-4"}),"Connect"]})})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-[#0078D4]/10 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:r.jsx("path",{fill:"#0078D4",d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground",children:"Microsoft Outlook"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:n?"Connected":"Not connected"})]})]}),r.jsx(ze,{variant:n?"outline":"default",onClick:i,className:n?"text-destructive hover:text-destructive":"",children:n?r.jsxs(r.Fragment,{children:[r.jsx(fa,{className:"mr-2 h-4 w-4"}),"Disconnect"]}):r.jsxs(r.Fragment,{children:[r.jsx(jl,{className:"mr-2 h-4 w-4"}),"Connect"]})})]}),(t||n)&&r.jsxs("div",{className:"flex items-center justify-between p-4 bg-accent/50 rounded-lg",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Xe,{htmlFor:"sync-toggle",className:"text-base font-medium",children:"Enable Calendar Sync"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Automatically sync events between VillaSaya and"," ",t?"Google Calendar":"Microsoft Outlook"]})]}),r.jsx(c9,{id:"sync-toggle",checked:s,onCheckedChange:c})]}),!t&&!n&&r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:r.jsx("p",{className:"text-sm",children:"Connect a calendar service to start syncing your events"})})]})]}),r.jsxs(He,{children:[r.jsxs(It,{children:[r.jsx(Ot,{children:"Other Preferences"}),r.jsx(um,{children:"Additional settings and preferences (coming soon)"})]}),r.jsx(Je,{children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"More preference options will be available in future updates"})})]})]})}const jp=({...e})=>r.jsx(FI,{theme:"light",className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e}),f9=({children:e,sidebar:t,header:n})=>r.jsxs("div",{className:"desktop-layout",children:[t,r.jsxs("div",{className:"desktop-main",children:[n,r.jsx("main",{className:"desktop-content",children:e})]}),r.jsx("style",{children:`
        .desktop-layout {
          display: flex;
          min-height: 100vh;
          background: var(--desktop-white-500);
          font-family: var(--desktop-font-family);
          min-width: var(--desktop-min-width);
        }
        
        .desktop-main {
          flex: 1;
          display: flex;
          flex-direction: column;
          margin-left: var(--desktop-sidebar-width);
        }
        
        .desktop-content {
          flex: 1;
          padding: var(--desktop-content-padding);
          padding-top: calc(var(--desktop-header-height) + var(--desktop-content-padding));
        }
      `})]}),h9=({currentView:e,onNavigate:t})=>{const[n,s]=v.useState(["settings"]),o=h=>{s(f=>f.includes(h)?f.filter(m=>m!==h):[...f,h])},i=[{id:"dashboard",label:"Dashboard",icon:r.jsx(yR,{size:20}),onClick:()=>t("dashboard")},{id:"staff",label:"Staff",icon:r.jsx(wn,{size:20}),onClick:()=>t("staff")},{id:"villas",label:"Villas",icon:r.jsx(bn,{size:20}),onClick:()=>t("villas")},{id:"attendance",label:"Attendance",icon:r.jsx(tt,{size:20}),onClick:()=>t("attendance")},{id:"expenses",label:"Expenses",icon:r.jsx(Or,{size:20}),onClick:()=>t("expenses")},{id:"tasks",label:"Tasks",icon:r.jsx(Om,{size:20}),onClick:()=>t("tasks")},{id:"tenants",label:"Tenants",icon:r.jsx(Hm,{size:20}),onClick:()=>t("tenants")},{id:"leaves",label:"Leave Requests",icon:r.jsx(fr,{size:20}),onClick:()=>t("leaves")},{id:"calendar",label:"Calendars",icon:r.jsx(uA,{size:20}),onClick:()=>t("calendar")},{id:"settings",label:"Settings",icon:r.jsx(Wm,{size:20}),onClick:()=>o("settings"),children:[{id:"settings-general",label:"General Settings",icon:r.jsx(Ww,{size:18}),onClick:()=>t("settings-general")},{id:"settings-security",label:"Security & Access",icon:r.jsx(Yw,{size:18}),onClick:()=>t("settings-security")},{id:"settings-notifications",label:"Notifications",icon:r.jsx(oo,{size:18}),onClick:()=>t("settings-notifications")},{id:"settings-billing",label:"Billing & Subscription",icon:r.jsx(Or,{size:18}),onClick:()=>t("settings-billing")},{id:"settings-integrations",label:"Integrations",icon:r.jsx(Hd,{size:18}),onClick:()=>t("settings-integrations")},{id:"settings-data",label:"Data & Retention",icon:r.jsx(QP,{size:18}),onClick:()=>t("settings-data")}]}],c=h=>e===h,d=h=>n.includes(h);return r.jsxs("aside",{className:"desktop-sidebar",children:[r.jsxs("div",{className:"sidebar-logo",children:[r.jsx("div",{className:"logo-icon",children:"VS"}),r.jsx("span",{className:"logo-text",children:"VillaSaya"})]}),r.jsx("nav",{className:"sidebar-nav",children:i.map(h=>r.jsxs("div",{className:"nav-item-wrapper",children:[r.jsxs("button",{className:`nav-item ${c(h.id)?"active":""}`,onClick:h.onClick,children:[c(h.id)&&r.jsx("div",{className:"active-indicator"}),r.jsx("span",{className:"nav-icon",children:h.icon}),r.jsx("span",{className:"nav-label",children:h.label}),h.children&&r.jsx("span",{className:"nav-chevron",children:d(h.id)?r.jsx(vu,{size:16}):r.jsx(hi,{size:16})})]}),h.children&&d(h.id)&&r.jsx("div",{className:"nav-children",children:h.children.map(f=>r.jsxs("button",{className:`nav-child-item ${c(f.id)?"active":""}`,onClick:f.onClick,children:[r.jsx("span",{className:"nav-child-icon",children:f.icon}),r.jsx("span",{className:"nav-child-label",children:f.label})]},f.id))})]},h.id))}),r.jsx("style",{children:`
        .desktop-sidebar {
          position: fixed;
          left: var(--desktop-content-padding);
          top: var(--desktop-content-padding);
          width: var(--desktop-sidebar-width);
          height: calc(100vh - 24px);
          background: var(--desktop-gray-5);
          border-radius: var(--desktop-radius-xl);
          display: flex;
          flex-direction: column;
          padding: var(--desktop-gap-xl) 0;
          overflow-y: auto;
        }

        .sidebar-logo {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-md);
          padding: 0 var(--desktop-gap-xl);
          margin-bottom: var(--desktop-gap-xl);
        }

        .logo-icon {
          width: 32px;
          height: 32px;
          background: var(--desktop-primary-400);
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: var(--desktop-white-500);
          font-weight: var(--desktop-weight-semibold);
          font-size: var(--desktop-caption);
        }

        .logo-text {
          font-size: var(--desktop-header-6);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
        }

        .sidebar-nav {
          flex: 1;
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-xs);
          padding: 0 var(--desktop-gap-xl);
        }

        .nav-item-wrapper {
          display: flex;
          flex-direction: column;
        }

        .nav-item {
          position: relative;
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-lg);
          height: 42px;
          padding: 0 var(--desktop-gap-lg);
          background: transparent;
          border: none;
          border-radius: 0 var(--desktop-radius-lg) var(--desktop-radius-lg) 0;
          cursor: pointer;
          transition: background 0.2s;
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          text-align: left;
        }

        .nav-item:hover {
          background: var(--desktop-primary-5);
        }

        .nav-item.active {
          background: var(--desktop-primary-5);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-primary-500);
        }

        .active-indicator {
          position: absolute;
          left: -16px;
          width: 3px;
          height: 42px;
          background: var(--desktop-primary-500);
          border-radius: var(--desktop-radius-lg);
        }

        .nav-icon {
          display: flex;
          align-items: center;
          justify-content: center;
          color: inherit;
        }

        .nav-label {
          flex: 1;
        }

        .nav-chevron {
          display: flex;
          align-items: center;
          justify-content: center;
          color: var(--desktop-gray-400);
          transition: transform 0.2s;
        }

        .nav-children {
          display: flex;
          flex-direction: column;
          margin-left: var(--desktop-gap-xl);
          padding-left: var(--desktop-gap-md);
          border-left: 1px solid var(--desktop-gray-100);
        }

        .nav-child-item {
          position: relative;
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-md);
          height: 36px;
          padding: 0 var(--desktop-gap-md);
          background: transparent;
          border: none;
          border-radius: var(--desktop-radius-md);
          cursor: pointer;
          transition: background 0.2s;
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-600);
          text-align: left;
        }

        .nav-child-item:hover {
          background: var(--desktop-gray-50);
          color: var(--desktop-dark-500);
        }

        .nav-child-item.active {
          background: var(--desktop-primary-10);
          font-weight: var(--desktop-weight-medium);
          color: var(--desktop-primary-500);
        }

        .nav-child-icon {
          display: flex;
          align-items: center;
          justify-content: center;
          color: inherit;
          opacity: 0.8;
        }

        .nav-child-label {
          flex: 1;
        }
      `})]})},p9=({title:e,subtitle:t,onNavigate:n})=>{const[s,o]=v.useState(!1),i=v.useRef(null);v.useEffect(()=>{const f=m=>{i.current&&!i.current.contains(m.target)&&o(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const c=f=>{o(!1),n&&n(f)},d=()=>{alert("Notifications functionality will be implemented")},h=()=>{confirm("Are you sure you want to log out?")&&console.log("Logging out...")};return r.jsxs("header",{className:"desktop-header",children:[r.jsxs("div",{className:"header-content",children:[r.jsx("div",{className:"header-title-section",children:r.jsx("h1",{className:"header-title",children:e})}),r.jsxs("div",{className:"header-actions",children:[r.jsxs("div",{className:"search-input",children:[r.jsx(ds,{size:20}),r.jsx("input",{type:"text",placeholder:"Search anything here..."})]}),r.jsx("button",{className:"notification-btn",onClick:d,children:r.jsx(oo,{size:20})}),r.jsxs("div",{className:"user-profile-wrapper",ref:i,children:[r.jsxs("div",{className:"user-profile",onClick:()=>o(!s),children:[r.jsx("div",{className:"user-avatar",children:"RA"}),r.jsxs("div",{className:"user-info",children:[r.jsx("span",{className:"user-name",children:"Robert Allen"}),r.jsx("span",{className:"user-role",children:"HR Manager"})]}),r.jsx(vu,{size:16,className:s?"chevron-rotated":""})]}),s&&r.jsxs("div",{className:"user-dropdown",children:[r.jsxs("button",{className:"dropdown-item",onClick:()=>c("preferences"),children:[r.jsx(Cs,{size:18}),r.jsx("span",{children:"Preferences"})]}),r.jsxs("button",{className:"dropdown-item",onClick:()=>c("settings"),children:[r.jsx(Wm,{size:18}),r.jsx("span",{children:"Settings"})]}),r.jsx("div",{className:"dropdown-divider"}),r.jsxs("button",{className:"dropdown-item logout",onClick:h,children:[r.jsx(zm,{size:18}),r.jsx("span",{children:"Log Out"})]})]})]})]})]}),r.jsx("style",{children:`
        .desktop-header {
          position: fixed;
          top: var(--desktop-content-padding);
          right: 0;
          width: calc(100% - var(--desktop-sidebar-width) - var(--desktop-content-padding));
          height: var(--desktop-header-height);
          background: transparent;
          z-index: 100;
        }

        .header-content {
          display: flex;
          align-items: center;
          justify-content: space-between;
          height: 100%;
          padding: 0 var(--desktop-content-padding);
        }

        .header-title-section {
          display: flex;
          flex-direction: column;
          gap: 2px;
        }

        .header-title {
          font-size: var(--desktop-header-6);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          line-height: 24px;
          margin: 0;
        }

        .header-subtitle {
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          line-height: 22px;
          margin: 0;
        }

        .header-actions {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-lg);
        }

        .search-input {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-md);
          padding: 10px var(--desktop-gap-lg);
          width: 240px;
          height: 42px;
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-10);
          border-radius: var(--desktop-radius-lg);
        }

        .search-input input {
          flex: 1;
          border: none;
          outline: none;
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          background: transparent;
        }

        .search-input input::placeholder {
          color: var(--desktop-dark-20);
        }

        .notification-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 42px;
          height: 42px;
          background: var(--desktop-gray-10);
          border: none;
          border-radius: var(--desktop-radius-lg);
          cursor: pointer;
          transition: background 0.2s;
          color: var(--desktop-dark-500);
        }

        .notification-btn:hover {
          background: var(--desktop-gray-20);
        }

        .user-profile-wrapper {
          position: relative;
        }

        .user-profile {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-md);
          padding: 4px;
          height: 42px;
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-md);
          cursor: pointer;
          transition: border-color 0.2s;
        }

        .user-profile:hover {
          border-color: var(--desktop-gray-500);
        }

        .chevron-rotated {
          transform: rotate(180deg);
          transition: transform 0.2s;
        }

        .user-avatar {
          width: 34px;
          height: 34px;
          background: var(--desktop-primary-500);
          border-radius: var(--desktop-radius-md);
          display: flex;
          align-items: center;
          justify-content: center;
          color: var(--desktop-white-500);
          font-weight: var(--desktop-weight-semibold);
          font-size: var(--desktop-caption);
          text-transform: uppercase;
        }

        .user-info {
          display: flex;
          flex-direction: column;
          gap: 2px;
        }

        .user-name {
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          line-height: 24px;
        }

        .user-role {
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          line-height: 18px;
        }

        .user-dropdown {
          position: absolute;
          top: calc(100% + 8px);
          right: 0;
          width: 200px;
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-lg);
          box-shadow: var(--desktop-shadow-md);
          padding: var(--desktop-gap-md);
          z-index: 1000;
        }

        .dropdown-item {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-lg);
          width: 100%;
          padding: var(--desktop-gap-lg);
          background: transparent;
          border: none;
          border-radius: var(--desktop-radius-md);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          cursor: pointer;
          transition: background 0.2s;
          text-align: left;
        }

        .dropdown-item:hover {
          background: var(--desktop-gray-5);
        }

        .dropdown-item.logout {
          color: #EA5455;
        }

        .dropdown-item.logout:hover {
          background: #FFF1F0;
        }

        .dropdown-divider {
          height: 1px;
          background: var(--desktop-gray-20);
          margin: var(--desktop-gap-md) 0;
        }
      `})]})};function m9(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.useMemo(()=>s=>{t.forEach(o=>o(s))},t)}const Ku=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function bi(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Lg(e){return"nodeType"in e}function jn(e){var t,n;return e?bi(e)?e:Lg(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function zg(e){const{Document:t}=jn(e);return e instanceof t}function Zl(e){return bi(e)?!1:e instanceof jn(e).HTMLElement}function YN(e){return e instanceof jn(e).SVGElement}function wi(e){return e?bi(e)?e.document:Lg(e)?zg(e)?e:Zl(e)||YN(e)?e.ownerDocument:document:document:document}const Vr=Ku?v.useLayoutEffect:v.useEffect;function Gu(e){const t=v.useRef(e);return Vr(()=>{t.current=e}),v.useCallback(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t.current==null?void 0:t.current(...s)},[])}function g9(){const e=v.useRef(null),t=v.useCallback((s,o)=>{e.current=setInterval(s,o)},[]),n=v.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Al(e,t){t===void 0&&(t=[e]);const n=v.useRef(e);return Vr(()=>{n.current!==e&&(n.current=e)},t),n}function Jl(e,t){const n=v.useRef();return v.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function au(e){const t=Gu(e),n=v.useRef(null),s=v.useCallback(o=>{o!==n.current&&t?.(o,n.current),n.current=o},[]);return[n,s]}function ou(e){const t=v.useRef();return v.useEffect(()=>{t.current=e},[e]),t.current}let Np={};function Xl(e,t){return v.useMemo(()=>{if(t)return t;const n=Np[e]==null?0:Np[e]+1;return Np[e]=n,e+"-"+n},[e,t])}function KN(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((i,c)=>{const d=Object.entries(c);for(const[h,f]of d){const m=i[h];m!=null&&(i[h]=m+e*f)}return i},{...t})}}const ii=KN(1),Il=KN(-1);function v9(e){return"clientX"in e&&"clientY"in e}function Zu(e){if(!e)return!1;const{KeyboardEvent:t}=jn(e.target);return t&&e instanceof t}function x9(e){if(!e)return!1;const{TouchEvent:t}=jn(e.target);return t&&e instanceof t}function iu(e){if(x9(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return v9(e)?{x:e.clientX,y:e.clientY}:null}const ga=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[ga.Translate.toString(e),ga.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),Db="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function y9(e){return e.matches(Db)?e:e.querySelector(Db)}const b9={display:"none"};function w9(e){let{id:t,value:n}=e;return te.createElement("div",{id:t,style:b9},n)}function k9(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return te.createElement("div",{id:t,style:o,role:"status","aria-live":s,"aria-atomic":!0},n)}function j9(){const[e,t]=v.useState("");return{announce:v.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const GN=v.createContext(null);function N9(e){const t=v.useContext(GN);v.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function S9(){const[e]=v.useState(()=>new Set),t=v.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[v.useCallback(s=>{let{type:o,event:i}=s;e.forEach(c=>{var d;return(d=c[o])==null?void 0:d.call(c,i)})},[e]),t]}const E9={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},_9={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function C9(e){let{announcements:t=_9,container:n,hiddenTextDescribedById:s,screenReaderInstructions:o=E9}=e;const{announce:i,announcement:c}=j9(),d=Xl("DndLiveRegion"),[h,f]=v.useState(!1);if(v.useEffect(()=>{f(!0)},[]),N9(v.useMemo(()=>({onDragStart(p){let{active:x}=p;i(t.onDragStart({active:x}))},onDragMove(p){let{active:x,over:b}=p;t.onDragMove&&i(t.onDragMove({active:x,over:b}))},onDragOver(p){let{active:x,over:b}=p;i(t.onDragOver({active:x,over:b}))},onDragEnd(p){let{active:x,over:b}=p;i(t.onDragEnd({active:x,over:b}))},onDragCancel(p){let{active:x,over:b}=p;i(t.onDragCancel({active:x,over:b}))}}),[i,t])),!h)return null;const m=te.createElement(te.Fragment,null,te.createElement(w9,{id:s,value:o.draggable}),te.createElement(k9,{id:d,announcement:c}));return n?rs.createPortal(m,n):m}var Wt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Wt||(Wt={}));function lu(){}function pm(e,t){return v.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function ZN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const Wr=Object.freeze({x:0,y:0});function JN(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function T9(e,t){const n=iu(e);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function XN(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return n-s}function D9(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function Pb(e){let{left:t,top:n,height:s,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+s},{x:t+o,y:n+s}]}function QN(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Rb(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const P9=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const o=Rb(t,t.left,t.top),i=[];for(const c of s){const{id:d}=c,h=n.get(d);if(h){const f=JN(Rb(h),o);i.push({id:d,data:{droppableContainer:c,value:f}})}}return i.sort(XN)},R9=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const o=Pb(t),i=[];for(const c of s){const{id:d}=c,h=n.get(d);if(h){const f=Pb(h),m=o.reduce((x,b,w)=>x+JN(f[w],b),0),p=Number((m/4).toFixed(4));i.push({id:d,data:{droppableContainer:c,value:p}})}}return i.sort(XN)};function A9(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),c=o-s,d=i-n;if(s<o&&n<i){const h=t.width*t.height,f=e.width*e.height,m=c*d,p=m/(h+f-m);return Number(p.toFixed(4))}return 0}const I9=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const o=[];for(const i of s){const{id:c}=i,d=n.get(c);if(d){const h=A9(d,t);h>0&&o.push({id:c,data:{droppableContainer:i,value:h}})}}return o.sort(D9)};function O9(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function eS(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Wr}function F9(e){return function(n){for(var s=arguments.length,o=new Array(s>1?s-1:0),i=1;i<s;i++)o[i-1]=arguments[i];return o.reduce((c,d)=>({...c,top:c.top+e*d.y,bottom:c.bottom+e*d.y,left:c.left+e*d.x,right:c.right+e*d.x}),{...n})}}const M9=F9(1);function tS(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function L9(e,t,n){const s=tS(t);if(!s)return e;const{scaleX:o,scaleY:i,x:c,y:d}=s,h=e.left-c-(1-o)*parseFloat(n),f=e.top-d-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),m=o?e.width/o:e.width,p=i?e.height/i:e.height;return{width:m,height:p,top:f,right:h+m,bottom:f+p,left:h}}const z9={ignoreTransform:!1};function ki(e,t){t===void 0&&(t=z9);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:m}=jn(e).getComputedStyle(e);f&&(n=L9(n,f,m))}const{top:s,left:o,width:i,height:c,bottom:d,right:h}=n;return{top:s,left:o,width:i,height:c,bottom:d,right:h}}function Ab(e){return ki(e,{ignoreTransform:!0})}function $9(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function B9(e,t){return t===void 0&&(t=jn(e).getComputedStyle(e)),t.position==="fixed"}function U9(e,t){t===void 0&&(t=jn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function Ju(e,t){const n=[];function s(o){if(t!=null&&n.length>=t||!o)return n;if(zg(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Zl(o)||YN(o)||n.includes(o))return n;const i=jn(e).getComputedStyle(o);return o!==e&&U9(o,i)&&n.push(o),B9(o,i)?n:s(o.parentNode)}return e?s(e):n}function nS(e){const[t]=Ju(e,1);return t??null}function Sp(e){return!Ku||!e?null:bi(e)?e:Lg(e)?zg(e)||e===wi(e).scrollingElement?window:Zl(e)?e:null:null}function rS(e){return bi(e)?e.scrollX:e.scrollLeft}function sS(e){return bi(e)?e.scrollY:e.scrollTop}function mm(e){return{x:rS(e),y:sS(e)}}var Jt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Jt||(Jt={}));function aS(e){return!Ku||!e?!1:e===document.scrollingElement}function oS(e){const t={x:0,y:0},n=aS(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,c=e.scrollTop>=s.y,d=e.scrollLeft>=s.x;return{isTop:o,isLeft:i,isBottom:c,isRight:d,maxScroll:s,minScroll:t}}const V9={x:.2,y:.2};function W9(e,t,n,s,o){let{top:i,left:c,right:d,bottom:h}=n;s===void 0&&(s=10),o===void 0&&(o=V9);const{isTop:f,isBottom:m,isLeft:p,isRight:x}=oS(e),b={x:0,y:0},w={x:0,y:0},k={height:t.height*o.y,width:t.width*o.x};return!f&&i<=t.top+k.height?(b.y=Jt.Backward,w.y=s*Math.abs((t.top+k.height-i)/k.height)):!m&&h>=t.bottom-k.height&&(b.y=Jt.Forward,w.y=s*Math.abs((t.bottom-k.height-h)/k.height)),!x&&d>=t.right-k.width?(b.x=Jt.Forward,w.x=s*Math.abs((t.right-k.width-d)/k.width)):!p&&c<=t.left+k.width&&(b.x=Jt.Backward,w.x=s*Math.abs((t.left+k.width-c)/k.width)),{direction:b,speed:w}}function H9(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:c}=window;return{top:0,left:0,right:i,bottom:c,width:i,height:c}}const{top:t,left:n,right:s,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:o,width:e.clientWidth,height:e.clientHeight}}function iS(e){return e.reduce((t,n)=>ii(t,mm(n)),Wr)}function q9(e){return e.reduce((t,n)=>t+rS(n),0)}function Y9(e){return e.reduce((t,n)=>t+sS(n),0)}function lS(e,t){if(t===void 0&&(t=ki),!e)return;const{top:n,left:s,bottom:o,right:i}=t(e);nS(e)&&(o<=0||i<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const K9=[["x",["left","right"],q9],["y",["top","bottom"],Y9]];class $g{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Ju(n),o=iS(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,c,d]of K9)for(const h of c)Object.defineProperty(this,h,{get:()=>{const f=d(s),m=o[i]-f;return this.rect[h]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ml{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var o;(o=this.target)==null||o.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function G9(e){const{EventTarget:t}=jn(e);return e instanceof t?e:wi(e)}function Ep(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var dr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(dr||(dr={}));function Ib(e){e.preventDefault()}function Z9(e){e.stopPropagation()}var We;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(We||(We={}));const cS={start:[We.Space,We.Enter],cancel:[We.Esc],end:[We.Space,We.Enter,We.Tab]},J9=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case We.Right:return{...n,x:n.x+25};case We.Left:return{...n,x:n.x-25};case We.Down:return{...n,y:n.y+25};case We.Up:return{...n,y:n.y-25}}};class Bg{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new ml(wi(n)),this.windowListeners=new ml(jn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(dr.Resize,this.handleCancel),this.windowListeners.add(dr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(dr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&lS(s),n(Wr)}handleKeyDown(t){if(Zu(t)){const{active:n,context:s,options:o}=this.props,{keyboardCodes:i=cS,coordinateGetter:c=J9,scrollBehavior:d="smooth"}=o,{code:h}=t;if(i.end.includes(h)){this.handleEnd(t);return}if(i.cancel.includes(h)){this.handleCancel(t);return}const{collisionRect:f}=s.current,m=f?{x:f.left,y:f.top}:Wr;this.referenceCoordinates||(this.referenceCoordinates=m);const p=c(t,{active:n,context:s.current,currentCoordinates:m});if(p){const x=Il(p,m),b={x:0,y:0},{scrollableAncestors:w}=s.current;for(const k of w){const N=t.code,{isTop:E,isRight:S,isLeft:C,isBottom:D,maxScroll:_,minScroll:A}=oS(k),P=H9(k),F={x:Math.min(N===We.Right?P.right-P.width/2:P.right,Math.max(N===We.Right?P.left:P.left+P.width/2,p.x)),y:Math.min(N===We.Down?P.bottom-P.height/2:P.bottom,Math.max(N===We.Down?P.top:P.top+P.height/2,p.y))},W=N===We.Right&&!S||N===We.Left&&!C,U=N===We.Down&&!D||N===We.Up&&!E;if(W&&F.x!==p.x){const G=k.scrollLeft+x.x,ne=N===We.Right&&G<=_.x||N===We.Left&&G>=A.x;if(ne&&!x.y){k.scrollTo({left:G,behavior:d});return}ne?b.x=k.scrollLeft-G:b.x=N===We.Right?k.scrollLeft-_.x:k.scrollLeft-A.x,b.x&&k.scrollBy({left:-b.x,behavior:d});break}else if(U&&F.y!==p.y){const G=k.scrollTop+x.y,ne=N===We.Down&&G<=_.y||N===We.Up&&G>=A.y;if(ne&&!x.x){k.scrollTo({top:G,behavior:d});return}ne?b.y=k.scrollTop-G:b.y=N===We.Down?k.scrollTop-_.y:k.scrollTop-A.y,b.y&&k.scrollBy({top:-b.y,behavior:d});break}}this.handleMove(t,ii(Il(p,this.referenceCoordinates),b))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Bg.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=cS,onActivation:o}=t,{active:i}=n;const{code:c}=e.nativeEvent;if(s.start.includes(c)){const d=i.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function Ob(e){return!!(e&&"distance"in e)}function Fb(e){return!!(e&&"delay"in e)}class Ug{constructor(t,n,s){var o;s===void 0&&(s=G9(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:c}=i;this.props=t,this.events=n,this.document=wi(c),this.documentListeners=new ml(this.document),this.listeners=new ml(s),this.windowListeners=new ml(jn(c)),this.initialCoordinates=(o=iu(i))!=null?o:Wr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(dr.Resize,this.handleCancel),this.windowListeners.add(dr.DragStart,Ib),this.windowListeners.add(dr.VisibilityChange,this.handleCancel),this.windowListeners.add(dr.ContextMenu,Ib),this.documentListeners.add(dr.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Fb(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Ob(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:o}=this.props;o(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(dr.Click,Z9,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(dr.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:o,props:i}=this,{onMove:c,options:{activationConstraint:d}}=i;if(!o)return;const h=(n=iu(t))!=null?n:Wr,f=Il(o,h);if(!s&&d){if(Ob(d)){if(d.tolerance!=null&&Ep(f,d.tolerance))return this.handleCancel();if(Ep(f,d.distance))return this.handleStart()}if(Fb(d)&&Ep(f,d.tolerance))return this.handleCancel();this.handlePending(d,f);return}t.cancelable&&t.preventDefault(),c(h)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===We.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const X9={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Xu extends Ug{constructor(t){const{event:n}=t,s=wi(n.target);super(t,X9,s)}}Xu.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const Q9={move:{name:"mousemove"},end:{name:"mouseup"}};var gm;(function(e){e[e.RightClick=2]="RightClick"})(gm||(gm={}));class e7 extends Ug{constructor(t){super(t,Q9,wi(t.event.target))}}e7.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===gm.RightClick?!1:(s?.({event:n}),!0)}}];const _p={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class t7 extends Ug{constructor(t){super(t,_p)}static setup(){return window.addEventListener(_p.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(_p.move.name,t)};function t(){}}}t7.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:o}=n;return o.length>1?!1:(s?.({event:n}),!0)}}];var gl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(gl||(gl={}));var cu;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(cu||(cu={}));function n7(e){let{acceleration:t,activator:n=gl.Pointer,canScroll:s,draggingRect:o,enabled:i,interval:c=5,order:d=cu.TreeOrder,pointerCoordinates:h,scrollableAncestors:f,scrollableAncestorRects:m,delta:p,threshold:x}=e;const b=s7({delta:p,disabled:!i}),[w,k]=g9(),N=v.useRef({x:0,y:0}),E=v.useRef({x:0,y:0}),S=v.useMemo(()=>{switch(n){case gl.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case gl.DraggableRect:return o}},[n,o,h]),C=v.useRef(null),D=v.useCallback(()=>{const A=C.current;if(!A)return;const P=N.current.x*E.current.x,F=N.current.y*E.current.y;A.scrollBy(P,F)},[]),_=v.useMemo(()=>d===cu.TreeOrder?[...f].reverse():f,[d,f]);v.useEffect(()=>{if(!i||!f.length||!S){k();return}for(const A of _){if(s?.(A)===!1)continue;const P=f.indexOf(A),F=m[P];if(!F)continue;const{direction:W,speed:U}=W9(A,F,S,t,x);for(const G of["x","y"])b[G][W[G]]||(U[G]=0,W[G]=0);if(U.x>0||U.y>0){k(),C.current=A,w(D,c),N.current=U,E.current=W;return}}N.current={x:0,y:0},E.current={x:0,y:0},k()},[t,D,s,k,i,c,JSON.stringify(S),JSON.stringify(b),w,f,_,m,JSON.stringify(x)])}const r7={x:{[Jt.Backward]:!1,[Jt.Forward]:!1},y:{[Jt.Backward]:!1,[Jt.Forward]:!1}};function s7(e){let{delta:t,disabled:n}=e;const s=ou(t);return Jl(o=>{if(n||!s||!o)return r7;const i={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[Jt.Backward]:o.x[Jt.Backward]||i.x===-1,[Jt.Forward]:o.x[Jt.Forward]||i.x===1},y:{[Jt.Backward]:o.y[Jt.Backward]||i.y===-1,[Jt.Forward]:o.y[Jt.Forward]||i.y===1}}},[n,t,s])}function a7(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return Jl(o=>{var i;return t==null?null:(i=s??o)!=null?i:null},[s,t])}function o7(e,t){return v.useMemo(()=>e.reduce((n,s)=>{const{sensor:o}=s,i=o.activators.map(c=>({eventName:c.eventName,handler:t(c.handler,s)}));return[...n,...i]},[]),[e,t])}var Ol;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ol||(Ol={}));var vm;(function(e){e.Optimized="optimized"})(vm||(vm={}));const Mb=new Map;function i7(e,t){let{dragging:n,dependencies:s,config:o}=t;const[i,c]=v.useState(null),{frequency:d,measure:h,strategy:f}=o,m=v.useRef(e),p=N(),x=Al(p),b=v.useCallback(function(E){E===void 0&&(E=[]),!x.current&&c(S=>S===null?E:S.concat(E.filter(C=>!S.includes(C))))},[x]),w=v.useRef(null),k=Jl(E=>{if(p&&!n)return Mb;if(!E||E===Mb||m.current!==e||i!=null){const S=new Map;for(let C of e){if(!C)continue;if(i&&i.length>0&&!i.includes(C.id)&&C.rect.current){S.set(C.id,C.rect.current);continue}const D=C.node.current,_=D?new $g(h(D),D):null;C.rect.current=_,_&&S.set(C.id,_)}return S}return E},[e,i,n,p,h]);return v.useEffect(()=>{m.current=e},[e]),v.useEffect(()=>{p||b()},[n,p]),v.useEffect(()=>{i&&i.length>0&&c(null)},[JSON.stringify(i)]),v.useEffect(()=>{p||typeof d!="number"||w.current!==null||(w.current=setTimeout(()=>{b(),w.current=null},d))},[d,p,b,...s]),{droppableRects:k,measureDroppableContainers:b,measuringScheduled:i!=null};function N(){switch(f){case Ol.Always:return!1;case Ol.BeforeDragging:return n;default:return!n}}}function Vg(e,t){return Jl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function l7(e,t){return Vg(e,t)}function c7(e){let{callback:t,disabled:n}=e;const s=Gu(t),o=v.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(s)},[s,n]);return v.useEffect(()=>()=>o?.disconnect(),[o]),o}function Qu(e){let{callback:t,disabled:n}=e;const s=Gu(t),o=v.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(s)},[n]);return v.useEffect(()=>()=>o?.disconnect(),[o]),o}function d7(e){return new $g(ki(e),e)}function Lb(e,t,n){t===void 0&&(t=d7);const[s,o]=v.useState(null);function i(){o(h=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=h??n)!=null?f:null}const m=t(e);return JSON.stringify(h)===JSON.stringify(m)?h:m})}const c=c7({callback(h){if(e)for(const f of h){const{type:m,target:p}=f;if(m==="childList"&&p instanceof HTMLElement&&p.contains(e)){i();break}}}}),d=Qu({callback:i});return Vr(()=>{i(),e?(d?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),c?.disconnect())},[e]),s}function u7(e){const t=Vg(e);return eS(e,t)}const zb=[];function f7(e){const t=v.useRef(e),n=Jl(s=>e?s&&s!==zb&&e&&t.current&&e.parentNode===t.current.parentNode?s:Ju(e):zb,[e]);return v.useEffect(()=>{t.current=e},[e]),n}function h7(e){const[t,n]=v.useState(null),s=v.useRef(e),o=v.useCallback(i=>{const c=Sp(i.target);c&&n(d=>d?(d.set(c,mm(c)),new Map(d)):null)},[]);return v.useEffect(()=>{const i=s.current;if(e!==i){c(i);const d=e.map(h=>{const f=Sp(h);return f?(f.addEventListener("scroll",o,{passive:!0}),[f,mm(f)]):null}).filter(h=>h!=null);n(d.length?new Map(d):null),s.current=e}return()=>{c(e),c(i)};function c(d){d.forEach(h=>{const f=Sp(h);f?.removeEventListener("scroll",o)})}},[o,e]),v.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,c)=>ii(i,c),Wr):iS(e):Wr,[e,t])}function $b(e,t){t===void 0&&(t=[]);const n=v.useRef(null);return v.useEffect(()=>{n.current=null},t),v.useEffect(()=>{const s=e!==Wr;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?Il(e,n.current):Wr}function p7(e){v.useEffect(()=>{if(!Ku)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function m7(e,t){return v.useMemo(()=>e.reduce((n,s)=>{let{eventName:o,handler:i}=s;return n[o]=c=>{i(c,t)},n},{}),[e,t])}function dS(e){return v.useMemo(()=>e?$9(e):null,[e])}const Bb=[];function g7(e,t){t===void 0&&(t=ki);const[n]=e,s=dS(n?jn(n):null),[o,i]=v.useState(Bb);function c(){i(()=>e.length?e.map(h=>aS(h)?s:new $g(t(h),h)):Bb)}const d=Qu({callback:c});return Vr(()=>{d?.disconnect(),c(),e.forEach(h=>d?.observe(h))},[e]),o}function uS(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Zl(t)?t:e}function v7(e){let{measure:t}=e;const[n,s]=v.useState(null),o=v.useCallback(f=>{for(const{target:m}of f)if(Zl(m)){s(p=>{const x=t(m);return p?{...p,width:x.width,height:x.height}:x});break}},[t]),i=Qu({callback:o}),c=v.useCallback(f=>{const m=uS(f);i?.disconnect(),m&&i?.observe(m),s(m?t(m):null)},[t,i]),[d,h]=au(c);return v.useMemo(()=>({nodeRef:d,rect:n,setRef:h}),[n,d,h])}const x7=[{sensor:Xu,options:{}},{sensor:Bg,options:{}}],y7={current:{}},Rd={draggable:{measure:Ab},droppable:{measure:Ab,strategy:Ol.WhileDragging,frequency:vm.Optimized},dragOverlay:{measure:ki}};class vl extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const b7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new vl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:lu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Rd,measureDroppableContainers:lu,windowRect:null,measuringScheduled:!1},fS={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:lu,draggableNodes:new Map,over:null,measureDroppableContainers:lu},Ql=v.createContext(fS),hS=v.createContext(b7);function w7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new vl}}}function k7(e,t){switch(t.type){case Wt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Wt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Wt.DragEnd:case Wt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Wt.RegisterDroppable:{const{element:n}=t,{id:s}=n,o=new vl(e.droppable.containers);return o.set(s,n),{...e,droppable:{...e.droppable,containers:o}}}case Wt.SetDroppableDisabled:{const{id:n,key:s,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||s!==i.key)return e;const c=new vl(e.droppable.containers);return c.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:c}}}case Wt.UnregisterDroppable:{const{id:n,key:s}=t,o=e.droppable.containers.get(n);if(!o||s!==o.key)return e;const i=new vl(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function j7(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:o}=v.useContext(Ql),i=ou(s),c=ou(n?.id);return v.useEffect(()=>{if(!t&&!s&&i&&c!=null){if(!Zu(i)||document.activeElement===i.target)return;const d=o.get(c);if(!d)return;const{activatorNode:h,node:f}=d;if(!h.current&&!f.current)return;requestAnimationFrame(()=>{for(const m of[h.current,f.current]){if(!m)continue;const p=y9(m);if(p){p.focus();break}}})}},[s,t,o,c,i]),null}function pS(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...s}),n):n}function N7(e){return v.useMemo(()=>({draggable:{...Rd.draggable,...e?.draggable},droppable:{...Rd.droppable,...e?.droppable},dragOverlay:{...Rd.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function S7(e){let{activeNode:t,measure:n,initialRect:s,config:o=!0}=e;const i=v.useRef(!1),{x:c,y:d}=typeof o=="boolean"?{x:o,y:o}:o;Vr(()=>{if(!c&&!d||!t){i.current=!1;return}if(i.current||!s)return;const f=t?.node.current;if(!f||f.isConnected===!1)return;const m=n(f),p=eS(m,s);if(c||(p.x=0),d||(p.y=0),i.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const x=nS(f);x&&x.scrollBy({top:p.y,left:p.x})}},[t,c,d,s,n])}const ef=v.createContext({...Wr,scaleX:1,scaleY:1});var aa;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(aa||(aa={}));const mS=v.memo(function(t){var n,s,o,i;let{id:c,accessibility:d,autoScroll:h=!0,children:f,sensors:m=x7,collisionDetection:p=I9,measuring:x,modifiers:b,...w}=t;const k=v.useReducer(k7,void 0,w7),[N,E]=k,[S,C]=S9(),[D,_]=v.useState(aa.Uninitialized),A=D===aa.Initialized,{draggable:{active:P,nodes:F,translate:W},droppable:{containers:U}}=N,G=P!=null?F.get(P):null,ne=v.useRef({initial:null,translated:null}),V=v.useMemo(()=>{var it;return P!=null?{id:P,data:(it=G?.data)!=null?it:y7,rect:ne}:null},[P,G]),re=v.useRef(null),[pe,se]=v.useState(null),[q,M]=v.useState(null),X=Al(w,Object.values(w)),ae=Xl("DndDescribedBy",c),I=v.useMemo(()=>U.getEnabled(),[U]),R=N7(x),{droppableRects:O,measureDroppableContainers:z,measuringScheduled:H}=i7(I,{dragging:A,dependencies:[W.x,W.y],config:R.droppable}),Q=a7(F,P),J=v.useMemo(()=>q?iu(q):null,[q]),ie=Kr(),be=l7(Q,R.draggable.measure);S7({activeNode:P!=null?F.get(P):null,config:ie.layoutShiftCompensation,initialRect:be,measure:R.draggable.measure});const ge=Lb(Q,R.draggable.measure,be),Ae=Lb(Q?Q.parentElement:null),Oe=v.useRef({activatorEvent:null,active:null,activeNode:Q,collisionRect:null,collisions:null,droppableRects:O,draggableNodes:F,draggingNode:null,draggingNodeRect:null,droppableContainers:U,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ot=U.getNodeFor((n=Oe.current.over)==null?void 0:n.id),ft=v7({measure:R.dragOverlay.measure}),mn=(s=ft.nodeRef.current)!=null?s:Q,ln=A?(o=ft.rect)!=null?o:ge:null,cn=!!(ft.nodeRef.current&&ft.rect),As=u7(cn?null:ge),Qt=dS(mn?jn(mn):null),dn=f7(A?ot??Q:null),Un=g7(dn),kt=pS(b,{transform:{x:W.x-As.x,y:W.y-As.y,scaleX:1,scaleY:1},activatorEvent:q,active:V,activeNodeRect:ge,containerNodeRect:Ae,draggingNodeRect:ln,over:Oe.current.over,overlayNodeRect:ft.rect,scrollableAncestors:dn,scrollableAncestorRects:Un,windowRect:Qt}),tr=J?ii(J,W):null,wa=h7(dn),fo=$b(wa),hs=$b(wa,[ge]),nr=ii(kt,fo),Nn=ln?M9(ln,kt):null,rr=V&&Nn?p({active:V,collisionRect:Nn,droppableRects:O,droppableContainers:I,pointerCoordinates:tr}):null,gn=QN(rr,"id"),[en,yr]=v.useState(null),ho=cn?kt:ii(kt,hs),po=O9(ho,(i=en?.rect)!=null?i:null,ge),Is=v.useRef(null),ps=v.useCallback((it,Lt)=>{let{sensor:_e,options:Qe}=Lt;if(re.current==null)return;const Ge=F.get(re.current);if(!Ge)return;const et=it.nativeEvent,zt=new _e({active:re.current,activeNode:Ge,event:et,options:Qe,context:Oe,onAbort(Ve){if(!F.get(Ve))return;const{onDragAbort:st}=X.current,vt={id:Ve};st?.(vt),S({type:"onDragAbort",event:vt})},onPending(Ve,tn,st,vt){if(!F.get(Ve))return;const{onDragPending:qt}=X.current,_n={id:Ve,constraint:tn,initialCoordinates:st,offset:vt};qt?.(_n),S({type:"onDragPending",event:_n})},onStart(Ve){const tn=re.current;if(tn==null)return;const st=F.get(tn);if(!st)return;const{onDragStart:vt}=X.current,En={activatorEvent:et,active:{id:tn,data:st.data,rect:ne}};rs.unstable_batchedUpdates(()=>{vt?.(En),_(aa.Initializing),E({type:Wt.DragStart,initialCoordinates:Ve,active:tn}),S({type:"onDragStart",event:En}),se(Is.current),M(et)})},onMove(Ve){E({type:Wt.DragMove,coordinates:Ve})},onEnd:at(Wt.DragEnd),onCancel:at(Wt.DragCancel)});Is.current=zt;function at(Ve){return async function(){const{active:st,collisions:vt,over:En,scrollAdjustedTranslate:qt}=Oe.current;let _n=null;if(st&&qt){const{cancelDrop:ms}=X.current;_n={activatorEvent:et,active:st,collisions:vt,delta:qt,over:En},Ve===Wt.DragEnd&&typeof ms=="function"&&await Promise.resolve(ms(_n))&&(Ve=Wt.DragCancel)}re.current=null,rs.unstable_batchedUpdates(()=>{E({type:Ve}),_(aa.Uninitialized),yr(null),se(null),M(null),Is.current=null;const ms=Ve===Wt.DragEnd?"onDragEnd":"onDragCancel";if(_n){const Ni=X.current[ms];Ni?.(_n),S({type:ms,event:_n})}})}}},[F]),ka=v.useCallback((it,Lt)=>(_e,Qe)=>{const Ge=_e.nativeEvent,et=F.get(Qe);if(re.current!==null||!et||Ge.dndKit||Ge.defaultPrevented)return;const zt={active:et};it(_e,Lt.options,zt)===!0&&(Ge.dndKit={capturedBy:Lt.sensor},re.current=Qe,ps(_e,Lt))},[F,ps]),Yr=o7(m,ka);p7(m),Vr(()=>{ge&&D===aa.Initializing&&_(aa.Initialized)},[ge,D]),v.useEffect(()=>{const{onDragMove:it}=X.current,{active:Lt,activatorEvent:_e,collisions:Qe,over:Ge}=Oe.current;if(!Lt||!_e)return;const et={active:Lt,activatorEvent:_e,collisions:Qe,delta:{x:nr.x,y:nr.y},over:Ge};rs.unstable_batchedUpdates(()=>{it?.(et),S({type:"onDragMove",event:et})})},[nr.x,nr.y]),v.useEffect(()=>{const{active:it,activatorEvent:Lt,collisions:_e,droppableContainers:Qe,scrollAdjustedTranslate:Ge}=Oe.current;if(!it||re.current==null||!Lt||!Ge)return;const{onDragOver:et}=X.current,zt=Qe.get(gn),at=zt&&zt.rect.current?{id:zt.id,rect:zt.rect.current,data:zt.data,disabled:zt.disabled}:null,Ve={active:it,activatorEvent:Lt,collisions:_e,delta:{x:Ge.x,y:Ge.y},over:at};rs.unstable_batchedUpdates(()=>{yr(at),et?.(Ve),S({type:"onDragOver",event:Ve})})},[gn]),Vr(()=>{Oe.current={activatorEvent:q,active:V,activeNode:Q,collisionRect:Nn,collisions:rr,droppableRects:O,draggableNodes:F,draggingNode:mn,draggingNodeRect:ln,droppableContainers:U,over:en,scrollableAncestors:dn,scrollAdjustedTranslate:nr},ne.current={initial:ln,translated:Nn}},[V,Q,rr,Nn,F,mn,ln,O,U,en,dn,nr]),n7({...ie,delta:W,draggingRect:Nn,pointerCoordinates:tr,scrollableAncestors:dn,scrollableAncestorRects:Un});const Sn=v.useMemo(()=>({active:V,activeNode:Q,activeNodeRect:ge,activatorEvent:q,collisions:rr,containerNodeRect:Ae,dragOverlay:ft,draggableNodes:F,droppableContainers:U,droppableRects:O,over:en,measureDroppableContainers:z,scrollableAncestors:dn,scrollableAncestorRects:Un,measuringConfiguration:R,measuringScheduled:H,windowRect:Qt}),[V,Q,ge,q,rr,Ae,ft,F,U,O,en,z,dn,Un,R,H,Qt]),ja=v.useMemo(()=>({activatorEvent:q,activators:Yr,active:V,activeNodeRect:ge,ariaDescribedById:{draggable:ae},dispatch:E,draggableNodes:F,over:en,measureDroppableContainers:z}),[q,Yr,V,ge,E,ae,F,en,z]);return te.createElement(GN.Provider,{value:C},te.createElement(Ql.Provider,{value:ja},te.createElement(hS.Provider,{value:Sn},te.createElement(ef.Provider,{value:po},f)),te.createElement(j7,{disabled:d?.restoreFocus===!1})),te.createElement(C9,{...d,hiddenTextDescribedById:ae}));function Kr(){const it=pe?.autoScrollEnabled===!1,Lt=typeof h=="object"?h.enabled===!1:h===!1,_e=A&&!it&&!Lt;return typeof h=="object"?{...h,enabled:_e}:{enabled:_e}}}),E7=v.createContext(null),Ub="button",_7="Draggable";function gS(e){let{id:t,data:n,disabled:s=!1,attributes:o}=e;const i=Xl(_7),{activators:c,activatorEvent:d,active:h,activeNodeRect:f,ariaDescribedById:m,draggableNodes:p,over:x}=v.useContext(Ql),{role:b=Ub,roleDescription:w="draggable",tabIndex:k=0}=o??{},N=h?.id===t,E=v.useContext(N?ef:E7),[S,C]=au(),[D,_]=au(),A=m7(c,t),P=Al(n);Vr(()=>(p.set(t,{id:t,key:i,node:S,activatorNode:D,data:P}),()=>{const W=p.get(t);W&&W.key===i&&p.delete(t)}),[p,t]);const F=v.useMemo(()=>({role:b,tabIndex:k,"aria-disabled":s,"aria-pressed":N&&b===Ub?!0:void 0,"aria-roledescription":w,"aria-describedby":m.draggable}),[s,b,k,N,w,m.draggable]);return{active:h,activatorEvent:d,activeNodeRect:f,attributes:F,isDragging:N,listeners:s?void 0:A,node:S,over:x,setNodeRef:C,setActivatorNodeRef:_,transform:E}}function vS(){return v.useContext(hS)}const C7="Droppable",T7={timeout:25};function xS(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:o}=e;const i=Xl(C7),{active:c,dispatch:d,over:h,measureDroppableContainers:f}=v.useContext(Ql),m=v.useRef({disabled:n}),p=v.useRef(!1),x=v.useRef(null),b=v.useRef(null),{disabled:w,updateMeasurementsFor:k,timeout:N}={...T7,...o},E=Al(k??s),S=v.useCallback(()=>{if(!p.current){p.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{f(Array.isArray(E.current)?E.current:[E.current]),b.current=null},N)},[N]),C=Qu({callback:S,disabled:w||!c}),D=v.useCallback((F,W)=>{C&&(W&&(C.unobserve(W),p.current=!1),F&&C.observe(F))},[C]),[_,A]=au(D),P=Al(t);return v.useEffect(()=>{!C||!_.current||(C.disconnect(),p.current=!1,C.observe(_.current))},[_,C]),v.useEffect(()=>(d({type:Wt.RegisterDroppable,element:{id:s,key:i,disabled:n,node:_,rect:x,data:P}}),()=>d({type:Wt.UnregisterDroppable,key:i,id:s})),[s]),v.useEffect(()=>{n!==m.current.disabled&&(d({type:Wt.SetDroppableDisabled,id:s,key:i,disabled:n}),m.current.disabled=n)},[s,i,n,d]),{active:c,rect:x,isOver:h?.id===s,node:_,over:h,setNodeRef:A}}function D7(e){let{animation:t,children:n}=e;const[s,o]=v.useState(null),[i,c]=v.useState(null),d=ou(n);return!n&&!s&&d&&o(d),Vr(()=>{if(!i)return;const h=s?.key,f=s?.props.id;if(h==null||f==null){o(null);return}Promise.resolve(t(f,i)).then(()=>{o(null)})},[t,s,i]),te.createElement(te.Fragment,null,n,s?v.cloneElement(s,{ref:c}):null)}const P7={x:0,y:0,scaleX:1,scaleY:1};function R7(e){let{children:t}=e;return te.createElement(Ql.Provider,{value:fS},te.createElement(ef.Provider,{value:P7},t))}const A7={position:"fixed",touchAction:"none"},I7=e=>Zu(e)?"transform 250ms ease":void 0,O7=v.forwardRef((e,t)=>{let{as:n,activatorEvent:s,adjustScale:o,children:i,className:c,rect:d,style:h,transform:f,transition:m=I7}=e;if(!d)return null;const p=o?f:{...f,scaleX:1,scaleY:1},x={...A7,width:d.width,height:d.height,top:d.top,left:d.left,transform:ga.Transform.toString(p),transformOrigin:o&&s?T9(s,d):void 0,transition:typeof m=="function"?m(s):m,...h};return te.createElement(n,{className:c,style:x,ref:t},i)}),F7=e=>t=>{let{active:n,dragOverlay:s}=t;const o={},{styles:i,className:c}=e;if(i!=null&&i.active)for(const[d,h]of Object.entries(i.active))h!==void 0&&(o[d]=n.node.style.getPropertyValue(d),n.node.style.setProperty(d,h));if(i!=null&&i.dragOverlay)for(const[d,h]of Object.entries(i.dragOverlay))h!==void 0&&s.node.style.setProperty(d,h);return c!=null&&c.active&&n.node.classList.add(c.active),c!=null&&c.dragOverlay&&s.node.classList.add(c.dragOverlay),function(){for(const[h,f]of Object.entries(o))n.node.style.setProperty(h,f);c!=null&&c.active&&n.node.classList.remove(c.active)}},M7=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:ga.Transform.toString(t)},{transform:ga.Transform.toString(n)}]},L7={duration:250,easing:"ease",keyframes:M7,sideEffects:F7({styles:{active:{opacity:"0"}}})};function z7(e){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:o}=e;return Gu((i,c)=>{if(t===null)return;const d=n.get(i);if(!d)return;const h=d.node.current;if(!h)return;const f=uS(c);if(!f)return;const{transform:m}=jn(c).getComputedStyle(c),p=tS(m);if(!p)return;const x=typeof t=="function"?t:$7(t);return lS(h,o.draggable.measure),x({active:{id:i,data:d.data,node:h,rect:o.draggable.measure(h)},draggableNodes:n,dragOverlay:{node:c,rect:o.dragOverlay.measure(f)},droppableContainers:s,measuringConfiguration:o,transform:p})})}function $7(e){const{duration:t,easing:n,sideEffects:s,keyframes:o}={...L7,...e};return i=>{let{active:c,dragOverlay:d,transform:h,...f}=i;if(!t)return;const m={x:d.rect.left-c.rect.left,y:d.rect.top-c.rect.top},p={scaleX:h.scaleX!==1?c.rect.width*h.scaleX/d.rect.width:1,scaleY:h.scaleY!==1?c.rect.height*h.scaleY/d.rect.height:1},x={x:h.x-m.x,y:h.y-m.y,...p},b=o({...f,active:c,dragOverlay:d,transform:{initial:h,final:x}}),[w]=b,k=b[b.length-1];if(JSON.stringify(w)===JSON.stringify(k))return;const N=s?.({active:c,dragOverlay:d,...f}),E=d.node.animate(b,{duration:t,easing:n,fill:"forwards"});return new Promise(S=>{E.onfinish=()=>{N?.(),S()}})}}let Vb=0;function B7(e){return v.useMemo(()=>{if(e!=null)return Vb++,Vb},[e])}const U7=te.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:o,transition:i,modifiers:c,wrapperElement:d="div",className:h,zIndex:f=999}=e;const{activatorEvent:m,active:p,activeNodeRect:x,containerNodeRect:b,draggableNodes:w,droppableContainers:k,dragOverlay:N,over:E,measuringConfiguration:S,scrollableAncestors:C,scrollableAncestorRects:D,windowRect:_}=vS(),A=v.useContext(ef),P=B7(p?.id),F=pS(c,{activatorEvent:m,active:p,activeNodeRect:x,containerNodeRect:b,draggingNodeRect:N.rect,over:E,overlayNodeRect:N.rect,scrollableAncestors:C,scrollableAncestorRects:D,transform:A,windowRect:_}),W=Vg(x),U=z7({config:s,draggableNodes:w,droppableContainers:k,measuringConfiguration:S}),G=W?N.setRef:void 0;return te.createElement(R7,null,te.createElement(D7,{animation:U},p&&P?te.createElement(O7,{key:P,id:p.id,ref:G,as:d,activatorEvent:m,adjustScale:t,className:h,transition:i,rect:W,style:{zIndex:f,...o},transform:F},n):null))});function Wg(e,t,n){const s=e.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function V7(e,t){return e.reduce((n,s,o)=>{const i=t.get(s);return i&&(n[o]=i),n},Array(e.length))}function Sd(e){return e!==null&&e>=0}function W7(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function H7(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Hg=e=>{let{rects:t,activeIndex:n,overIndex:s,index:o}=e;const i=Wg(t,s,n),c=t[o],d=i[o];return!d||!c?null:{x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height}},yS="Sortable",bS=te.createContext({activeIndex:-1,containerId:yS,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Hg,disabled:{draggable:!1,droppable:!1}});function q7(e){let{children:t,id:n,items:s,strategy:o=Hg,disabled:i=!1}=e;const{active:c,dragOverlay:d,droppableRects:h,over:f,measureDroppableContainers:m}=vS(),p=Xl(yS,n),x=d.rect!==null,b=v.useMemo(()=>s.map(A=>typeof A=="object"&&"id"in A?A.id:A),[s]),w=c!=null,k=c?b.indexOf(c.id):-1,N=f?b.indexOf(f.id):-1,E=v.useRef(b),S=!W7(b,E.current),C=N!==-1&&k===-1||S,D=H7(i);Vr(()=>{S&&w&&m(b)},[S,b,w,m]),v.useEffect(()=>{E.current=b},[b]);const _=v.useMemo(()=>({activeIndex:k,containerId:p,disabled:D,disableTransforms:C,items:b,overIndex:N,useDragOverlay:x,sortedRects:V7(b,h),strategy:o}),[k,p,D.draggable,D.droppable,C,b,N,h,x,o]);return te.createElement(bS.Provider,{value:_},t)}const Y7=e=>{let{id:t,items:n,activeIndex:s,overIndex:o}=e;return Wg(n,s,o).indexOf(t)},K7=e=>{let{containerId:t,isSorting:n,wasDragging:s,index:o,items:i,newIndex:c,previousItems:d,previousContainerId:h,transition:f}=e;return!f||!s||d!==i&&o===c?!1:n?!0:c!==o&&t===h},G7={duration:200,easing:"ease"},wS="transform",Z7=ga.Transition.toString({property:wS,duration:0,easing:"linear"}),J7={roleDescription:"sortable"};function X7(e){let{disabled:t,index:n,node:s,rect:o}=e;const[i,c]=v.useState(null),d=v.useRef(n);return Vr(()=>{if(!t&&n!==d.current&&s.current){const h=o.current;if(h){const f=ki(s.current,{ignoreTransform:!0}),m={x:h.left-f.left,y:h.top-f.top,scaleX:h.width/f.width,scaleY:h.height/f.height};(m.x||m.y)&&c(m)}}n!==d.current&&(d.current=n)},[t,n,s,o]),v.useEffect(()=>{i&&c(null)},[i]),i}function Q7(e){let{animateLayoutChanges:t=K7,attributes:n,disabled:s,data:o,getNewIndex:i=Y7,id:c,strategy:d,resizeObserverConfig:h,transition:f=G7}=e;const{items:m,containerId:p,activeIndex:x,disabled:b,disableTransforms:w,sortedRects:k,overIndex:N,useDragOverlay:E,strategy:S}=v.useContext(bS),C=eU(s,b),D=m.indexOf(c),_=v.useMemo(()=>({sortable:{containerId:p,index:D,items:m},...o}),[p,o,D,m]),A=v.useMemo(()=>m.slice(m.indexOf(c)),[m,c]),{rect:P,node:F,isOver:W,setNodeRef:U}=xS({id:c,data:_,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...h}}),{active:G,activatorEvent:ne,activeNodeRect:V,attributes:re,setNodeRef:pe,listeners:se,isDragging:q,over:M,setActivatorNodeRef:X,transform:ae}=gS({id:c,data:_,attributes:{...J7,...n},disabled:C.draggable}),I=m9(U,pe),R=!!G,O=R&&!w&&Sd(x)&&Sd(N),z=!E&&q,H=z&&O?ae:null,J=O?H??(d??S)({rects:k,activeNodeRect:V,activeIndex:x,overIndex:N,index:D}):null,ie=Sd(x)&&Sd(N)?i({id:c,items:m,activeIndex:x,overIndex:N}):D,be=G?.id,ge=v.useRef({activeId:be,items:m,newIndex:ie,containerId:p}),Ae=m!==ge.current.items,Oe=t({active:G,containerId:p,isDragging:q,isSorting:R,id:c,index:D,items:m,newIndex:ge.current.newIndex,previousItems:ge.current.items,previousContainerId:ge.current.containerId,transition:f,wasDragging:ge.current.activeId!=null}),ot=X7({disabled:!Oe,index:D,node:F,rect:P});return v.useEffect(()=>{R&&ge.current.newIndex!==ie&&(ge.current.newIndex=ie),p!==ge.current.containerId&&(ge.current.containerId=p),m!==ge.current.items&&(ge.current.items=m)},[R,ie,p,m]),v.useEffect(()=>{if(be===ge.current.activeId)return;if(be!=null&&ge.current.activeId==null){ge.current.activeId=be;return}const mn=setTimeout(()=>{ge.current.activeId=be},50);return()=>clearTimeout(mn)},[be]),{active:G,activeIndex:x,attributes:re,data:_,rect:P,index:D,newIndex:ie,items:m,isOver:W,isSorting:R,isDragging:q,listeners:se,node:F,overIndex:N,over:M,setNodeRef:I,setActivatorNodeRef:X,setDroppableNodeRef:U,setDraggableNodeRef:pe,transform:ot??J,transition:ft()};function ft(){if(ot||Ae&&ge.current.newIndex===D)return Z7;if(!(z&&!Zu(ne)||!f)&&(R||Oe))return ga.Transition.toString({...f,property:wS})}}function eU(e,t){var n,s;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(s=e?.droppable)!=null?s:t.droppable}}function du(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const tU=[We.Down,We.Right,We.Up,We.Left],nU=(e,t)=>{let{context:{active:n,collisionRect:s,droppableRects:o,droppableContainers:i,over:c,scrollableAncestors:d}}=t;if(tU.includes(e.code)){if(e.preventDefault(),!n||!s)return;const h=[];i.getEnabled().forEach(p=>{if(!p||p!=null&&p.disabled)return;const x=o.get(p.id);if(x)switch(e.code){case We.Down:s.top<x.top&&h.push(p);break;case We.Up:s.top>x.top&&h.push(p);break;case We.Left:s.left>x.left&&h.push(p);break;case We.Right:s.left<x.left&&h.push(p);break}});const f=R9({collisionRect:s,droppableRects:o,droppableContainers:h});let m=QN(f,"id");if(m===c?.id&&f.length>1&&(m=f[1].id),m!=null){const p=i.get(n.id),x=i.get(m),b=x?o.get(x.id):null,w=x?.node.current;if(w&&b&&p&&x){const N=Ju(w).some((A,P)=>d[P]!==A),E=kS(p,x),S=rU(p,x),C=N||!E?{x:0,y:0}:{x:S?s.width-b.width:0,y:S?s.height-b.height:0},D={x:b.left,y:b.top};return C.x&&C.y?D:Il(D,C)}}}};function kS(e,t){return!du(e)||!du(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function rU(e,t){return!du(e)||!du(t)||!kS(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const qg=[{type:"quick-stats",title:"Quick Stats",description:"Overview of key metrics and statistics",icon:"BarChart3",defaultSize:"small",allowedSizes:["small","medium"]},{type:"tasks-list",title:"Tasks",description:"Upcoming and pending tasks",icon:"CheckSquare",defaultSize:"medium",allowedSizes:["small","medium","large"]},{type:"expenses-summary",title:"Expenses",description:"Recent expenses and spending summary",icon:"DollarSign",defaultSize:"medium",allowedSizes:["small","medium","large"]},{type:"calendar-events",title:"Calendars",description:"Upcoming events and meetings",icon:"Calendar",defaultSize:"medium",allowedSizes:["small","medium","large"]},{type:"staff-status",title:"Staff Status",description:"Who is currently clocked in",icon:"Users",defaultSize:"medium",allowedSizes:["small","medium","large"]},{type:"recent-messages",title:"Messages",description:"Recent conversations and notifications",icon:"MessageSquare",defaultSize:"medium",allowedSizes:["small","medium","large"]},{type:"leave-requests",title:"Leave Requests",description:"Pending leave approval requests",icon:"FileText",defaultSize:"small",allowedSizes:["small","medium"]},{type:"expense-chart",title:"Expense Trends",description:"Visual chart of expense patterns",icon:"TrendingUp",defaultSize:"large",allowedSizes:["medium","large"]},{type:"quick-actions",title:"Quick Actions",description:"Frequently used action buttons",icon:"Zap",defaultSize:"small",allowedSizes:["small","medium"]},{type:"announcements",title:"Announcements",description:"Important system announcements",icon:"Bell",defaultSize:"medium",allowedSizes:["small","medium","large"]}],jS="villasaya_dashboard_layout",xm=()=>({widgets:[{id:"widget-1",type:"quick-stats",size:"small",position:0},{id:"widget-2",type:"tasks-list",size:"medium",position:1},{id:"widget-3",type:"expenses-summary",size:"medium",position:2},{id:"widget-4",type:"calendar-events",size:"medium",position:3}]}),sU=()=>{if(typeof window>"u")return xm();try{const e=localStorage.getItem(jS);if(e)return JSON.parse(e)}catch(e){console.error("Failed to load dashboard layout:",e)}return xm()},aU=e=>{if(!(typeof window>"u"))try{localStorage.setItem(jS,JSON.stringify(e))}catch(t){console.error("Failed to save dashboard layout:",t)}},oU=()=>{const[e,t]=v.useState(sU);v.useEffect(()=>{aU(e)},[e]);const n=d=>{const h=qg.find(m=>m.type===d),f={id:`widget-${Date.now()}`,type:d,size:h?.defaultSize||"medium",position:e.widgets.length};t({...e,widgets:[...e.widgets,f]})},s=d=>{t({...e,widgets:e.widgets.filter(h=>h.id!==d).map((h,f)=>({...h,position:f}))})},o=(d,h)=>{t({...e,widgets:e.widgets.map(f=>f.id===d?{...f,size:h}:f)})},i=d=>{t({...e,widgets:d.map((h,f)=>({...h,position:f}))})},c=()=>{t(xm())};return{widgets:e.widgets,addWidget:n,removeWidget:s,resizeWidget:o,reorderWidgets:i,resetLayout:c}},iU=()=>{const e=[{icon:r.jsx(wn,{size:20}),label:"Staff",value:"245"},{icon:r.jsx(bn,{size:20}),label:"Villas",value:"38"},{icon:r.jsx(Or,{size:20}),label:"Expenses",value:"$45.8K"},{icon:r.jsx(tt,{size:20}),label:"Tasks",value:"127"}];return r.jsxs("div",{className:"quick-stats-widget",children:[e.map((t,n)=>r.jsxs("div",{className:"stat-item",children:[r.jsx("div",{className:"stat-icon",children:t.icon}),r.jsxs("div",{className:"stat-info",children:[r.jsx("div",{className:"stat-value",children:t.value}),r.jsx("div",{className:"stat-label",children:t.label})]})]},n)),r.jsx("style",{children:`
        .quick-stats-widget {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: var(--desktop-gap-md);
          height: 100%;
        }

        .stat-item {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-sm);
          padding: var(--desktop-gap-md);
          background: var(--desktop-gray-10);
          border-radius: var(--desktop-radius-md);
        }

        .stat-icon {
          width: 36px;
          height: 36px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: var(--desktop-primary-10);
          color: var(--desktop-primary-500);
          border-radius: var(--desktop-radius-md);
          flex-shrink: 0;
        }

        .stat-info {
          flex: 1;
          min-width: 0;
        }

        .stat-value {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-h4);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          line-height: 1.2;
        }

        .stat-label {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
      `})]})},lU=()=>{const e=[{id:1,title:"Review maintenance requests",status:"pending",priority:"high",dueDate:"Today"},{id:2,title:"Approve staff leave applications",status:"pending",priority:"medium",dueDate:"Tomorrow"},{id:3,title:"Update villa inventory",status:"in-progress",priority:"low",dueDate:"This week"},{id:4,title:"Process monthly expenses",status:"pending",priority:"high",dueDate:"Today"},{id:5,title:"Schedule team meeting",status:"completed",priority:"medium",dueDate:"Yesterday"}];return r.jsxs("div",{className:"tasks-list-widget",children:[r.jsx("div",{className:"tasks-list",children:e.map(t=>r.jsxs("div",{className:`task-item ${t.status}`,children:[r.jsx("div",{className:"task-checkbox",children:t.status==="completed"?r.jsx(Uw,{size:18,className:"completed-icon"}):r.jsx(YP,{size:18,className:"pending-icon"})}),r.jsxs("div",{className:"task-content",children:[r.jsx("div",{className:"task-title",children:t.title}),r.jsxs("div",{className:"task-meta",children:[r.jsx("span",{className:`priority-badge ${t.priority}`,children:t.priority}),r.jsxs("span",{className:"task-due",children:[r.jsx(er,{size:12}),t.dueDate]})]})]})]},t.id))}),r.jsx("style",{children:`
        .tasks-list-widget {
          height: 100%;
          display: flex;
          flex-direction: column;
        }

        .tasks-list {
          flex: 1;
          overflow-y: auto;
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-sm);
        }

        .task-item {
          display: flex;
          align-items: flex-start;
          gap: var(--desktop-gap-sm);
          padding: var(--desktop-gap-md);
          background: var(--desktop-gray-10);
          border-radius: var(--desktop-radius-md);
          transition: all 0.2s;
        }

        .task-item:hover {
          background: var(--desktop-gray-25);
        }

        .task-item.completed {
          opacity: 0.6;
        }

        .task-checkbox {
          flex-shrink: 0;
          margin-top: 2px;
        }

        .completed-icon {
          color: var(--desktop-success-500);
        }

        .pending-icon {
          color: var(--desktop-gray-300);
        }

        .task-content {
          flex: 1;
          min-width: 0;
        }

        .task-title {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-regular);
          color: var(--desktop-dark-500);
          margin-bottom: 4px;
        }

        .task-item.completed .task-title {
          text-decoration: line-through;
        }

        .task-meta {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-sm);
          flex-wrap: wrap;
        }

        .priority-badge {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-medium);
          padding: 2px 8px;
          border-radius: var(--desktop-radius-sm);
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .priority-badge.high {
          background: var(--desktop-error-50);
          color: var(--desktop-error-500);
        }

        .priority-badge.medium {
          background: var(--desktop-warning-50);
          color: var(--desktop-warning-500);
        }

        .priority-badge.low {
          background: var(--desktop-gray-50);
          color: var(--desktop-gray-500);
        }

        .task-due {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          display: flex;
          align-items: center;
          gap: 4px;
        }
      `})]})},cU=()=>{const e=[{category:"Maintenance",amount:12450,change:8,color:"#7152F3"},{category:"Utilities",amount:8920,change:-3,color:"#FF6B9D"},{category:"Salaries",amount:24500,change:2,color:"#FFA94D"},{category:"Supplies",amount:3280,change:-12,color:"#20E3B2"}],t=e.reduce((n,s)=>n+s.amount,0);return r.jsxs("div",{className:"expenses-summary-widget",children:[r.jsxs("div",{className:"total-section",children:[r.jsx("div",{className:"total-label",children:"Total Expenses"}),r.jsxs("div",{className:"total-amount",children:["$",t.toLocaleString()]}),r.jsx("div",{className:"total-period",children:"This Month"})]}),r.jsx("div",{className:"expenses-list",children:e.map((n,s)=>r.jsxs("div",{className:"expense-item",children:[r.jsx("div",{className:"expense-indicator",style:{background:n.color}}),r.jsxs("div",{className:"expense-info",children:[r.jsx("div",{className:"expense-category",children:n.category}),r.jsxs("div",{className:"expense-amount",children:["$",n.amount.toLocaleString()]})]}),r.jsxs("div",{className:`expense-change ${n.change>0?"positive":"negative"}`,children:[n.change>0?r.jsx(Ll,{size:14}):r.jsx(iA,{size:14}),Math.abs(n.change),"%"]})]},s))}),r.jsx("style",{children:`
        .expenses-summary-widget {
          height: 100%;
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-lg);
        }

        .total-section {
          padding: var(--desktop-gap-lg);
          background: linear-gradient(135deg, var(--desktop-primary-500) 0%, var(--desktop-primary-600) 100%);
          border-radius: var(--desktop-radius-lg);
          color: white;
        }

        .total-label {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          opacity: 0.9;
          margin-bottom: 4px;
        }

        .total-amount {
          font-family: var(--desktop-font-family);
          font-size: 32px;
          font-weight: var(--desktop-weight-bold);
          margin-bottom: 4px;
        }

        .total-period {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-light);
          opacity: 0.8;
        }

        .expenses-list {
          flex: 1;
          overflow-y: auto;
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-sm);
        }

        .expense-item {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-sm);
          padding: var(--desktop-gap-md);
          background: var(--desktop-gray-10);
          border-radius: var(--desktop-radius-md);
        }

        .expense-indicator {
          width: 4px;
          height: 32px;
          border-radius: 2px;
          flex-shrink: 0;
        }

        .expense-info {
          flex: 1;
          min-width: 0;
        }

        .expense-category {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-medium);
          color: var(--desktop-dark-500);
          margin-bottom: 2px;
        }

        .expense-amount {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
        }

        .expense-change {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-medium);
          display: flex;
          align-items: center;
          gap: 2px;
          flex-shrink: 0;
        }

        .expense-change.positive {
          color: var(--desktop-error-500);
        }

        .expense-change.negative {
          color: var(--desktop-success-500);
        }
      `})]})},dU=()=>{const e=[{id:1,title:"Team Meeting",time:"09:00 AM",date:"Today",location:"Conference Room A",color:"#7152F3"},{id:2,title:"Villa Inspection",time:"02:30 PM",date:"Today",location:"Villa Sunrise",color:"#FF6B9D"},{id:3,title:"Staff Training",time:"10:00 AM",date:"Tomorrow",location:"Training Center",color:"#FFA94D"},{id:4,title:"Tenant Meeting",time:"04:00 PM",date:"Tomorrow",location:"Office",color:"#20E3B2"}];return r.jsxs("div",{className:"calendar-events-widget",children:[r.jsx("div",{className:"events-list",children:e.map(t=>r.jsxs("div",{className:"event-item",children:[r.jsx("div",{className:"event-indicator",style:{background:t.color}}),r.jsxs("div",{className:"event-content",children:[r.jsx("div",{className:"event-title",children:t.title}),r.jsxs("div",{className:"event-details",children:[r.jsxs("span",{className:"event-detail",children:[r.jsx(er,{size:12}),t.time]}),r.jsxs("span",{className:"event-detail",children:[r.jsx(tt,{size:12}),t.date]}),r.jsxs("span",{className:"event-detail",children:[r.jsx(qa,{size:12}),t.location]})]})]})]},t.id))}),r.jsx("style",{children:`
        .calendar-events-widget {
          height: 100%;
          display: flex;
          flex-direction: column;
        }

        .events-list {
          flex: 1;
          overflow-y: auto;
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-sm);
        }

        .event-item {
          display: flex;
          gap: var(--desktop-gap-sm);
          padding: var(--desktop-gap-md);
          background: var(--desktop-gray-10);
          border-radius: var(--desktop-radius-md);
          transition: all 0.2s;
        }

        .event-item:hover {
          background: var(--desktop-gray-25);
        }

        .event-indicator {
          width: 4px;
          height: 100%;
          border-radius: 2px;
          flex-shrink: 0;
        }

        .event-content {
          flex: 1;
          min-width: 0;
        }

        .event-title {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-medium);
          color: var(--desktop-dark-500);
          margin-bottom: 6px;
        }

        .event-details {
          display: flex;
          flex-wrap: wrap;
          gap: var(--desktop-gap-sm);
        }

        .event-detail {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          display: flex;
          align-items: center;
          gap: 4px;
        }
      `})]})},uU=()=>{const e={clockedIn:142,clockedOut:103,onLeave:12},t=[{id:1,name:"Sarah Johnson",action:"clocked in",time:"5 min ago",avatar:"SJ"},{id:2,name:"Michael Chen",action:"clocked out",time:"12 min ago",avatar:"MC"},{id:3,name:"Emma Davis",action:"clocked in",time:"28 min ago",avatar:"ED"},{id:4,name:"James Wilson",action:"clocked in",time:"1 hour ago",avatar:"JW"}];return r.jsxs("div",{className:"staff-status-widget",children:[r.jsxs("div",{className:"status-overview",children:[r.jsxs("div",{className:"status-card clocked-in",children:[r.jsx(pA,{size:20}),r.jsxs("div",{className:"status-info",children:[r.jsx("div",{className:"status-value",children:e.clockedIn}),r.jsx("div",{className:"status-label",children:"Clocked In"})]})]}),r.jsxs("div",{className:"status-card clocked-out",children:[r.jsx(vA,{size:20}),r.jsxs("div",{className:"status-info",children:[r.jsx("div",{className:"status-value",children:e.clockedOut}),r.jsx("div",{className:"status-label",children:"Clocked Out"})]})]}),r.jsxs("div",{className:"status-card on-leave",children:[r.jsx(er,{size:20}),r.jsxs("div",{className:"status-info",children:[r.jsx("div",{className:"status-value",children:e.onLeave}),r.jsx("div",{className:"status-label",children:"On Leave"})]})]})]}),r.jsxs("div",{className:"recent-activity",children:[r.jsx("div",{className:"activity-header",children:"Recent Activity"}),r.jsx("div",{className:"activity-list",children:t.map(n=>r.jsxs("div",{className:"activity-item",children:[r.jsx("div",{className:"activity-avatar",children:n.avatar}),r.jsxs("div",{className:"activity-content",children:[r.jsxs("div",{className:"activity-text",children:[r.jsx("span",{className:"activity-name",children:n.name})," ",n.action]}),r.jsx("div",{className:"activity-time",children:n.time})]})]},n.id))})]}),r.jsx("style",{children:`
        .staff-status-widget {
          height: 100%;
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-lg);
        }

        .status-overview {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: var(--desktop-gap-sm);
        }

        .status-card {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: var(--desktop-gap-sm);
          padding: var(--desktop-gap-md);
          border-radius: var(--desktop-radius-md);
          text-align: center;
        }

        .status-card.clocked-in {
          background: var(--desktop-success-50);
          color: var(--desktop-success-500);
        }

        .status-card.clocked-out {
          background: var(--desktop-gray-50);
          color: var(--desktop-gray-500);
        }

        .status-card.on-leave {
          background: var(--desktop-warning-50);
          color: var(--desktop-warning-500);
        }

        .status-info {
          display: flex;
          flex-direction: column;
          gap: 2px;
        }

        .status-value {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-h4);
          font-weight: var(--desktop-weight-bold);
        }

        .status-label {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-medium);
        }

        .recent-activity {
          flex: 1;
          overflow: hidden;
          display: flex;
          flex-direction: column;
        }

        .activity-header {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          margin-bottom: var(--desktop-gap-sm);
        }

        .activity-list {
          flex: 1;
          overflow-y: auto;
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-sm);
        }

        .activity-item {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-sm);
          padding: var(--desktop-gap-sm);
          background: var(--desktop-gray-10);
          border-radius: var(--desktop-radius-md);
        }

        .activity-avatar {
          width: 32px;
          height: 32px;
          border-radius: 50%;
          background: var(--desktop-primary-100);
          color: var(--desktop-primary-500);
          display: flex;
          align-items: center;
          justify-content: center;
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-semibold);
          flex-shrink: 0;
        }

        .activity-content {
          flex: 1;
          min-width: 0;
        }

        .activity-text {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-regular);
          color: var(--desktop-dark-500);
          margin-bottom: 2px;
        }

        .activity-name {
          font-weight: var(--desktop-weight-medium);
        }

        .activity-time {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
        }
      `})]})},fU=()=>{const e=[{id:1,from:"John Smith",message:"Villa maintenance has been completed",time:"2 min ago",unread:!0,avatar:"JS"},{id:2,from:"Villa Support",message:"New tenant inquiry received",time:"15 min ago",unread:!0,avatar:"VS"},{id:3,from:"Maria Garcia",message:"Leave request approved",time:"1 hour ago",unread:!1,avatar:"MG"},{id:4,from:"Admin Team",message:"Monthly report is ready",time:"2 hours ago",unread:!1,avatar:"AT"}];return r.jsxs("div",{className:"recent-messages-widget",children:[r.jsx("div",{className:"messages-list",children:e.map(t=>r.jsxs("div",{className:`message-item ${t.unread?"unread":""}`,children:[r.jsx("div",{className:"message-avatar",children:t.avatar}),r.jsxs("div",{className:"message-content",children:[r.jsxs("div",{className:"message-header",children:[r.jsx("span",{className:"message-from",children:t.from}),r.jsx("span",{className:"message-time",children:t.time})]}),r.jsx("div",{className:"message-text",children:t.message})]}),t.unread&&r.jsx("div",{className:"unread-indicator"})]},t.id))}),r.jsx("style",{children:`
        .recent-messages-widget {
          height: 100%;
          display: flex;
          flex-direction: column;
        }

        .messages-list {
          flex: 1;
          overflow-y: auto;
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-sm);
        }

        .message-item {
          display: flex;
          align-items: flex-start;
          gap: var(--desktop-gap-sm);
          padding: var(--desktop-gap-md);
          background: var(--desktop-gray-10);
          border-radius: var(--desktop-radius-md);
          transition: all 0.2s;
          position: relative;
        }

        .message-item:hover {
          background: var(--desktop-gray-25);
        }

        .message-item.unread {
          background: var(--desktop-primary-10);
        }

        .message-avatar {
          width: 36px;
          height: 36px;
          border-radius: 50%;
          background: var(--desktop-primary-100);
          color: var(--desktop-primary-500);
          display: flex;
          align-items: center;
          justify-content: center;
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-semibold);
          flex-shrink: 0;
        }

        .message-content {
          flex: 1;
          min-width: 0;
        }

        .message-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: var(--desktop-gap-sm);
          margin-bottom: 4px;
        }

        .message-from {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
        }

        .message-time {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          flex-shrink: 0;
        }

        .message-text {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-600);
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }

        .unread-indicator {
          width: 8px;
          height: 8px;
          border-radius: 50%;
          background: var(--desktop-primary-500);
          position: absolute;
          top: 16px;
          right: 12px;
          flex-shrink: 0;
        }
      `})]})},hU=()=>{const e=[{id:1,name:"Alice Cooper",type:"Annual Leave",days:3,startDate:"Dec 20",avatar:"AC"},{id:2,name:"Bob Martinez",type:"Sick Leave",days:2,startDate:"Dec 18",avatar:"BM"},{id:3,name:"Carol White",type:"Personal Leave",days:1,startDate:"Dec 22",avatar:"CW"}],t=e.length;return r.jsxs("div",{className:"leave-requests-widget",children:[r.jsxs("div",{className:"pending-badge",children:[r.jsx(fr,{size:18}),r.jsxs("span",{children:[t," Pending Request",t!==1?"s":""]})]}),r.jsx("div",{className:"requests-list",children:e.map(n=>r.jsxs("div",{className:"request-item",children:[r.jsx("div",{className:"request-avatar",children:n.avatar}),r.jsxs("div",{className:"request-content",children:[r.jsx("div",{className:"request-name",children:n.name}),r.jsxs("div",{className:"request-details",children:[r.jsxs("span",{className:"request-detail",children:[r.jsx(fr,{size:12}),n.type]}),r.jsxs("span",{className:"request-detail",children:[r.jsx(tt,{size:12}),n.days," day",n.days!==1?"s":""]})]})]}),r.jsxs("div",{className:"request-actions",children:[r.jsx("button",{className:"action-btn approve",children:""}),r.jsx("button",{className:"action-btn reject",children:""})]})]},n.id))}),r.jsx("style",{children:`
        .leave-requests-widget {
          height: 100%;
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-md);
        }

        .pending-badge {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-sm);
          padding: var(--desktop-gap-md);
          background: var(--desktop-warning-50);
          color: var(--desktop-warning-600);
          border-radius: var(--desktop-radius-md);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-semibold);
        }

        .requests-list {
          flex: 1;
          overflow-y: auto;
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-sm);
        }

        .request-item {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-sm);
          padding: var(--desktop-gap-md);
          background: var(--desktop-gray-10);
          border-radius: var(--desktop-radius-md);
        }

        .request-avatar {
          width: 36px;
          height: 36px;
          border-radius: 50%;
          background: var(--desktop-primary-100);
          color: var(--desktop-primary-500);
          display: flex;
          align-items: center;
          justify-content: center;
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-semibold);
          flex-shrink: 0;
        }

        .request-content {
          flex: 1;
          min-width: 0;
        }

        .request-name {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-medium);
          color: var(--desktop-dark-500);
          margin-bottom: 4px;
        }

        .request-details {
          display: flex;
          gap: var(--desktop-gap-sm);
          flex-wrap: wrap;
        }

        .request-detail {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .request-actions {
          display: flex;
          gap: var(--desktop-gap-xs);
          flex-shrink: 0;
        }

        .action-btn {
          width: 28px;
          height: 28px;
          border-radius: var(--desktop-radius-sm);
          border: none;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          font-size: 16px;
          font-weight: bold;
          transition: all 0.2s;
        }

        .action-btn.approve {
          background: var(--desktop-success-50);
          color: var(--desktop-success-500);
        }

        .action-btn.approve:hover {
          background: var(--desktop-success-100);
        }

        .action-btn.reject {
          background: var(--desktop-error-50);
          color: var(--desktop-error-500);
        }

        .action-btn.reject:hover {
          background: var(--desktop-error-100);
        }
      `})]})},pU=()=>{const e=[{month:"Jul",amount:38500},{month:"Aug",amount:42300},{month:"Sep",amount:39800},{month:"Oct",amount:45200},{month:"Nov",amount:41900},{month:"Dec",amount:49200}],t=Math.max(...e.map(s=>s.amount)),n=Math.min(...e.map(s=>s.amount));return r.jsxs("div",{className:"expense-chart-widget",children:[r.jsxs("div",{className:"chart-header",children:[r.jsxs("div",{className:"chart-title",children:[r.jsx(Ll,{size:20}),r.jsx("span",{children:"Expense Trends"})]}),r.jsx("div",{className:"chart-period",children:"Last 6 Months"})]}),r.jsx("div",{className:"chart-container",children:r.jsx("div",{className:"chart-bars",children:e.map((s,o)=>{const i=(s.amount-n)/(t-n)*100;return r.jsxs("div",{className:"bar-wrapper",children:[r.jsxs("div",{className:"bar-value",children:["$",(s.amount/1e3).toFixed(1),"K"]}),r.jsx("div",{className:"bar-column",children:r.jsx("div",{className:"bar-fill",style:{height:`${Math.max(i,10)}%`}})}),r.jsx("div",{className:"bar-label",children:s.month})]},o)})})}),r.jsxs("div",{className:"chart-summary",children:[r.jsxs("div",{className:"summary-item",children:[r.jsx("div",{className:"summary-label",children:"Average"}),r.jsxs("div",{className:"summary-value",children:["$",(e.reduce((s,o)=>s+o.amount,0)/e.length/1e3).toFixed(1),"K"]})]}),r.jsxs("div",{className:"summary-item",children:[r.jsx("div",{className:"summary-label",children:"Highest"}),r.jsxs("div",{className:"summary-value",children:["$",(t/1e3).toFixed(1),"K"]})]}),r.jsxs("div",{className:"summary-item",children:[r.jsx("div",{className:"summary-label",children:"Lowest"}),r.jsxs("div",{className:"summary-value",children:["$",(n/1e3).toFixed(1),"K"]})]})]}),r.jsx("style",{children:`
        .expense-chart-widget {
          height: 100%;
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-lg);
        }

        .chart-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .chart-title {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-sm);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
        }

        .chart-period {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
        }

        .chart-container {
          flex: 1;
          display: flex;
          align-items: flex-end;
          padding: var(--desktop-gap-md) 0;
        }

        .chart-bars {
          width: 100%;
          height: 100%;
          display: flex;
          align-items: flex-end;
          gap: var(--desktop-gap-sm);
        }

        .bar-wrapper {
          flex: 1;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: var(--desktop-gap-xs);
          height: 100%;
        }

        .bar-value {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-medium);
          color: var(--desktop-dark-500);
          margin-bottom: auto;
        }

        .bar-column {
          width: 100%;
          height: 180px;
          display: flex;
          align-items: flex-end;
        }

        .bar-fill {
          width: 100%;
          background: linear-gradient(to top, var(--desktop-primary-500), var(--desktop-primary-400));
          border-radius: var(--desktop-radius-sm) var(--desktop-radius-sm) 0 0;
          transition: all 0.3s ease;
        }

        .bar-wrapper:hover .bar-fill {
          opacity: 0.8;
        }

        .bar-label {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-regular);
          color: var(--desktop-gray-500);
        }

        .chart-summary {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: var(--desktop-gap-md);
          padding-top: var(--desktop-gap-md);
          border-top: 1px solid var(--desktop-gray-100);
        }

        .summary-item {
          text-align: center;
        }

        .summary-label {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          margin-bottom: 4px;
        }

        .summary-value {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
        }
      `})]})},mU=()=>{const e=[{icon:r.jsx(bt,{size:18}),label:"New Task",color:"#7152F3"},{icon:r.jsx(Or,{size:18}),label:"Add Expense",color:"#FF6B9D"},{icon:r.jsx(tt,{size:18}),label:"Schedule Event",color:"#FFA94D"},{icon:r.jsx(wn,{size:18}),label:"Add Staff",color:"#20E3B2"},{icon:r.jsx(bn,{size:18}),label:"Add Villa",color:"#5B8DEF"},{icon:r.jsx(fr,{size:18}),label:"Generate Report",color:"#A78BFA"}];return r.jsxs("div",{className:"quick-actions-widget",children:[e.map((t,n)=>r.jsxs("button",{className:"action-button",onClick:()=>alert(`${t.label} clicked`),children:[r.jsx("div",{className:"action-icon",style:{background:t.color},children:t.icon}),r.jsx("div",{className:"action-label",children:t.label})]},n)),r.jsx("style",{children:`
        .quick-actions-widget {
          height: 100%;
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: var(--desktop-gap-sm);
        }

        .action-button {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          gap: var(--desktop-gap-sm);
          padding: var(--desktop-gap-md);
          background: var(--desktop-gray-10);
          border: none;
          border-radius: var(--desktop-radius-md);
          cursor: pointer;
          transition: all 0.2s;
        }

        .action-button:hover {
          background: var(--desktop-gray-25);
          transform: translateY(-2px);
        }

        .action-icon {
          width: 40px;
          height: 40px;
          border-radius: var(--desktop-radius-md);
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
        }

        .action-label {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-medium);
          color: var(--desktop-dark-500);
          text-align: center;
        }
      `})]})},gU=()=>{const e=[{id:1,type:"important",title:"System Maintenance Scheduled",message:"Scheduled maintenance on Dec 25, 2:00 AM - 4:00 AM",time:"1 hour ago",icon:r.jsx(Fm,{size:18})},{id:2,type:"success",title:"New Feature Released",message:"Calendar integration with Google is now available",time:"3 hours ago",icon:r.jsx(Ln,{size:18})},{id:3,type:"info",title:"Holiday Schedule",message:"Office will be closed from Dec 24-26 for holidays",time:"1 day ago",icon:r.jsx(Lm,{size:18})}];return r.jsxs("div",{className:"announcements-widget",children:[r.jsx("div",{className:"announcements-list",children:e.map(t=>r.jsxs("div",{className:`announcement-item ${t.type}`,children:[r.jsx("div",{className:"announcement-icon",children:t.icon}),r.jsxs("div",{className:"announcement-content",children:[r.jsxs("div",{className:"announcement-header",children:[r.jsx("div",{className:"announcement-title",children:t.title}),r.jsx("div",{className:"announcement-time",children:t.time})]}),r.jsx("div",{className:"announcement-message",children:t.message})]})]},t.id))}),r.jsx("style",{children:`
        .announcements-widget {
          height: 100%;
          display: flex;
          flex-direction: column;
        }

        .announcements-list {
          flex: 1;
          overflow-y: auto;
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-md);
        }

        .announcement-item {
          display: flex;
          gap: var(--desktop-gap-md);
          padding: var(--desktop-gap-md);
          border-radius: var(--desktop-radius-md);
          border-left: 3px solid;
        }

        .announcement-item.important {
          background: var(--desktop-error-10);
          border-color: var(--desktop-error-500);
        }

        .announcement-item.success {
          background: var(--desktop-success-10);
          border-color: var(--desktop-success-500);
        }

        .announcement-item.info {
          background: var(--desktop-primary-10);
          border-color: var(--desktop-primary-500);
        }

        .announcement-icon {
          flex-shrink: 0;
          margin-top: 2px;
        }

        .announcement-item.important .announcement-icon {
          color: var(--desktop-error-500);
        }

        .announcement-item.success .announcement-icon {
          color: var(--desktop-success-500);
        }

        .announcement-item.info .announcement-icon {
          color: var(--desktop-primary-500);
        }

        .announcement-content {
          flex: 1;
          min-width: 0;
        }

        .announcement-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          gap: var(--desktop-gap-sm);
          margin-bottom: 4px;
        }

        .announcement-title {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
        }

        .announcement-time {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          flex-shrink: 0;
        }

        .announcement-message {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-600);
        }
      `})]})},vU=({type:e})=>{switch(e){case"quick-stats":return r.jsx(iU,{});case"tasks-list":return r.jsx(lU,{});case"expenses-summary":return r.jsx(cU,{});case"calendar-events":return r.jsx(dU,{});case"staff-status":return r.jsx(uU,{});case"recent-messages":return r.jsx(fU,{});case"leave-requests":return r.jsx(hU,{});case"expense-chart":return r.jsx(pU,{});case"quick-actions":return r.jsx(mU,{});case"announcements":return r.jsx(gU,{});default:return r.jsx("div",{children:"Unknown widget type"})}},xU=({widget:e,onRemove:t,onResize:n})=>{const{attributes:s,listeners:o,setNodeRef:i,transform:c,transition:d,isDragging:h}=Q7({id:e.id}),f={transform:ga.Transform.toString(c),transition:d,opacity:h?.5:1},m=qg.find(w=>w.type===e.type),p=m?.title||"Widget",x=m?.allowedSizes||["small","medium","large"],b=()=>{const w=["small","medium","large"],k=w.indexOf(e.size),N=w[(k+1)%w.length];if(x.includes(N))n(e.id,N);else{const E=w.find((S,C)=>C>k&&x.includes(S))||x[0];n(e.id,E)}};return r.jsxs("div",{ref:i,style:f,className:`dashboard-widget widget-${e.size}`,children:[r.jsxs("div",{className:"widget-header",children:[r.jsx("div",{className:"widget-drag-handle",...s,...o,children:r.jsx(pR,{size:16})}),r.jsx("h3",{className:"widget-title",children:p}),r.jsxs("div",{className:"widget-actions",children:[x.length>1&&r.jsx("button",{className:"widget-action-btn",onClick:b,title:"Resize widget",children:e.size==="small"?r.jsx(_R,{size:14}):r.jsx(AR,{size:14})}),r.jsx("button",{className:"widget-action-btn widget-remove",onClick:()=>t(e.id),title:"Remove widget",children:r.jsx(fa,{size:14})})]})]}),r.jsx("div",{className:"widget-content",children:r.jsx(vU,{type:e.type})}),r.jsx("style",{children:`
        .dashboard-widget {
          background: white;
          border-radius: var(--desktop-radius-lg);
          border: 1px solid var(--desktop-gray-100);
          overflow: hidden;
          display: flex;
          flex-direction: column;
          transition: box-shadow 0.2s;
        }

        .dashboard-widget:hover {
          box-shadow: var(--desktop-shadow-md);
        }

        .widget-small {
          grid-column: span 6;
          min-height: 280px;
        }

        .widget-medium {
          grid-column: span 8;
          min-height: 360px;
        }

        .widget-large {
          grid-column: span 12;
          min-height: 420px;
        }

        .widget-header {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-sm);
          padding: var(--desktop-gap-md) var(--desktop-gap-lg);
          border-bottom: 1px solid var(--desktop-gray-100);
          background: var(--desktop-gray-5);
        }

        .widget-drag-handle {
          cursor: grab;
          color: var(--desktop-gray-400);
          display: flex;
          align-items: center;
          padding: 4px;
          border-radius: var(--desktop-radius-sm);
          transition: all 0.2s;
        }

        .widget-drag-handle:hover {
          background: var(--desktop-gray-100);
          color: var(--desktop-gray-600);
        }

        .widget-drag-handle:active {
          cursor: grabbing;
        }

        .widget-title {
          flex: 1;
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          margin: 0;
        }

        .widget-actions {
          display: flex;
          gap: var(--desktop-gap-xs);
        }

        .widget-action-btn {
          width: 24px;
          height: 24px;
          border: none;
          background: transparent;
          color: var(--desktop-gray-400);
          cursor: pointer;
          border-radius: var(--desktop-radius-sm);
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s;
        }

        .widget-action-btn:hover {
          background: var(--desktop-gray-100);
          color: var(--desktop-gray-600);
        }

        .widget-action-btn.widget-remove:hover {
          background: var(--desktop-error-50);
          color: var(--desktop-error-500);
        }

        .widget-content {
          flex: 1;
          padding: var(--desktop-gap-lg);
          overflow: auto;
        }
      `})]})},yU={BarChart3:r.jsx(OP,{size:24}),CheckSquare:r.jsx(Ya,{size:24}),DollarSign:r.jsx(Or,{size:24}),Calendar:r.jsx(tt,{size:24}),Users:r.jsx(wn,{size:24}),MessageSquare:r.jsx(Bd,{size:24}),FileText:r.jsx(fr,{size:24}),TrendingUp:r.jsx(Ll,{size:24}),Zap:r.jsx(Hd,{size:24}),Bell:r.jsx(oo,{size:24})},bU=({isOpen:e,onClose:t,onAdd:n,existingWidgetTypes:s})=>{if(!e)return null;const o=i=>{n(i),t()};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"dialog-overlay",onClick:t}),r.jsxs("div",{className:"add-widget-dialog",children:[r.jsxs("div",{className:"dialog-header",children:[r.jsx("h2",{className:"dialog-title",children:"Add Widget"}),r.jsx("button",{className:"dialog-close-btn",onClick:t,children:r.jsx(fa,{size:20})})]}),r.jsxs("div",{className:"dialog-content",children:[r.jsx("p",{className:"dialog-description",children:"Select a widget to add to your dashboard. You can customize and rearrange widgets anytime."}),r.jsx("div",{className:"widgets-grid",children:qg.map(i=>{const c=s.filter(h=>h===i.type).length,d=c<3;return r.jsxs("button",{className:`widget-card ${d?"":"disabled"}`,onClick:()=>d&&o(i.type),disabled:!d,children:[r.jsx("div",{className:"widget-card-icon",children:yU[i.icon]}),r.jsxs("div",{className:"widget-card-content",children:[r.jsx("h3",{className:"widget-card-title",children:i.title}),r.jsx("p",{className:"widget-card-description",children:i.description}),c>0&&r.jsxs("span",{className:"widget-count-badge",children:[c," active"]})]}),r.jsx("div",{className:"widget-card-action",children:r.jsx(bt,{size:18})})]},i.type)})})]}),r.jsx("style",{children:`
          .dialog-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
          }

          .add-widget-dialog {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 720px;
            max-height: 80vh;
            background: white;
            border-radius: var(--desktop-radius-xl);
            box-shadow: var(--desktop-shadow-2xl);
            z-index: 1000;
            display: flex;
            flex-direction: column;
          }

          .dialog-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--desktop-gap-xl);
            border-bottom: 1px solid var(--desktop-gray-100);
          }

          .dialog-title {
            font-family: var(--desktop-font-family);
            font-size: var(--desktop-h3);
            font-weight: var(--desktop-weight-bold);
            color: var(--desktop-dark-500);
            margin: 0;
          }

          .dialog-close-btn {
            width: 32px;
            height: 32px;
            border: none;
            background: transparent;
            color: var(--desktop-gray-400);
            cursor: pointer;
            border-radius: var(--desktop-radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
          }

          .dialog-close-btn:hover {
            background: var(--desktop-gray-100);
            color: var(--desktop-gray-600);
          }

          .dialog-content {
            flex: 1;
            overflow-y: auto;
            padding: var(--desktop-gap-xl);
          }

          .dialog-description {
            font-family: var(--desktop-font-family);
            font-size: var(--desktop-body-2);
            font-weight: var(--desktop-weight-light);
            color: var(--desktop-gray-600);
            margin: 0 0 var(--desktop-gap-xl) 0;
          }

          .widgets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--desktop-gap-md);
          }

          .widget-card {
            display: flex;
            align-items: flex-start;
            gap: var(--desktop-gap-md);
            padding: var(--desktop-gap-lg);
            background: var(--desktop-gray-10);
            border: 2px solid transparent;
            border-radius: var(--desktop-radius-lg);
            cursor: pointer;
            transition: all 0.2s;
            text-align: left;
          }

          .widget-card:hover:not(.disabled) {
            background: var(--desktop-gray-25);
            border-color: var(--desktop-primary-500);
            transform: translateY(-2px);
          }

          .widget-card.disabled {
            opacity: 0.5;
            cursor: not-allowed;
          }

          .widget-card-icon {
            width: 48px;
            height: 48px;
            background: var(--desktop-primary-50);
            color: var(--desktop-primary-500);
            border-radius: var(--desktop-radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
          }

          .widget-card-content {
            flex: 1;
            min-width: 0;
          }

          .widget-card-title {
            font-family: var(--desktop-font-family);
            font-size: var(--desktop-body-1);
            font-weight: var(--desktop-weight-semibold);
            color: var(--desktop-dark-500);
            margin: 0 0 4px 0;
          }

          .widget-card-description {
            font-family: var(--desktop-font-family);
            font-size: var(--desktop-caption);
            font-weight: var(--desktop-weight-light);
            color: var(--desktop-gray-600);
            margin: 0;
          }

          .widget-count-badge {
            display: inline-block;
            margin-top: 6px;
            padding: 2px 8px;
            background: var(--desktop-primary-100);
            color: var(--desktop-primary-600);
            font-family: var(--desktop-font-family);
            font-size: var(--desktop-caption);
            font-weight: var(--desktop-weight-medium);
            border-radius: var(--desktop-radius-sm);
          }

          .widget-card-action {
            width: 32px;
            height: 32px;
            background: var(--desktop-primary-500);
            color: white;
            border-radius: var(--desktop-radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
          }

          .widget-card.disabled .widget-card-action {
            background: var(--desktop-gray-300);
          }
        `})]})]})},wU=()=>{const{widgets:e,addWidget:t,removeWidget:n,resizeWidget:s,reorderWidgets:o,resetLayout:i}=oU(),[c,d]=v.useState(!1),h=ZN(pm(Xu,{activationConstraint:{distance:8}}),pm(Bg,{coordinateGetter:nU})),f=b=>{const{active:w,over:k}=b;if(k&&w.id!==k.id){const N=e.findIndex(C=>C.id===w.id),E=e.findIndex(C=>C.id===k.id),S=Wg([...e],N,E);o(S)}},m=b=>{t(b)},p=()=>{confirm("Are you sure you want to reset the dashboard to default layout? This will remove all customizations.")&&i()},x=e.map(b=>b.type);return r.jsxs("div",{className:"desktop-dashboard",children:[r.jsxs("div",{className:"dashboard-toolbar",children:[r.jsxs("div",{className:"toolbar-info",children:[r.jsx("h2",{className:"toolbar-title",children:"My Dashboard"}),r.jsxs("p",{className:"toolbar-subtitle",children:[e.length," widget",e.length!==1?"s":""," active"]})]}),r.jsxs("div",{className:"toolbar-actions",children:[r.jsxs("button",{className:"btn-secondary",onClick:p,children:[r.jsx(qw,{size:16}),"Reset Layout"]}),r.jsxs("button",{className:"btn-primary",onClick:()=>d(!0),children:[r.jsx(bt,{size:16}),"Add Widget"]})]})]}),r.jsx("div",{className:"dashboard-content",children:e.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("div",{className:"empty-state-icon",children:""}),r.jsx("h3",{className:"empty-state-title",children:"No Widgets Added"}),r.jsx("p",{className:"empty-state-text",children:"Get started by adding widgets to customize your dashboard"}),r.jsxs("button",{className:"btn-primary",onClick:()=>d(!0),children:[r.jsx(bt,{size:16}),"Add Your First Widget"]})]}):r.jsx(mS,{sensors:h,collisionDetection:P9,onDragEnd:f,children:r.jsx(q7,{items:e.map(b=>b.id),strategy:Hg,children:r.jsx("div",{className:"widgets-grid",children:e.map(b=>r.jsx(xU,{widget:b,onRemove:n,onResize:s},b.id))})})})}),r.jsx(bU,{isOpen:c,onClose:()=>d(!1),onAdd:m,existingWidgetTypes:x}),r.jsx("style",{children:`
        .desktop-dashboard {
          width: 100%;
          height: 100%;
          display: flex;
          flex-direction: column;
        }

        .dashboard-toolbar {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--desktop-gap-lg) var(--desktop-gap-lg) var(--desktop-gap-md) var(--desktop-gap-lg);
          border-bottom: 1px solid var(--desktop-gray-100);
          background: white;
        }

        .toolbar-info {
          flex: 1;
        }

        .toolbar-title {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-h3);
          font-weight: var(--desktop-weight-bold);
          color: var(--desktop-dark-500);
          margin: 0 0 2px 0;
        }

        .toolbar-subtitle {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          margin: 0;
        }

        .toolbar-actions {
          display: flex;
          gap: var(--desktop-gap-sm);
        }

        .btn-primary, .btn-secondary {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-xs);
          padding: var(--desktop-gap-sm) var(--desktop-gap-md);
          border-radius: var(--desktop-radius-md);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-medium);
          cursor: pointer;
          transition: all 0.2s;
          border: none;
        }

        .btn-primary {
          background: var(--desktop-primary-500);
          color: white;
        }

        .btn-primary:hover {
          background: var(--desktop-primary-600);
        }

        .btn-secondary {
          background: transparent;
          color: var(--desktop-gray-600);
          border: 1px solid var(--desktop-gray-200);
        }

        .btn-secondary:hover {
          background: var(--desktop-gray-50);
          border-color: var(--desktop-gray-300);
        }

        .dashboard-content {
          flex: 1;
          overflow-y: auto;
          padding: var(--desktop-gap-lg);
          background: var(--desktop-gray-25);
        }

        .widgets-grid {
          display: grid;
          grid-template-columns: repeat(24, 1fr);
          gap: var(--desktop-gap-lg);
          align-items: start;
        }

        .empty-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          min-height: 400px;
          text-align: center;
        }

        .empty-state-icon {
          font-size: 64px;
          margin-bottom: var(--desktop-gap-lg);
        }

        .empty-state-title {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-h3);
          font-weight: var(--desktop-weight-bold);
          color: var(--desktop-dark-500);
          margin: 0 0 var(--desktop-gap-sm) 0;
        }

        .empty-state-text {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          margin: 0 0 var(--desktop-gap-xl) 0;
          max-width: 400px;
        }
      `})]})};function ji({columns:e,data:t,onView:n,onEdit:s,onDelete:o,renderAvatar:i,tableId:c="default"}){const[d,h]=v.useState(()=>{if(typeof window<"u"&&window.localStorage){const I=localStorage.getItem(`table-config-${c}`);if(I)try{return JSON.parse(I)}catch(R){console.error("Failed to parse saved column config:",R)}}return e.map(I=>({key:String(I.key),width:I.width||150,visible:I.defaultVisible!==!1}))}),[f,m]=v.useState(null),[p,x]=v.useState(null),[b,w]=v.useState(!1),[k,N]=v.useState(null),[E,S]=v.useState(0),[C,D]=v.useState(0),[_,A]=v.useState(()=>{if(typeof window<"u"&&window.localStorage){const I=localStorage.getItem(`table-views-${c}`);if(I)try{return JSON.parse(I)}catch(R){console.error("Failed to parse saved views:",R)}}return[]}),[P,F]=v.useState(""),W=v.useRef(null);v.useEffect(()=>{if(typeof window<"u"&&window.localStorage)try{localStorage.setItem(`table-config-${c}`,JSON.stringify(d))}catch(I){console.error("Failed to save column config:",I)}},[d,c]),v.useEffect(()=>{if(typeof window<"u"&&window.localStorage)try{localStorage.setItem(`table-views-${c}`,JSON.stringify(_))}catch(I){console.error("Failed to save views:",I)}},[_,c]),v.useEffect(()=>{const I=R=>{W.current&&!W.current.contains(R.target)&&w(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]),v.useEffect(()=>{if(!k)return;const I=O=>{const z=O.clientX-E,H=Math.max(50,C+z);h(Q=>Q.map(J=>J.key===k?{...J,width:H}:J))},R=()=>{N(null)};return document.addEventListener("mousemove",I),document.addEventListener("mouseup",R),()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",R)}},[k,E,C]);const U=I=>{e.find(O=>String(O.key)===I)?.sortable&&(f===I?p==="asc"?x("desc"):p==="desc"&&(m(null),x(null)):(m(I),x("asc")))},G=I=>{h(R=>R.map(O=>O.key===I?{...O,visible:!O.visible}:O))},ne=()=>{const I=e.map(R=>({key:String(R.key),width:R.width||150,visible:R.defaultVisible!==!1}));h(I),m(null),x(null)},V=()=>{if(!P.trim())return;const I={name:P,columns:JSON.parse(JSON.stringify(d)),sortKey:f,sortDirection:p};A(R=>[...R,I]),F("")},re=I=>{h(JSON.parse(JSON.stringify(I.columns))),m(I.sortKey),x(I.sortDirection),w(!1)},pe=I=>{A(R=>R.filter(O=>O.name!==I))},se=(I,R)=>{R.preventDefault(),R.stopPropagation();const O=d.find(z=>z.key===I);O&&(N(I),S(R.clientX),D(O.width))},q=te.useMemo(()=>!f||!p?t:[...t].sort((I,R)=>{const O=I[f],z=R[f];if(O==null)return 1;if(z==null)return-1;const H=String(O).toLowerCase(),Q=String(z).toLowerCase();return p==="asc"?H.localeCompare(Q):Q.localeCompare(H)}),[t,f,p]),M=e.filter(I=>d.find(O=>O.key===String(I.key))?.visible!==!1),X=I=>d.find(O=>O.key===I)?.width||150,ae=I=>f!==I?r.jsx(NP,{size:16}):p==="asc"?r.jsx(EP,{size:16}):r.jsx(yP,{size:16});return r.jsxs("div",{className:"data-table",children:[r.jsxs("div",{className:"table-controls",children:[r.jsx("div",{className:"table-controls-left",children:_.length>0&&r.jsxs("div",{className:"saved-views",children:[r.jsx("span",{className:"views-label",children:"Saved Views:"}),_.map(I=>r.jsx("button",{className:"view-btn",onClick:()=>re(I),title:`Load ${I.name} view`,children:I.name},I.name))]})}),r.jsx("div",{className:"table-controls-right",children:r.jsx("button",{className:"control-btn",onClick:()=>w(!b),title:"Column settings",children:r.jsx(Wm,{size:18})})}),b&&r.jsxs("div",{className:"column-settings-panel",ref:W,children:[r.jsx("div",{className:"settings-header",children:r.jsx("h4",{children:"Column Settings"})}),r.jsxs("div",{className:"settings-section",children:[r.jsx("h5",{children:"Visibility"}),r.jsx("div",{className:"column-list",children:e.map(I=>{const R=d.find(O=>O.key===String(I.key));return r.jsxs("label",{className:"column-item",children:[r.jsx("input",{type:"checkbox",checked:R?.visible!==!1,onChange:()=>G(String(I.key))}),r.jsx("span",{children:I.label})]},String(I.key))})})]}),r.jsxs("div",{className:"settings-section",children:[r.jsx("h5",{children:"Save Current View"}),r.jsxs("div",{className:"save-view-form",children:[r.jsx("input",{type:"text",className:"view-name-input",placeholder:"View name...",value:P,onChange:I=>F(I.target.value)}),r.jsxs("button",{className:"save-view-btn",onClick:V,disabled:!P.trim(),children:[r.jsx(GR,{size:16}),"Save"]})]})]}),_.length>0&&r.jsxs("div",{className:"settings-section",children:[r.jsx("h5",{children:"Saved Views"}),r.jsx("div",{className:"saved-views-list",children:_.map(I=>r.jsxs("div",{className:"saved-view-item",children:[r.jsx("span",{children:I.name}),r.jsx("button",{className:"delete-view-btn",onClick:()=>pe(I.name),title:"Delete view",children:r.jsx(Wd,{size:14})})]},I.name))})]}),r.jsx("div",{className:"settings-actions",children:r.jsxs("button",{className:"reset-btn",onClick:ne,children:[r.jsx(qw,{size:16}),"Reset to Default"]})})]})]}),r.jsxs("div",{className:"table-wrapper",children:[r.jsxs("div",{className:"table-header",children:[i&&r.jsx("div",{className:"header-cell avatar-cell"}),M.map(I=>{const R=String(I.key),O=X(R);return r.jsxs("div",{className:`header-cell ${I.sortable?"sortable":""}`,style:{width:`${O}px`,minWidth:`${I.minWidth||50}px`},onClick:()=>I.sortable&&U(R),children:[r.jsx("span",{className:"header-label",children:I.label}),I.sortable&&r.jsx("span",{className:"sort-icon",children:ae(R)}),r.jsx("div",{className:"resize-handle",onMouseDown:z=>se(R,z),onClick:z=>z.stopPropagation()})]},R)}),r.jsx("div",{className:"header-cell action-cell",children:"Action"})]}),r.jsx("div",{className:"table-body",children:q.map((I,R)=>r.jsxs("div",{className:"table-row",children:[i&&r.jsx("div",{className:"table-cell avatar-cell",children:i(I)}),M.map(O=>{const z=String(O.key),H=X(z);return r.jsx("div",{className:"table-cell",style:{width:`${H}px`,minWidth:`${O.minWidth||50}px`},children:O.render?O.render(I):String(I[O.key]||"")},z)}),r.jsx("div",{className:"table-cell action-cell",children:r.jsxs("div",{className:"action-buttons",children:[n&&r.jsx("button",{className:"action-btn",onClick:()=>n(I),"aria-label":"View",children:r.jsx(Vw,{size:20})}),s&&r.jsx("button",{className:"action-btn",onClick:()=>s(I),"aria-label":"Edit",children:r.jsx(Kw,{size:20})}),o&&r.jsx("button",{className:"action-btn",onClick:()=>o(I),"aria-label":"Delete",children:r.jsx(Wd,{size:20})})]})})]},R))})]}),r.jsx("style",{children:`
        .data-table {
          width: 100%;
        }

        .table-controls {
          position: relative;
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: var(--desktop-gap-lg) 0;
          margin-bottom: var(--desktop-gap-lg);
        }

        .table-controls-left {
          display: flex;
          gap: var(--desktop-gap-lg);
        }

        .table-controls-right {
          display: flex;
          gap: var(--desktop-gap-lg);
        }

        .saved-views {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-md);
        }

        .views-label {
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
        }

        .view-btn {
          padding: 6px var(--desktop-gap-lg);
          background: var(--desktop-primary-5);
          border: 1px solid var(--desktop-primary-500);
          border-radius: var(--desktop-radius-md);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-primary-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .view-btn:hover {
          background: var(--desktop-primary-500);
          color: var(--desktop-white-500);
        }

        .control-btn {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-md);
          padding: 8px var(--desktop-gap-lg);
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .control-btn:hover {
          border-color: var(--desktop-gray-500);
        }

        .column-settings-panel {
          position: absolute;
          top: 100%;
          right: 0;
          width: 320px;
          max-height: 500px;
          overflow-y: auto;
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-lg);
          box-shadow: var(--desktop-shadow-md);
          padding: var(--desktop-gap-lg);
          z-index: 100;
          margin-top: 8px;
        }

        .settings-header h4 {
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          margin: 0 0 var(--desktop-gap-lg) 0;
        }

        .settings-section {
          margin-bottom: var(--desktop-gap-lg);
          padding-bottom: var(--desktop-gap-lg);
          border-bottom: 1px solid var(--desktop-gray-10);
        }

        .settings-section:last-of-type {
          border-bottom: none;
        }

        .settings-section h5 {
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          margin: 0 0 var(--desktop-gap-md) 0;
        }

        .column-list {
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-md);
        }

        .column-item {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-md);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          cursor: pointer;
        }

        .column-item input[type="checkbox"] {
          cursor: pointer;
        }

        .save-view-form {
          display: flex;
          gap: var(--desktop-gap-md);
        }

        .view-name-input {
          flex: 1;
          height: 32px;
          padding: 0 var(--desktop-gap-md);
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-md);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          outline: none;
        }

        .view-name-input:focus {
          border-color: var(--desktop-primary-500);
        }

        .save-view-btn {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 0 var(--desktop-gap-lg);
          height: 32px;
          background: var(--desktop-primary-500);
          border: none;
          border-radius: var(--desktop-radius-md);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-white-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .save-view-btn:hover:not(:disabled) {
          background: var(--desktop-primary-400);
        }

        .save-view-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .saved-views-list {
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-md);
        }

        .saved-view-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: var(--desktop-gap-md);
          background: var(--desktop-gray-5);
          border-radius: var(--desktop-radius-md);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
        }

        .delete-view-btn {
          background: none;
          border: none;
          color: #EA5455;
          cursor: pointer;
          padding: 4px;
          transition: opacity 0.2s;
        }

        .delete-view-btn:hover {
          opacity: 0.7;
        }

        .settings-actions {
          padding-top: var(--desktop-gap-lg);
        }

        .reset-btn {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-md);
          width: 100%;
          padding: var(--desktop-gap-md);
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-md);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          cursor: pointer;
          transition: all 0.2s;
          justify-content: center;
        }

        .reset-btn:hover {
          border-color: var(--desktop-gray-500);
        }

        .table-wrapper {
          width: 100%;
          overflow-x: auto;
        }

        .table-header {
          display: flex;
          align-items: center;
          padding: 8px 0;
          border-bottom: 1px solid var(--desktop-gray-10);
        }

        .table-body {
          display: flex;
          flex-direction: column;
        }

        .table-row {
          display: flex;
          align-items: center;
          padding: 3px 0;
          border-bottom: 1px solid var(--desktop-gray-10);
          transition: background 0.2s;
        }

        .table-row:hover {
          background: var(--desktop-gray-5);
        }

        .header-cell {
          position: relative;
          padding: 8px 8px 8px 0;
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          flex-shrink: 0;
          display: flex;
          align-items: center;
          gap: 6px;
          user-select: none;
        }

        .header-cell.sortable {
          cursor: pointer;
        }

        .header-cell.sortable:hover {
          color: var(--desktop-dark-500);
        }

        .header-label {
          flex: 1;
        }

        .sort-icon {
          display: flex;
          align-items: center;
          color: var(--desktop-gray-500);
        }

        .resize-handle {
          position: absolute;
          right: 0;
          top: 0;
          bottom: 0;
          width: 8px;
          cursor: col-resize;
          z-index: 1;
        }

        .resize-handle:hover {
          background: var(--desktop-primary-500);
        }

        .table-cell {
          padding: 8px 8px 8px 0;
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          flex-shrink: 0;
          display: flex;
          align-items: center;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .avatar-cell {
          width: 44px;
          flex-shrink: 0;
          padding-right: 8px;
        }

        .action-cell {
          width: 90px;
          flex-shrink: 0;
        }

        .action-buttons {
          display: flex;
          gap: 8px;
        }

        .action-btn {
          background: none;
          border: none;
          cursor: pointer;
          padding: 0;
          color: var(--desktop-dark-500);
          transition: color 0.2s;
        }

        .action-btn:hover {
          color: var(--desktop-primary-500);
        }
      `})]})}const kU=({isOpen:e,onClose:t,title:n,subtitle:s,children:o,onCancel:i,onSubmit:c,cancelLabel:d="Cancel",submitLabel:h="Next"})=>{if(!e)return null;const f=()=>{i?.(),t()},m=()=>{c?.()};return r.jsxs("div",{className:"modal-overlay",onClick:t,children:[r.jsxs("div",{className:"modal-container",onClick:p=>p.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsxs("div",{className:"modal-title-section",children:[r.jsx("h2",{className:"modal-title",children:n}),s&&r.jsx("p",{className:"modal-subtitle",children:s})]}),r.jsx("button",{className:"modal-close",onClick:t,children:r.jsx(fa,{size:20})})]}),r.jsx("div",{className:"modal-content",children:o}),r.jsxs("div",{className:"modal-footer",children:[r.jsx("button",{className:"modal-btn-cancel",onClick:f,children:d}),r.jsx("button",{className:"modal-btn-submit",onClick:m,children:h})]})]}),r.jsx("style",{children:`
        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(22, 21, 28, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: var(--desktop-content-padding);
        }

        .modal-container {
          width: 100%;
          max-width: 800px;
          max-height: 90vh;
          background: var(--desktop-white-500);
          border-radius: var(--desktop-radius-xl);
          display: flex;
          flex-direction: column;
          overflow: hidden;
        }

        .modal-header {
          display: flex;
          align-items: flex-start;
          justify-content: space-between;
          padding: var(--desktop-gap-2xl);
          border-bottom: 1px solid var(--desktop-gray-10);
        }

        .modal-title-section {
          flex: 1;
        }

        .modal-title {
          font-size: var(--desktop-header-5);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          margin: 0 0 4px 0;
        }

        .modal-subtitle {
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          margin: 0;
        }

        .modal-close {
          width: 32px;
          height: 32px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: transparent;
          border: none;
          border-radius: var(--desktop-radius-md);
          cursor: pointer;
          color: var(--desktop-dark-500);
          transition: background 0.2s;
        }

        .modal-close:hover {
          background: var(--desktop-gray-10);
        }

        .modal-content {
          flex: 1;
          overflow-y: auto;
          padding: var(--desktop-gap-2xl);
        }

        .modal-footer {
          display: flex;
          align-items: center;
          justify-content: flex-end;
          gap: var(--desktop-gap-lg);
          padding: var(--desktop-gap-2xl);
          border-top: 1px solid var(--desktop-gray-10);
        }

        .modal-btn-cancel {
          padding: 13px 20px;
          height: 50px;
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .modal-btn-cancel:hover {
          border-color: var(--desktop-gray-500);
        }

        .modal-btn-submit {
          padding: 13px 20px;
          height: 50px;
          background: var(--desktop-primary-500);
          border: none;
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-white-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .modal-btn-submit:hover {
          background: var(--desktop-primary-400);
        }
      `})]})},Ed=({label:e,onFileSelect:t,accept:n=".jpeg,.jpg,.pdf",placeholder:s="Drag & Drop or choose file to upload"})=>{const[o,i]=v.useState(!1),[c,d]=v.useState(null),h=v.useRef(null),f=w=>{w.preventDefault(),i(!0)},m=()=>{i(!1)},p=w=>{w.preventDefault(),i(!1);const k=w.dataTransfer.files[0];k&&(d(k.name),t(k))},x=w=>{const k=w.target.files?.[0];k&&(d(k.name),t(k))},b=()=>{h.current?.click()};return r.jsxs("div",{className:"file-upload-container",children:[r.jsx("label",{className:"file-upload-label",children:e}),r.jsxs("div",{className:`file-upload-area ${o?"dragging":""}`,onDragOver:f,onDragLeave:m,onDrop:p,onClick:b,children:[r.jsx("div",{className:"upload-icon",children:r.jsx(Gw,{size:32})}),r.jsx("div",{className:"upload-text",children:c?r.jsx("span",{className:"file-name",children:c}):r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"upload-prompt",children:[s.split("or")[0],r.jsxs("span",{className:"upload-link",children:["or ",s.split("or")[1]]})]}),r.jsxs("span",{className:"upload-hint",children:["Supported formats: ",n]})]})})]}),r.jsx("input",{ref:h,type:"file",accept:n,onChange:x,style:{display:"none"}}),r.jsx("style",{children:`
        .file-upload-container {
          width: 100%;
          margin-bottom: var(--desktop-gap-lg);
        }

        .file-upload-label {
          display: block;
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          margin-bottom: var(--desktop-gap-sm);
        }

        .file-upload-area {
          width: 100%;
          height: 120px;
          border: 2px dashed var(--desktop-gray-20);
          border-radius: var(--desktop-radius-lg);
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          gap: var(--desktop-gap-md);
          cursor: pointer;
          transition: all 0.2s;
          background: var(--desktop-white-500);
        }

        .file-upload-area:hover,
        .file-upload-area.dragging {
          border-color: var(--desktop-primary-500);
          background: var(--desktop-primary-5);
        }

        .upload-icon {
          width: 48px;
          height: 48px;
          background: var(--desktop-primary-500);
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: var(--desktop-white-500);
        }

        .upload-text {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 4px;
        }

        .upload-prompt {
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
        }

        .upload-link {
          color: var(--desktop-primary-500);
          font-weight: var(--desktop-weight-semibold);
        }

        .upload-hint {
          font-size: var(--desktop-caption);
          color: var(--desktop-gray-500);
        }

        .file-name {
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-primary-500);
        }
      `})]})},jU=({isOpen:e,onClose:t,onSubmit:n})=>{const[s,o]=v.useState("personal"),[i,c]=v.useState({firstName:"",lastName:"",email:"",phone:"",department:"",designation:"",salary:"",joinDate:"",appointmentLetter:null,salarySlips:null,relievingLetter:null,experienceLetter:null,accessLevel:"standard"}),d=[{id:"personal",label:"Personal Information",icon:r.jsx(Cs,{size:20})},{id:"professional",label:"Professional Information",icon:r.jsx(Om,{size:20})},{id:"documents",label:"Documents",icon:r.jsx(fr,{size:20})},{id:"access",label:"Account Access",icon:r.jsx(Yw,{size:20})}],h=d.findIndex(b=>b.id===s),f=()=>{h<d.length-1?o(d[h+1].id):(n(i),t())},m=()=>{h>0&&o(d[h-1].id)},p=(b,w)=>{c(k=>({...k,[b]:w}))},x=()=>{switch(s){case"personal":return r.jsxs("div",{className:"form-step",children:[r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:"First Name"}),r.jsx("input",{type:"text",placeholder:"Enter first name",value:i.firstName,onChange:b=>p("firstName",b.target.value)})]}),r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:"Last Name"}),r.jsx("input",{type:"text",placeholder:"Enter last name",value:i.lastName,onChange:b=>p("lastName",b.target.value)})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:"Email Address"}),r.jsx("input",{type:"email",placeholder:"Enter email address",value:i.email,onChange:b=>p("email",b.target.value)})]}),r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:"Phone Number"}),r.jsx("input",{type:"tel",placeholder:"Enter phone number",value:i.phone,onChange:b=>p("phone",b.target.value)})]})]})]});case"professional":return r.jsxs("div",{className:"form-step",children:[r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:"Department"}),r.jsxs("select",{value:i.department,onChange:b=>p("department",b.target.value),children:[r.jsx("option",{value:"",children:"Select department"}),r.jsx("option",{value:"management",children:"Management"}),r.jsx("option",{value:"maintenance",children:"Maintenance"}),r.jsx("option",{value:"housekeeping",children:"Housekeeping"}),r.jsx("option",{value:"security",children:"Security"})]})]}),r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:"Designation"}),r.jsx("input",{type:"text",placeholder:"Enter designation",value:i.designation,onChange:b=>p("designation",b.target.value)})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:"Salary"}),r.jsx("input",{type:"number",placeholder:"Enter salary",value:i.salary,onChange:b=>p("salary",b.target.value)})]}),r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:"Join Date"}),r.jsx("input",{type:"date",value:i.joinDate,onChange:b=>p("joinDate",b.target.value)})]})]})]});case"documents":return r.jsxs("div",{className:"form-step",children:[r.jsx("div",{className:"form-row",children:r.jsx(Ed,{label:"Upload Appointment Letter",onFileSelect:b=>p("appointmentLetter",b)})}),r.jsx("div",{className:"form-row",children:r.jsx(Ed,{label:"Upload Salary Slips",onFileSelect:b=>p("salarySlips",b)})}),r.jsx("div",{className:"form-row",children:r.jsx(Ed,{label:"Upload Reliving Letter",onFileSelect:b=>p("relievingLetter",b)})}),r.jsx("div",{className:"form-row",children:r.jsx(Ed,{label:"Upload Experience Letter",onFileSelect:b=>p("experienceLetter",b)})})]});case"access":return r.jsxs("div",{className:"form-step",children:[r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:"Access Level"}),r.jsxs("select",{value:i.accessLevel,onChange:b=>p("accessLevel",b.target.value),children:[r.jsx("option",{value:"standard",children:"Standard User"}),r.jsx("option",{value:"manager",children:"Manager"}),r.jsx("option",{value:"admin",children:"Administrator"})]})]}),r.jsxs("div",{className:"access-info",children:[r.jsx("h4",{children:"Access Permissions"}),r.jsxs("ul",{children:[r.jsx("li",{children:"View assigned tasks and properties"}),r.jsx("li",{children:"Submit expense reports"}),r.jsx("li",{children:"Clock in/out tracking"}),r.jsx("li",{children:"Internal messaging"})]})]})]});default:return null}};return r.jsxs(kU,{isOpen:e,onClose:t,title:"Add New Employee",subtitle:"All Employee > Add New Employee",onSubmit:f,onCancel:h>0?m:void 0,cancelLabel:h>0?"Back":"Cancel",submitLabel:h===d.length-1?"Submit":"Next",children:[r.jsxs("div",{className:"add-employee-form",children:[r.jsx("div",{className:"step-tabs",children:d.map((b,w)=>r.jsxs("div",{className:`step-tab ${w===h?"active":w<h?"completed":""}`,children:[r.jsx("div",{className:"step-icon",children:b.icon}),r.jsx("span",{className:"step-label",children:b.label})]},b.id))}),r.jsx("div",{className:"step-content",children:x()})]}),r.jsx("style",{children:`
        .add-employee-form {
          width: 100%;
        }

        .step-tabs {
          display: flex;
          gap: 12px;
          margin-bottom: 32px;
          padding-bottom: 24px;
          border-bottom: 1px solid var(--desktop-gray-10);
        }

        .step-tab {
          flex: 1;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
          padding: 12px;
          border-radius: var(--desktop-radius-md);
          transition: all 0.2s;
        }

        .step-tab.active {
          background: var(--desktop-primary-5);
        }

        .step-tab.completed .step-icon {
          background: #28C76F;
        }

        .step-icon {
          width: 40px;
          height: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          background: var(--desktop-gray-20);
          color: var(--desktop-dark-500);
          transition: all 0.2s;
        }

        .step-tab.active .step-icon {
          background: var(--desktop-primary-500);
          color: var(--desktop-white-500);
        }

        .step-label {
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          text-align: center;
        }

        .step-tab.active .step-label {
          color: var(--desktop-primary-500);
          font-weight: var(--desktop-weight-semibold);
        }

        .step-content {
          min-height: 400px;
        }

        .form-step {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .form-row {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 20px;
        }

        .form-row:has(.file-upload-container) {
          grid-template-columns: 1fr;
        }

        .form-field {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-field label {
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
        }

        .form-field input,
        .form-field select {
          padding: 13px 16px;
          height: 50px;
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          outline: none;
          transition: all 0.2s;
        }

        .form-field input:focus,
        .form-field select:focus {
          border-color: var(--desktop-primary-500);
        }

        .form-field input::placeholder {
          color: var(--desktop-dark-20);
        }

        .access-info {
          margin-top: 20px;
          padding: 20px;
          background: var(--desktop-gray-5);
          border-radius: var(--desktop-radius-lg);
        }

        .access-info h4 {
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          margin: 0 0 12px 0;
        }

        .access-info ul {
          margin: 0;
          padding-left: 20px;
        }

        .access-info li {
          font-size: var(--desktop-body-2);
          color: var(--desktop-gray-500);
          margin-bottom: 8px;
        }
      `})]})},NU=()=>{const[e,t]=v.useState([]),[n,s]=v.useState(!0),[o,i]=v.useState(""),[c,d]=v.useState(!1);v.useEffect(()=>{h()},[]);const h=async()=>{try{const w=await de("/staff");t(Array.isArray(w)?w:[])}catch(w){console.error("Error fetching staff:",w),t([])}finally{s(!1)}},f=[{key:"name",label:"Employee Name",width:250,sortable:!0},{key:"employee_id",label:"Employee ID",width:130,sortable:!0},{key:"villaId",label:"Villa",width:170,sortable:!0},{key:"role",label:"Role",width:160,sortable:!0,render:w=>r.jsx("span",{style:{textTransform:"capitalize"},children:w.role})},{key:"email",label:"Email",width:200,sortable:!0},{key:"status",label:"Status",width:110,sortable:!0,render:w=>r.jsx("span",{className:"status-badge",children:w.status==="active"?"Permanent":w.status})}],m=w=>r.jsx("div",{className:"staff-avatar",children:w.name?.[0]?.toUpperCase()||"S"}),p=Array.isArray(e)?e.filter(w=>w.name?.toLowerCase().includes(o.toLowerCase())):[],x=w=>{console.log("Adding employee:",w),h()},b=()=>{alert("Filter functionality will be implemented")};return r.jsxs("div",{className:"desktop-staff-view",children:[r.jsxs("div",{className:"staff-content",children:[r.jsxs("div",{className:"staff-toolbar",children:[r.jsxs("div",{className:"search-box",children:[r.jsx(ds,{size:20}),r.jsx("input",{type:"text",placeholder:"Search anything here...",value:o,onChange:w=>i(w.target.value)})]}),r.jsxs("div",{className:"toolbar-actions",children:[r.jsxs("button",{className:"filter-btn",onClick:b,children:[r.jsx(io,{size:20}),r.jsx("span",{children:"Filter"})]}),r.jsxs("button",{className:"add-btn",onClick:()=>d(!0),children:[r.jsx(bt,{size:20}),r.jsx("span",{children:"Add New Employee"})]})]})]}),r.jsx("div",{className:"staff-table-container",children:n?r.jsx("div",{className:"loading-state",children:"Loading staff..."}):r.jsx(ji,{columns:f,data:p,renderAvatar:m,tableId:"staff-table",onView:w=>console.log("View",w),onEdit:w=>console.log("Edit",w),onDelete:w=>console.log("Delete",w)})})]}),r.jsx(jU,{isOpen:c,onClose:()=>d(!1),onSubmit:x}),r.jsx("style",{children:`
        .desktop-staff-view {
          width: 100%;
          height: 100%;
        }

        .staff-content {
          padding: var(--desktop-gap-lg) 20px 0 20px;
        }

        .staff-toolbar {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: var(--desktop-gap-lg);
          margin-bottom: var(--desktop-gap-2xl);
        }

        .search-box {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 10px var(--desktop-gap-lg);
          width: 330px;
          height: 38px;
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-10);
          border-radius: var(--desktop-radius-lg);
        }

        .search-box input {
          flex: 1;
          border: none;
          outline: none;
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          background: transparent;
        }

        .search-box input::placeholder {
          color: var(--desktop-dark-20);
        }

        .toolbar-actions {
          display: flex;
          gap: var(--desktop-gap-lg);
        }

        .filter-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          padding: var(--desktop-gap-lg);
          height: 38px;
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .filter-btn:hover {
          border-color: var(--desktop-gray-500);
        }

        .add-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          padding: var(--desktop-gap-lg);
          height: 38px;
          background: var(--desktop-primary-500);
          border: none;
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-white-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .add-btn:hover {
          background: var(--desktop-primary-400);
        }

        .staff-table-container {
          background: var(--desktop-gray-5);
          border: none;
          border-radius: var(--desktop-radius-lg);
          padding: var(--desktop-gap-lg);
        }

        .staff-avatar {
          width: 36px;
          height: 36px;
          border-radius: 50%;
          background: var(--desktop-primary-500);
          color: var(--desktop-white-500);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: var(--desktop-weight-semibold);
          font-size: var(--desktop-body-2);
        }

        .status-badge {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          padding: 3px 8px;
          background: var(--desktop-primary-10);
          color: var(--desktop-primary-500);
          border-radius: var(--desktop-radius-sm);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-light);
          line-height: 18px;
          text-transform: capitalize;
        }

        .loading-state {
          padding: 40px;
          text-align: center;
          color: var(--desktop-gray-500);
          font-family: var(--desktop-font-family);
        }
      `})]})},SU=()=>{const[e,t]=v.useState([]),[n,s]=v.useState(!0),[o,i]=v.useState(null),[c,d]=v.useState(!1),[h,f]=v.useState({priority:null,assignee:null}),m=ZN(pm(Xu,{activationConstraint:{distance:8}}));v.useEffect(()=>{p()},[]);const p=async()=>{try{const _=await de("/tasks");t(Array.isArray(_)?_:[])}catch(_){console.error("Error fetching tasks:",_)}finally{s(!1)}},x=_=>{const A=e.find(P=>P.id===_.active.id);i(A||null)},b=async _=>{const{active:A,over:P}=_;if(i(null),!P)return;const F=A.id,W=P.id;t(U=>U.map(G=>G.id===F?{...G,status:W}:G));try{await de(`/tasks/${F}`,{method:"PATCH",body:JSON.stringify({status:W})})}catch(U){console.error("Error updating task status:",U),p()}},w=e.filter(_=>!(h.priority&&_.priority!==h.priority||h.assignee&&_.assignedTo!==h.assignee)),k={pending:w.filter(_=>_.status==="pending"),in_progress:w.filter(_=>_.status==="in_progress"),completed:w.filter(_=>_.status==="completed")},N=Array.from(new Set(e.map(_=>_.priority).filter(Boolean))),E=Array.from(new Set(e.map(_=>_.assignedTo).filter(Boolean))),S=({task:_,isDragging:A})=>r.jsxs("div",{className:`task-card ${A?"dragging":""}`,children:[r.jsxs("div",{className:"task-header",children:[r.jsx("h4",{className:"task-title",children:_.title}),r.jsx("span",{className:`priority-badge priority-${_.priority||"medium"}`,children:_.priority||"Medium"})]}),_.description&&r.jsx("p",{className:"task-description",children:_.description}),r.jsxs("div",{className:"task-footer",children:[r.jsxs("div",{className:"task-assignee",children:[r.jsx("div",{className:"assignee-avatar",children:_.assignedTo?.[0]?.toUpperCase()||"U"}),r.jsx("span",{className:"assignee-name",children:_.assignedTo||"Unassigned"})]}),_.dueDate&&r.jsx("span",{className:"task-due-date",children:new Date(_.dueDate).toLocaleDateString()})]})]}),C=({task:_})=>{const{attributes:A,listeners:P,setNodeRef:F,transform:W,isDragging:U}=gS({id:_.id}),G=W?{transform:`translate3d(${W.x}px, ${W.y}px, 0)`,opacity:U?.5:1}:void 0;return r.jsx("div",{ref:F,style:G,...P,...A,children:r.jsx(S,{task:_,isDragging:U})})},D=({title:_,status:A,count:P,color:F})=>{const{setNodeRef:W}=xS({id:A});return r.jsxs("div",{className:"kanban-column",children:[r.jsx("div",{className:"column-header",children:r.jsxs("div",{className:"column-title-row",children:[r.jsx("div",{className:`status-dot ${F}`}),r.jsx("h3",{className:"column-title",children:_}),r.jsx("span",{className:"task-count",children:P})]})}),r.jsx("div",{ref:W,className:"column-content",children:k[A].map(U=>r.jsx(C,{task:U},U.id))})]})};return r.jsxs("div",{className:"desktop-tasks-view",children:[r.jsxs("div",{className:"tasks-toolbar",children:[r.jsxs("button",{className:"filter-btn",onClick:()=>d(!c),children:[r.jsx(io,{size:20}),r.jsx("span",{children:"Filter"}),(h.priority||h.assignee)&&r.jsx("span",{className:"filter-badge",children:[h.priority,h.assignee].filter(Boolean).length})]}),r.jsxs("button",{className:"add-btn",onClick:()=>console.log("Add task"),children:[r.jsx(bt,{size:20}),r.jsx("span",{children:"Add New Task"})]})]}),c&&r.jsxs("div",{className:"filters-panel",children:[r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{children:"Priority"}),r.jsxs("select",{value:h.priority||"",onChange:_=>f({...h,priority:_.target.value||null}),children:[r.jsx("option",{value:"",children:"All Priorities"}),N.map(_=>r.jsx("option",{value:_,children:_},_))]})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{children:"Assignee"}),r.jsxs("select",{value:h.assignee||"",onChange:_=>f({...h,assignee:_.target.value||null}),children:[r.jsx("option",{value:"",children:"All Assignees"}),E.map(_=>r.jsx("option",{value:_,children:_},_))]})]}),(h.priority||h.assignee)&&r.jsxs("button",{className:"clear-filters-btn",onClick:()=>f({priority:null,assignee:null}),children:[r.jsx(fa,{size:16}),"Clear Filters"]})]}),r.jsxs(mS,{sensors:m,onDragStart:x,onDragEnd:b,children:[r.jsxs("div",{className:"kanban-board",children:[r.jsx(D,{title:"To Do",status:"pending",count:k.pending.length,color:"pending"}),r.jsx(D,{title:"In Progress",status:"in_progress",count:k.in_progress.length,color:"in-progress"}),r.jsx(D,{title:"Completed",status:"completed",count:k.completed.length,color:"completed"})]}),r.jsx(U7,{children:o&&r.jsx(S,{task:o,isDragging:!0})})]}),r.jsx("style",{children:`
        .desktop-tasks-view {
          width: 100%;
          height: 100%;
        }

        .tasks-toolbar {
          display: flex;
          align-items: center;
          justify-content: flex-end;
          gap: var(--desktop-gap-lg);
          padding: var(--desktop-gap-lg);
          margin-bottom: var(--desktop-gap-lg);
        }

        .filter-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: var(--desktop-gap-md);
          padding: 0 var(--desktop-gap-xl);
          height: 38px;
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          cursor: pointer;
          transition: all 0.2s;
          position: relative;
        }

        .filter-btn:hover {
          border-color: var(--desktop-gray-500);
        }

        .filter-badge {
          display: flex;
          align-items: center;
          justify-content: center;
          min-width: 18px;
          height: 18px;
          padding: 0 5px;
          background: var(--desktop-primary-500);
          color: var(--desktop-white-500);
          border-radius: 9px;
          font-size: 10px;
          font-weight: var(--desktop-weight-semibold);
        }

        .add-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: var(--desktop-gap-md);
          padding: 0 var(--desktop-gap-xl);
          height: 38px;
          background: var(--desktop-primary-500);
          border: none;
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-white-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .add-btn:hover {
          background: var(--desktop-primary-400);
        }

        .filters-panel {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-xl);
          padding: var(--desktop-gap-lg);
          margin: 0 var(--desktop-gap-lg) var(--desktop-gap-lg) var(--desktop-gap-lg);
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-10);
          border-radius: var(--desktop-radius-lg);
        }

        .filter-group {
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-sm);
          flex: 1;
        }

        .filter-group label {
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
        }

        .filter-group select {
          padding: 10px var(--desktop-gap-lg);
          height: 38px;
          background: var(--desktop-gray-5);
          border: 1px solid var(--desktop-gray-10);
          border-radius: var(--desktop-radius-md);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          color: var(--desktop-dark-500);
          outline: none;
          cursor: pointer;
        }

        .clear-filters-btn {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-sm);
          padding: 0 var(--desktop-gap-lg);
          height: 38px;
          margin-top: 18px;
          background: var(--desktop-gray-10);
          border: none;
          border-radius: var(--desktop-radius-md);
          font-size: var(--desktop-body-2);
          color: var(--desktop-dark-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .clear-filters-btn:hover {
          background: var(--desktop-gray-20);
        }

        .kanban-board {
          display: grid;
          grid-template-columns: repeat(24, 1fr);
          gap: var(--desktop-grid-gap);
          padding: 0 var(--desktop-gap-lg) var(--desktop-gap-lg) var(--desktop-gap-lg);
        }

        .kanban-column {
          grid-column: span 8;
          background: var(--desktop-gray-5);
          border-radius: var(--desktop-radius-lg);
          padding: var(--desktop-gap-lg);
          min-height: 450px;
        }

        .column-header {
          margin-bottom: var(--desktop-gap-lg);
        }

        .column-title-row {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .status-dot {
          width: 8px;
          height: 8px;
          border-radius: 50%;
        }

        .status-dot.pending {
          background: #FF9F43;
        }

        .status-dot.in-progress {
          background: var(--desktop-primary-500);
        }

        .status-dot.completed {
          background: #28C76F;
        }

        .column-title {
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          margin: 0;
        }

        .task-count {
          display: flex;
          align-items: center;
          justify-content: center;
          min-width: 24px;
          height: 24px;
          padding: 0 8px;
          background: var(--desktop-gray-20);
          border-radius: 12px;
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
        }

        .column-content {
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-md);
          min-height: 350px;
        }

        .task-card {
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-10);
          border-radius: var(--desktop-radius-lg);
          padding: var(--desktop-gap-lg);
          cursor: grab;
          transition: all 0.2s;
        }

        .task-card:active {
          cursor: grabbing;
        }

        .task-card:hover {
          border-color: var(--desktop-primary-500);
          box-shadow: var(--desktop-shadow-sm);
        }

        .task-card.dragging {
          opacity: 0.5;
          box-shadow: var(--desktop-shadow-lg);
        }

        .task-header {
          display: flex;
          align-items: flex-start;
          justify-content: space-between;
          margin-bottom: var(--desktop-gap-sm);
        }

        .task-title {
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          margin: 0;
          flex: 1;
        }

        .priority-badge {
          padding: 3px 6px;
          border-radius: var(--desktop-radius-sm);
          font-size: 10px;
          font-weight: var(--desktop-weight-light);
          text-transform: capitalize;
        }

        .priority-low {
          background: #E8F5E9;
          color: #2E7D32;
        }

        .priority-medium {
          background: #FFF3E0;
          color: #F57C00;
        }

        .priority-high {
          background: #FFEBEE;
          color: #C62828;
        }

        .task-description {
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          margin: 0 0 var(--desktop-gap-md) 0;
          line-height: 1.4;
        }

        .task-footer {
          display: flex;
          align-items: center;
          justify-content: space-between;
        }

        .task-assignee {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-sm);
        }

        .assignee-avatar {
          width: 22px;
          height: 22px;
          border-radius: 50%;
          background: var(--desktop-primary-500);
          color: var(--desktop-white-500);
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 9px;
          font-weight: var(--desktop-weight-semibold);
        }

        .assignee-name {
          font-size: 10px;
          color: var(--desktop-gray-500);
        }

        .task-due-date {
          font-size: 10px;
          color: var(--desktop-gray-500);
        }
      `})]})},EU=()=>{const[e,t]=v.useState([]),[n,s]=v.useState(!0),[o,i]=v.useState(""),[c,d]=v.useState(!1);v.useEffect(()=>{h()},[]);const h=async()=>{try{const w=(await de("/expenses")||[]).map(k=>({id:k.id,description:k.description||"Expense",amount:k.amount||0,category:k.category||"Other",date:k.date||new Date().toISOString(),status:k.status||"pending",submittedBy:k.submittedBy||"Unknown",villa:k.villaId||""}));t(Array.isArray(w)?w:[])}catch(b){console.error("Error fetching expenses:",b)}finally{s(!1)}},f=[{key:"description",label:"Description",width:250,sortable:!0},{key:"category",label:"Category",width:150,sortable:!0,render:b=>r.jsx("span",{style:{textTransform:"capitalize"},children:b.category})},{key:"amount",label:"Amount",width:130,sortable:!0,render:b=>r.jsxs("span",{children:["$",b.amount.toFixed(2)]})},{key:"date",label:"Date",width:130,sortable:!0,render:b=>r.jsx("span",{children:new Date(b.date).toLocaleDateString()})},{key:"submittedBy",label:"Submitted By",width:160,sortable:!0},{key:"status",label:"Status",width:110,sortable:!0,render:b=>r.jsx("span",{className:`status-badge status-${b.status}`,children:b.status})}],m=e.filter(b=>b.description?.toLowerCase().includes(o.toLowerCase())),p=()=>{alert("Add New Expense functionality will be implemented")},x=()=>{d(!c)};return r.jsxs("div",{className:"desktop-expenses-view",children:[r.jsxs("div",{className:"expenses-toolbar",children:[r.jsxs("div",{className:"search-box",children:[r.jsx(ds,{size:20}),r.jsx("input",{type:"text",placeholder:"Search expenses...",value:o,onChange:b=>i(b.target.value)})]}),r.jsxs("div",{className:"toolbar-actions",children:[r.jsxs("button",{className:"filter-btn",onClick:x,children:[r.jsx(io,{size:20}),r.jsx("span",{children:"Filter"})]}),r.jsxs("button",{className:"add-btn",onClick:p,children:[r.jsx(bt,{size:20}),r.jsx("span",{children:"Add New Expense"})]})]})]}),r.jsx("div",{className:"expenses-table-container",children:n?r.jsx("div",{className:"loading-state",children:"Loading expenses..."}):r.jsx(ji,{tableId:"expenses-table",columns:f,data:m,onView:b=>console.log("View",b),onEdit:b=>console.log("Edit",b),onDelete:b=>console.log("Delete",b)})}),r.jsx("style",{children:`
        .desktop-expenses-view {
          width: 100%;
          height: 100%;
        }

        .expenses-toolbar {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: var(--desktop-gap-lg);
          padding: var(--desktop-gap-lg);
          margin-bottom: 20px;
        }

        .search-box {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 10px var(--desktop-gap-lg);
          width: 330px;
          height: 38px;
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-10);
          border-radius: var(--desktop-radius-lg);
        }

        .search-box input {
          flex: 1;
          border: none;
          outline: none;
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          background: transparent;
        }

        .search-box input::placeholder {
          color: var(--desktop-dark-20);
        }

        .toolbar-actions {
          display: flex;
          gap: var(--desktop-gap-lg);
        }

        .filter-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          padding: var(--desktop-gap-lg);
          height: 38px;
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .filter-btn:hover {
          border-color: var(--desktop-gray-500);
        }

        .add-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          padding: var(--desktop-gap-lg);
          height: 38px;
          background: var(--desktop-primary-500);
          border: none;
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-white-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .add-btn:hover {
          background: var(--desktop-primary-400);
        }

        .expenses-table-container {
          background: var(--desktop-gray-5);
          border: none;
          border-radius: var(--desktop-radius-lg);
          padding: var(--desktop-gap-lg);
          margin: 0 20px 20px 20px;
        }

        .status-badge {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          padding: 3px 8px;
          border-radius: var(--desktop-radius-sm);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-light);
          line-height: 18px;
          text-transform: capitalize;
        }

        .status-badge.status-pending {
          background: #FFF3E0;
          color: #F57C00;
        }

        .status-badge.status-approved {
          background: #E8F5E9;
          color: #2E7D32;
        }

        .status-badge.status-rejected {
          background: #FFEBEE;
          color: #C62828;
        }

        .loading-state {
          padding: 40px;
          text-align: center;
          color: var(--desktop-gray-500);
          font-family: var(--desktop-font-family);
        }
      `})]})},_U=()=>{const[e,t]=v.useState(new Date),[n,s]=v.useState([]),[o,i]=v.useState(null);v.useEffect(()=>{c()},[e]);const c=async()=>{try{const k=(await de("/calendar/events")||[]).map(N=>({id:N.id,title:N.title||"Event",date:N.date||new Date().toISOString(),time:N.time,type:N.type||"other"}));s(Array.isArray(k)?k:[])}catch(w){console.error("Error fetching events:",w)}},d=["January","February","March","April","May","June","July","August","September","October","November","December"],h=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),f=new Date(e.getFullYear(),e.getMonth(),1).getDay(),m=()=>{t(new Date(e.getFullYear(),e.getMonth()-1))},p=()=>{t(new Date(e.getFullYear(),e.getMonth()+1))},x=w=>{const k=new Date(e.getFullYear(),e.getMonth(),w).toISOString().split("T")[0];return n.filter(N=>N.date.startsWith(k))},b=()=>{alert("Add Event functionality will be implemented")};return r.jsxs("div",{className:"desktop-calendar-view",children:[r.jsxs("div",{className:"calendar-toolbar",children:[r.jsxs("div",{className:"calendar-nav",children:[r.jsx("button",{className:"nav-btn",onClick:m,children:r.jsx(Jn,{size:20})}),r.jsxs("h2",{className:"current-month",children:[d[e.getMonth()]," ",e.getFullYear()]}),r.jsx("button",{className:"nav-btn",onClick:p,children:r.jsx(hi,{size:20})})]}),r.jsxs("button",{className:"add-btn",onClick:b,children:[r.jsx(bt,{size:20}),r.jsx("span",{children:"Add Event"})]})]}),r.jsxs("div",{className:"calendar-container",children:[r.jsxs("div",{className:"calendar-grid",children:[r.jsx("div",{className:"calendar-header",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(w=>r.jsx("div",{className:"calendar-day-name",children:w},w))}),r.jsxs("div",{className:"calendar-days",children:[Array.from({length:f}).map((w,k)=>r.jsx("div",{className:"calendar-day empty"},`empty-${k}`)),Array.from({length:h}).map((w,k)=>{const N=k+1,E=x(N),S=N===new Date().getDate()&&e.getMonth()===new Date().getMonth()&&e.getFullYear()===new Date().getFullYear();return r.jsxs("div",{className:`calendar-day ${S?"today":""} ${E.length>0?"has-events":""}`,onClick:()=>i(new Date(e.getFullYear(),e.getMonth(),N)),children:[r.jsx("span",{className:"day-number",children:N}),E.length>0&&r.jsx("div",{className:"event-indicators",children:E.slice(0,3).map(C=>r.jsx("div",{className:`event-dot event-${C.type}`},C.id))})]},N)})]})]}),r.jsxs("div",{className:"events-sidebar",children:[r.jsx("h3",{className:"sidebar-title",children:"Upcoming Events"}),r.jsx("div",{className:"events-list",children:n.slice(0,10).map(w=>r.jsxs("div",{className:"event-item",children:[r.jsx("div",{className:`event-type-badge type-${w.type}`,children:w.type}),r.jsxs("div",{className:"event-details",children:[r.jsx("h4",{className:"event-title",children:w.title}),r.jsxs("p",{className:"event-date",children:[new Date(w.date).toLocaleDateString(),w.time&&` at ${w.time}`]})]})]},w.id))})]})]}),r.jsx("style",{children:`
        .desktop-calendar-view {
          width: 100%;
          height: 100%;
        }

        .calendar-toolbar {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--desktop-gap-lg);
          margin-bottom: 20px;
        }

        .calendar-nav {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-lg);
        }

        .nav-btn {
          width: 40px;
          height: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-md);
          cursor: pointer;
          transition: all 0.2s;
        }

        .nav-btn:hover {
          border-color: var(--desktop-primary-500);
          color: var(--desktop-primary-500);
        }

        .current-month {
          font-size: var(--desktop-header-6);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          margin: 0;
          min-width: 200px;
          text-align: center;
        }

        .add-btn {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: var(--desktop-gap-lg);
          height: 38px;
          background: var(--desktop-primary-500);
          border: none;
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-white-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .add-btn:hover {
          background: var(--desktop-primary-400);
        }

        .calendar-container {
          display: grid;
          grid-template-columns: 1fr 320px;
          gap: var(--desktop-gap-lg);
          padding: 0 20px 20px 20px;
        }

        .calendar-grid {
          background: var(--desktop-gray-5);
          border: none;
          border-radius: var(--desktop-radius-lg);
          padding: var(--desktop-gap-lg);
        }

        .calendar-header {
          display: grid;
          grid-template-columns: repeat(7, 1fr);
          gap: var(--desktop-gap-md);
          margin-bottom: 12px;
        }

        .calendar-day-name {
          text-align: center;
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-gray-500);
          padding: 12px;
        }

        .calendar-days {
          display: grid;
          grid-template-columns: repeat(7, 1fr);
          gap: var(--desktop-gap-md);
        }

        .calendar-day {
          aspect-ratio: 1;
          border: 1px solid var(--desktop-gray-10);
          border-radius: var(--desktop-radius-md);
          padding: 8px;
          cursor: pointer;
          transition: all 0.2s;
          position: relative;
          display: flex;
          flex-direction: column;
        }

        .calendar-day.empty {
          border: none;
          cursor: default;
        }

        .calendar-day:not(.empty):hover {
          border-color: var(--desktop-primary-500);
          background: var(--desktop-primary-5);
        }

        .calendar-day.today {
          background: var(--desktop-primary-10);
          border-color: var(--desktop-primary-500);
        }

        .day-number {
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
        }

        .event-indicators {
          display: flex;
          gap: 4px;
          margin-top: 4px;
          flex-wrap: wrap;
        }

        .event-dot {
          width: 6px;
          height: 6px;
          border-radius: 50%;
        }

        .event-dot.event-meeting {
          background: var(--desktop-primary-500);
        }

        .event-dot.event-maintenance {
          background: #FF9F43;
        }

        .event-dot.event-inspection {
          background: #28C76F;
        }

        .event-dot.event-other {
          background: var(--desktop-gray-500);
        }

        .events-sidebar {
          background: var(--desktop-gray-5);
          border: none;
          border-radius: var(--desktop-radius-lg);
          padding: var(--desktop-gap-lg);
        }

        .sidebar-title {
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          margin: 0 0 16px 0;
        }

        .events-list {
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-lg);
        }

        .event-item {
          padding: 12px;
          background: var(--desktop-gray-5);
          border-radius: var(--desktop-radius-md);
          cursor: pointer;
          transition: all 0.2s;
        }

        .event-item:hover {
          background: var(--desktop-primary-5);
        }

        .event-type-badge {
          display: inline-block;
          padding: 2px 8px;
          border-radius: var(--desktop-radius-sm);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-light);
          text-transform: capitalize;
          margin-bottom: 6px;
        }

        .event-type-badge.type-meeting {
          background: var(--desktop-primary-10);
          color: var(--desktop-primary-500);
        }

        .event-type-badge.type-maintenance {
          background: #FFF3E0;
          color: #F57C00;
        }

        .event-type-badge.type-inspection {
          background: #E8F5E9;
          color: #2E7D32;
        }

        .event-type-badge.type-other {
          background: var(--desktop-gray-20);
          color: var(--desktop-gray-500);
        }

        .event-title {
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          margin: 0 0 4px 0;
        }

        .event-date {
          font-size: var(--desktop-caption);
          color: var(--desktop-gray-500);
          margin: 0;
        }
      `})]})},CU=()=>{const[e,t]=v.useState([]),[n,s]=v.useState(null),[o,i]=v.useState([]),[c,d]=v.useState(""),[h,f]=v.useState("");v.useEffect(()=>{m()},[]),v.useEffect(()=>{n&&p(n.id)},[n]);const m=async()=>{try{const N=(await de("/messages/threads")||[]).map(E=>({id:E.id,name:E.name||"Unknown",lastMessage:E.lastMessage||"",lastMessageTime:E.lastMessageTime||new Date().toISOString(),unreadCount:E.unreadCount||0}));t(Array.isArray(N)?N:[]),N.length>0&&!n&&s(N[0])}catch(k){console.error("Error fetching threads:",k)}},p=async k=>{try{const E=(await de(`/messages/threads/${k}`)||[]).map(S=>({id:S.id,sender:S.sender||"Unknown",content:S.content||"",timestamp:S.timestamp||new Date().toISOString(),isOwn:S.isOwn||!1}));i(E)}catch(N){console.error("Error fetching messages:",N)}},x=()=>{!c.trim()||!n||d("")},b=e.filter(k=>k.name.toLowerCase().includes(h.toLowerCase())),w=()=>{alert("Chat options functionality will be implemented")};return r.jsxs("div",{className:"desktop-messaging-view",children:[r.jsxs("div",{className:"messaging-container",children:[r.jsxs("div",{className:"threads-sidebar",children:[r.jsxs("div",{className:"threads-header",children:[r.jsx("h3",{className:"threads-title",children:"Messages"}),r.jsxs("div",{className:"threads-search",children:[r.jsx(ds,{size:16}),r.jsx("input",{type:"text",placeholder:"Search...",value:h,onChange:k=>f(k.target.value)})]})]}),r.jsx("div",{className:"threads-list",children:b.map(k=>r.jsxs("div",{className:`thread-item ${n?.id===k.id?"active":""}`,onClick:()=>s(k),children:[r.jsx("div",{className:"thread-avatar",children:k.name[0].toUpperCase()}),r.jsxs("div",{className:"thread-info",children:[r.jsxs("div",{className:"thread-header-row",children:[r.jsx("span",{className:"thread-name",children:k.name}),r.jsx("span",{className:"thread-time",children:new Date(k.lastMessageTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),r.jsxs("div",{className:"thread-message-row",children:[r.jsx("span",{className:"thread-last-message",children:k.lastMessage}),k.unreadCount>0&&r.jsx("span",{className:"thread-unread-badge",children:k.unreadCount})]})]})]},k.id))})]}),r.jsx("div",{className:"chat-area",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"chat-header",children:[r.jsxs("div",{className:"chat-header-info",children:[r.jsx("div",{className:"chat-avatar",children:n.name[0].toUpperCase()}),r.jsxs("div",{className:"chat-title-section",children:[r.jsx("h3",{className:"chat-title",children:n.name}),r.jsx("p",{className:"chat-subtitle",children:"Online"})]})]}),r.jsx("button",{className:"chat-options-btn",onClick:w,children:r.jsx(sR,{size:20})})]}),r.jsx("div",{className:"chat-messages",children:o.map(k=>r.jsxs("div",{className:`message ${k.isOwn?"own":"other"}`,children:[!k.isOwn&&r.jsx("div",{className:"message-avatar",children:k.sender[0].toUpperCase()}),r.jsxs("div",{className:"message-content",children:[r.jsx("div",{className:"message-bubble",children:k.content}),r.jsx("span",{className:"message-time",children:new Date(k.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},k.id))}),r.jsxs("div",{className:"chat-input-area",children:[r.jsx("input",{type:"text",placeholder:"Type a message...",value:c,onChange:k=>d(k.target.value),onKeyPress:k=>k.key==="Enter"&&x()}),r.jsx("button",{className:"send-btn",onClick:x,children:r.jsx(Vm,{size:20})})]})]}):r.jsx("div",{className:"no-thread-selected",children:r.jsx("p",{children:"Select a conversation to start messaging"})})})]}),r.jsx("style",{children:`
        .desktop-messaging-view {
          width: 100%;
          height: 100%;
          padding: var(--desktop-gap-lg);
        }

        .messaging-container {
          display: grid;
          grid-template-columns: 360px 1fr;
          gap: var(--desktop-gap-lg);
          height: calc(100vh - 180px);
          background: var(--desktop-gray-5);
          border: none;
          border-radius: var(--desktop-radius-lg);
          overflow: hidden;
        }

        .threads-sidebar {
          border-right: 1px solid var(--desktop-gray-10);
          display: flex;
          flex-direction: column;
        }

        .threads-header {
          padding: var(--desktop-gap-lg);
          border-bottom: 1px solid var(--desktop-gray-10);
        }

        .threads-title {
          font-size: var(--desktop-header-6);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          margin: 0 0 16px 0;
        }

        .threads-search {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-md);
          padding: 10px 12px;
          background: var(--desktop-gray-5);
          border-radius: var(--desktop-radius-md);
        }

        .threads-search input {
          flex: 1;
          border: none;
          outline: none;
          background: transparent;
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          color: var(--desktop-dark-500);
        }

        .threads-list {
          flex: 1;
          overflow-y: auto;
        }

        .thread-item {
          display: flex;
          gap: var(--desktop-gap-lg);
          padding: var(--desktop-gap-lg) var(--desktop-gap-xl);
          cursor: pointer;
          transition: all 0.2s;
          border-left: 3px solid transparent;
        }

        .thread-item:hover {
          background: var(--desktop-gray-5);
        }

        .thread-item.active {
          background: var(--desktop-primary-5);
          border-left-color: var(--desktop-primary-500);
        }

        .thread-avatar {
          width: 48px;
          height: 48px;
          border-radius: 50%;
          background: var(--desktop-primary-500);
          color: var(--desktop-white-500);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: var(--desktop-weight-semibold);
          flex-shrink: 0;
        }

        .thread-info {
          flex: 1;
          min-width: 0;
        }

        .thread-header-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 4px;
        }

        .thread-name {
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
        }

        .thread-time {
          font-size: var(--desktop-caption);
          color: var(--desktop-gray-500);
        }

        .thread-message-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .thread-last-message {
          font-size: var(--desktop-body-2);
          color: var(--desktop-gray-500);
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }

        .thread-unread-badge {
          min-width: 20px;
          height: 20px;
          padding: 0 6px;
          background: var(--desktop-primary-500);
          color: var(--desktop-white-500);
          border-radius: 10px;
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-semibold);
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }

        .chat-area {
          display: flex;
          flex-direction: column;
        }

        .chat-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--desktop-gap-lg);
          border-bottom: 1px solid var(--desktop-gray-10);
        }

        .chat-header-info {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-lg);
        }

        .chat-avatar {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: var(--desktop-primary-500);
          color: var(--desktop-white-500);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: var(--desktop-weight-semibold);
        }

        .chat-title {
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          margin: 0;
        }

        .chat-subtitle {
          font-size: var(--desktop-caption);
          color: #28C76F;
          margin: 0;
        }

        .chat-options-btn {
          width: 40px;
          height: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: transparent;
          border: none;
          border-radius: var(--desktop-radius-md);
          cursor: pointer;
          transition: all 0.2s;
        }

        .chat-options-btn:hover {
          background: var(--desktop-gray-10);
        }

        .chat-messages {
          flex: 1;
          overflow-y: auto;
          padding: var(--desktop-gap-lg);
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-lg);
        }

        .message {
          display: flex;
          gap: var(--desktop-gap-lg);
          align-items: flex-end;
        }

        .message.own {
          flex-direction: row-reverse;
        }

        .message-avatar {
          width: 32px;
          height: 32px;
          border-radius: 50%;
          background: var(--desktop-primary-500);
          color: var(--desktop-white-500);
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 12px;
          font-weight: var(--desktop-weight-semibold);
          flex-shrink: 0;
        }

        .message-content {
          display: flex;
          flex-direction: column;
          gap: 4px;
          max-width: 60%;
        }

        .message.own .message-content {
          align-items: flex-end;
        }

        .message-bubble {
          padding: 12px 16px;
          border-radius: var(--desktop-radius-lg);
          font-size: var(--desktop-body-2);
          line-height: 1.5;
        }

        .message.other .message-bubble {
          background: var(--desktop-gray-10);
          color: var(--desktop-dark-500);
        }

        .message.own .message-bubble {
          background: var(--desktop-primary-500);
          color: var(--desktop-white-500);
        }

        .message-time {
          font-size: var(--desktop-caption);
          color: var(--desktop-gray-500);
          padding: 0 4px;
        }

        .chat-input-area {
          display: flex;
          gap: var(--desktop-gap-lg);
          padding: var(--desktop-gap-lg);
          border-top: 1px solid var(--desktop-gray-10);
        }

        .chat-input-area input {
          flex: 1;
          padding: 10px var(--desktop-gap-lg);
          height: 38px;
          background: var(--desktop-gray-5);
          border: 1px solid var(--desktop-gray-10);
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          color: var(--desktop-dark-500);
          outline: none;
          transition: all 0.2s;
        }

        .chat-input-area input:focus {
          border-color: var(--desktop-primary-500);
          background: var(--desktop-white-500);
        }

        .send-btn {
          width: 50px;
          height: 38px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: var(--desktop-primary-500);
          border: none;
          border-radius: var(--desktop-radius-lg);
          color: var(--desktop-white-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .send-btn:hover {
          background: var(--desktop-primary-400);
        }

        .no-thread-selected {
          display: flex;
          align-items: center;
          justify-content: center;
          height: 100%;
          color: var(--desktop-gray-500);
          font-family: var(--desktop-font-family);
        }
      `})]})},TU=()=>{const[e,t]=v.useState([]),[n,s]=v.useState(!0),[o,i]=v.useState("");v.useEffect(()=>{c()},[]);const c=async()=>{try{const p=await de("/villas");t(Array.isArray(p)?p:[])}catch(p){console.error("Error fetching villas:",p)}finally{s(!1)}},d=[{key:"name",label:"Villa Name",width:200,sortable:!0},{key:"location",label:"Location",width:200,sortable:!0,render:p=>r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx(qa,{size:14,style:{color:"var(--desktop-gray-500)"}}),r.jsx("span",{children:p.location})]})},{key:"bedrooms",label:"Bedrooms",width:110,sortable:!0,render:p=>`${p.bedrooms} BR`},{key:"status",label:"Status",width:120,sortable:!0,render:p=>r.jsx("span",{className:`status-badge status-${p.status}`,children:p.status})},{key:"monthlyRent",label:"Monthly Rent",width:140,sortable:!0,render:p=>`$${p.monthlyRent.toLocaleString()}`},{key:"tenantName",label:"Current Tenant",width:160,sortable:!0,render:p=>p.tenantName||""}],h=e.filter(p=>p.name?.toLowerCase().includes(o.toLowerCase())||p.location?.toLowerCase().includes(o.toLowerCase())),f=()=>{alert("Add New Villa functionality will be implemented")},m=()=>{alert("Filter functionality will be implemented")};return r.jsxs("div",{className:"desktop-villas-view",children:[r.jsxs("div",{className:"villas-content",children:[r.jsxs("div",{className:"villas-toolbar",children:[r.jsxs("div",{className:"search-box",children:[r.jsx(ds,{size:20}),r.jsx("input",{type:"text",placeholder:"Search villas by name or location...",value:o,onChange:p=>i(p.target.value)})]}),r.jsxs("div",{className:"toolbar-actions",children:[r.jsxs("button",{className:"filter-btn",onClick:m,children:[r.jsx(io,{size:20}),r.jsx("span",{children:"Filter"})]}),r.jsxs("button",{className:"add-btn",onClick:f,children:[r.jsx(bt,{size:20}),r.jsx("span",{children:"Add New Villa"})]})]})]}),r.jsx("div",{className:"villas-table-container",children:n?r.jsx("div",{className:"loading-state",children:"Loading villas..."}):r.jsx(ji,{tableId:"villas-table",columns:d,data:h,onView:p=>console.log("View",p),onEdit:p=>console.log("Edit",p),onDelete:p=>console.log("Delete",p)})})]}),r.jsx("style",{children:`
        .desktop-villas-view {
          width: 100%;
          height: 100%;
        }

        .villas-content {
          padding: 0 20px 20px 20px;
        }

        .villas-toolbar {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: var(--desktop-gap-lg);
          margin-bottom: var(--desktop-gap-2xl);
        }

        .search-box {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 10px var(--desktop-gap-lg);
          width: 400px;
          height: 38px;
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-10);
          border-radius: var(--desktop-radius-lg);
        }

        .search-box input {
          flex: 1;
          border: none;
          outline: none;
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          background: transparent;
        }

        .search-box input::placeholder {
          color: var(--desktop-dark-20);
        }

        .toolbar-actions {
          display: flex;
          gap: var(--desktop-gap-lg);
        }

        .filter-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          padding: var(--desktop-gap-lg);
          height: 38px;
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .filter-btn:hover {
          border-color: var(--desktop-gray-500);
        }

        .add-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          padding: var(--desktop-gap-lg);
          height: 38px;
          background: var(--desktop-primary-500);
          border: none;
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-white-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .add-btn:hover {
          background: var(--desktop-primary-400);
        }

        .villas-table-container {
          background: var(--desktop-gray-5);
          border-radius: var(--desktop-radius-lg);
          overflow: hidden;
        }

        .loading-state {
          padding: 60px;
          text-align: center;
          color: var(--desktop-gray-500);
        }

        .status-badge {
          display: inline-block;
          padding: 6px 12px;
          border-radius: var(--desktop-radius-md);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-semibold);
          text-transform: capitalize;
        }

        .status-available {
          background: #E8F5E9;
          color: #2E7D32;
        }

        .status-occupied {
          background: var(--desktop-primary-5);
          color: var(--desktop-primary-500);
        }

        .status-maintenance {
          background: #FFF3E0;
          color: #F57C00;
        }
      `})]})},DU=()=>{const[e,t]=v.useState([]),[n,s]=v.useState(!0),[o,i]=v.useState(new Date().toISOString().split("T")[0]);v.useEffect(()=>{c()},[o]);const c=async()=>{try{const m=await de(`/attendance?date=${o}`);t(Array.isArray(m)?m:[])}catch(m){console.error("Error fetching attendance:",m)}finally{s(!1)}},d=()=>{alert("Filter functionality will be implemented")},h=()=>{alert("Export Report functionality will be implemented")},f=[{key:"staffName",label:"Staff Name",width:200,sortable:!0},{key:"clockIn",label:"Clock In",width:120,sortable:!0,render:m=>m.clockIn||""},{key:"clockOut",label:"Clock Out",width:120,sortable:!0,render:m=>m.clockOut||""},{key:"totalHours",label:"Total Hours",width:130,sortable:!0,render:m=>m.totalHours?`${m.totalHours.toFixed(1)}h`:""},{key:"status",label:"Status",width:110,sortable:!0,render:m=>r.jsx("span",{className:`status-badge status-${m.status}`,children:m.status})},{key:"location",label:"Location",width:160,sortable:!0,render:m=>m.location||""}];return r.jsxs("div",{className:"desktop-attendance-view",children:[r.jsxs("div",{className:"attendance-content",children:[r.jsxs("div",{className:"attendance-toolbar",children:[r.jsxs("div",{className:"date-picker",children:[r.jsx(tt,{size:20}),r.jsx("input",{type:"date",value:o,onChange:m=>i(m.target.value)})]}),r.jsxs("div",{className:"toolbar-actions",children:[r.jsxs("button",{className:"filter-btn",onClick:d,children:[r.jsx(io,{size:20}),r.jsx("span",{children:"Filter"})]}),r.jsxs("button",{className:"export-btn",onClick:h,children:[r.jsx(nR,{size:20}),r.jsx("span",{children:"Export Report"})]})]})]}),r.jsx("div",{className:"attendance-table-container",children:n?r.jsx("div",{className:"loading-state",children:"Loading attendance..."}):r.jsx(ji,{tableId:"attendance-table",columns:f,data:e,onView:m=>console.log("View",m),onEdit:m=>console.log("Edit",m)})})]}),r.jsx("style",{children:`
        .desktop-attendance-view {
          width: 100%;
          height: 100%;
        }

        .attendance-content {
          padding: 0 20px 20px 20px;
        }

        .attendance-toolbar {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: var(--desktop-gap-lg);
          margin-bottom: var(--desktop-gap-2xl);
        }

        .date-picker {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 10px var(--desktop-gap-lg);
          height: 38px;
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-10);
          border-radius: var(--desktop-radius-lg);
        }

        .date-picker input {
          border: none;
          outline: none;
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          background: transparent;
          cursor: pointer;
        }

        .toolbar-actions {
          display: flex;
          gap: var(--desktop-gap-lg);
        }

        .filter-btn,
        .export-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          padding: var(--desktop-gap-lg);
          height: 38px;
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .filter-btn:hover,
        .export-btn:hover {
          border-color: var(--desktop-gray-500);
        }

        .attendance-table-container {
          background: var(--desktop-gray-5);
          border-radius: var(--desktop-radius-lg);
          overflow: hidden;
        }

        .loading-state {
          padding: 60px;
          text-align: center;
          color: var(--desktop-gray-500);
        }

        .status-badge {
          display: inline-block;
          padding: 6px 12px;
          border-radius: var(--desktop-radius-md);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-semibold);
          text-transform: capitalize;
        }

        .status-present {
          background: #E8F5E9;
          color: #2E7D32;
        }

        .status-late {
          background: #FFF3E0;
          color: #F57C00;
        }

        .status-absent {
          background: #FFEBEE;
          color: #C62828;
        }

        .status-leave {
          background: var(--desktop-primary-5);
          color: var(--desktop-primary-500);
        }
      `})]})},PU=()=>{const[e,t]=v.useState([]),[n,s]=v.useState(!0),[o,i]=v.useState("");v.useEffect(()=>{c()},[]);const c=async()=>{try{const x=await de("/tenants");t(Array.isArray(x)?x:[])}catch(x){console.error("Error fetching tenants:",x)}finally{s(!1)}},d=[{key:"name",label:"Tenant Name",width:180,sortable:!0},{key:"email",label:"Contact",width:220,render:x=>r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx(yu,{size:12,style:{color:"var(--desktop-gray-500)"}}),r.jsx("span",{style:{fontSize:"13px"},children:x.email})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx(Bm,{size:12,style:{color:"var(--desktop-gray-500)"}}),r.jsx("span",{style:{fontSize:"13px"},children:x.phone})]})]})},{key:"villaName",label:"Villa",width:160,sortable:!0},{key:"leaseStart",label:"Lease Period",width:200,sortable:!0,render:x=>r.jsxs("div",{children:[new Date(x.leaseStart).toLocaleDateString()," -"," ",new Date(x.leaseEnd).toLocaleDateString()]})},{key:"monthlyRent",label:"Monthly Rent",width:140,sortable:!0,render:x=>`$${x.monthlyRent.toLocaleString()}`},{key:"status",label:"Status",width:110,sortable:!0,render:x=>r.jsx("span",{className:`status-badge status-${x.status}`,children:x.status})}],h=e.filter(x=>x.name?.toLowerCase().includes(o.toLowerCase())||x.email?.toLowerCase().includes(o.toLowerCase())||x.villaName?.toLowerCase().includes(o.toLowerCase())),f=x=>r.jsx("div",{className:"tenant-avatar",children:x.name?.[0]?.toUpperCase()||"T"}),m=()=>{alert("Add New Tenant functionality will be implemented")},p=()=>{alert("Filter functionality will be implemented")};return r.jsxs("div",{className:"desktop-tenants-view",children:[r.jsxs("div",{className:"tenants-content",children:[r.jsxs("div",{className:"tenants-toolbar",children:[r.jsxs("div",{className:"search-box",children:[r.jsx(ds,{size:20}),r.jsx("input",{type:"text",placeholder:"Search tenants...",value:o,onChange:x=>i(x.target.value)})]}),r.jsxs("div",{className:"toolbar-actions",children:[r.jsxs("button",{className:"filter-btn",onClick:p,children:[r.jsx(io,{size:20}),r.jsx("span",{children:"Filter"})]}),r.jsxs("button",{className:"add-btn",onClick:m,children:[r.jsx(bt,{size:20}),r.jsx("span",{children:"Add New Tenant"})]})]})]}),r.jsx("div",{className:"tenants-table-container",children:n?r.jsx("div",{className:"loading-state",children:"Loading tenants..."}):r.jsx(ji,{tableId:"tenants-table",columns:d,data:h,renderAvatar:f,onView:x=>console.log("View",x),onEdit:x=>console.log("Edit",x),onDelete:x=>console.log("Delete",x)})})]}),r.jsx("style",{children:`
        .desktop-tenants-view {
          width: 100%;
          height: 100%;
        }

        .tenants-content {
          padding: 0 20px 20px 20px;
        }

        .tenants-toolbar {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: var(--desktop-gap-lg);
          margin-bottom: var(--desktop-gap-2xl);
        }

        .search-box {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 10px var(--desktop-gap-lg);
          width: 330px;
          height: 38px;
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-10);
          border-radius: var(--desktop-radius-lg);
        }

        .search-box input {
          flex: 1;
          border: none;
          outline: none;
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          background: transparent;
        }

        .search-box input::placeholder {
          color: var(--desktop-dark-20);
        }

        .toolbar-actions {
          display: flex;
          gap: var(--desktop-gap-lg);
        }

        .filter-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          padding: var(--desktop-gap-lg);
          height: 38px;
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .filter-btn:hover {
          border-color: var(--desktop-gray-500);
        }

        .add-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          padding: var(--desktop-gap-lg);
          height: 38px;
          background: var(--desktop-primary-500);
          border: none;
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-white-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .add-btn:hover {
          background: var(--desktop-primary-400);
        }

        .tenants-table-container {
          background: var(--desktop-gray-5);
          border-radius: var(--desktop-radius-lg);
          overflow: hidden;
        }

        .loading-state {
          padding: 60px;
          text-align: center;
          color: var(--desktop-gray-500);
        }

        .tenant-avatar {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: var(--desktop-primary-500);
          color: var(--desktop-white-500);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: var(--desktop-weight-semibold);
        }

        .status-badge {
          display: inline-block;
          padding: 6px 12px;
          border-radius: var(--desktop-radius-md);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-semibold);
          text-transform: capitalize;
        }

        .status-active {
          background: #E8F5E9;
          color: #2E7D32;
        }

        .status-expiring {
          background: #FFF3E0;
          color: #F57C00;
        }

        .status-expired {
          background: #FFEBEE;
          color: #C62828;
        }
      `})]})},RU=()=>{const[e,t]=v.useState([]),[n,s]=v.useState(!0),[o,i]=v.useState("all");v.useEffect(()=>{c()},[]);const c=async()=>{try{const p=await de("/leaves");t(Array.isArray(p)?p:[])}catch(p){console.error("Error fetching leaves:",p)}finally{s(!1)}},d=[{key:"staffName",label:"Employee",width:180,sortable:!0},{key:"leaveType",label:"Leave Type",width:140,sortable:!0,render:p=>r.jsx("span",{className:`leave-type-badge ${p.leaveType.toLowerCase()}`,children:p.leaveType})},{key:"startDate",label:"Duration",width:220,sortable:!0,render:p=>r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx(tt,{size:12,style:{color:"var(--desktop-gray-500)"}}),r.jsxs("span",{style:{fontSize:"13px"},children:[new Date(p.startDate).toLocaleDateString()," -"," ",new Date(p.endDate).toLocaleDateString()]})]}),r.jsxs("span",{style:{fontSize:"12px",color:"var(--desktop-gray-500)"},children:[p.days," ",p.days===1?"day":"days"]})]})},{key:"reason",label:"Reason",width:200,render:p=>r.jsx("div",{style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:p.reason})},{key:"submittedDate",label:"Submitted",width:130,sortable:!0,render:p=>new Date(p.submittedDate).toLocaleDateString()},{key:"status",label:"Status",width:110,sortable:!0,render:p=>r.jsx("span",{className:`status-badge status-${p.status}`,children:p.status})}],h=o==="all"?e:e.filter(p=>p.status===o),f=p=>r.jsx("div",{className:"leave-avatar",children:p.staffName?.[0]?.toUpperCase()||"L"}),m=()=>{alert("More Filters functionality will be implemented")};return r.jsxs("div",{className:"desktop-leaves-view",children:[r.jsxs("div",{className:"leaves-content",children:[r.jsxs("div",{className:"leaves-toolbar",children:[r.jsxs("div",{className:"filter-tabs",children:[r.jsx("button",{className:`filter-tab ${o==="all"?"active":""}`,onClick:()=>i("all"),children:"All Requests"}),r.jsx("button",{className:`filter-tab ${o==="pending"?"active":""}`,onClick:()=>i("pending"),children:"Pending"}),r.jsx("button",{className:`filter-tab ${o==="approved"?"active":""}`,onClick:()=>i("approved"),children:"Approved"}),r.jsx("button",{className:`filter-tab ${o==="rejected"?"active":""}`,onClick:()=>i("rejected"),children:"Rejected"})]}),r.jsx("div",{className:"toolbar-actions",children:r.jsxs("button",{className:"filter-btn",onClick:m,children:[r.jsx(io,{size:20}),r.jsx("span",{children:"More Filters"})]})})]}),r.jsx("div",{className:"leaves-table-container",children:n?r.jsx("div",{className:"loading-state",children:"Loading leave requests..."}):r.jsx(ji,{tableId:"leaves-table",columns:d,data:h,renderAvatar:f,onView:p=>console.log("View",p),onEdit:p=>console.log("Edit",p),onDelete:p=>console.log("Delete",p)})})]}),r.jsx("style",{children:`
        .desktop-leaves-view {
          width: 100%;
          height: 100%;
        }

        .leaves-content {
          padding: 0 20px 20px 20px;
        }

        .leaves-toolbar {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: var(--desktop-gap-lg);
          margin-bottom: var(--desktop-gap-2xl);
        }

        .filter-tabs {
          display: flex;
          gap: var(--desktop-gap-md);
          padding: var(--desktop-gap-xs);
          background: var(--desktop-gray-5);
          border-radius: var(--desktop-radius-lg);
        }

        .filter-tab {
          padding: 12px 20px;
          background: transparent;
          border: none;
          border-radius: var(--desktop-radius-md);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .filter-tab:hover {
          color: var(--desktop-dark-500);
        }

        .filter-tab.active {
          background: var(--desktop-white-500);
          color: var(--desktop-dark-500);
          font-weight: var(--desktop-weight-semibold);
          box-shadow: var(--desktop-shadow-sm);
        }

        .toolbar-actions {
          display: flex;
          gap: var(--desktop-gap-lg);
        }

        .filter-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          padding: var(--desktop-gap-lg);
          height: 38px;
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .filter-btn:hover {
          border-color: var(--desktop-gray-500);
        }

        .leaves-table-container {
          background: var(--desktop-gray-5);
          border-radius: var(--desktop-radius-lg);
          overflow: hidden;
        }

        .loading-state {
          padding: 60px;
          text-align: center;
          color: var(--desktop-gray-500);
        }

        .leave-avatar {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: var(--desktop-primary-500);
          color: var(--desktop-white-500);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: var(--desktop-weight-semibold);
        }

        .leave-type-badge {
          display: inline-block;
          padding: 6px 12px;
          border-radius: var(--desktop-radius-md);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-semibold);
          text-transform: capitalize;
        }

        .leave-type-badge.sick {
          background: #FFEBEE;
          color: #C62828;
        }

        .leave-type-badge.vacation {
          background: #E3F2FD;
          color: #1565C0;
        }

        .leave-type-badge.personal {
          background: #F3E5F5;
          color: #6A1B9A;
        }

        .status-badge {
          display: inline-block;
          padding: 6px 12px;
          border-radius: var(--desktop-radius-md);
          font-size: var(--desktop-caption);
          font-weight: var(--desktop-weight-semibold);
          text-transform: capitalize;
        }

        .status-pending {
          background: #FFF3E0;
          color: #F57C00;
        }

        .status-approved {
          background: #E8F5E9;
          color: #2E7D32;
        }

        .status-rejected {
          background: #FFEBEE;
          color: #C62828;
        }
      `})]})},Wb={general:{companyName:"VillaSaya Properties",timezone:"UTC+8",language:"English",dateFormat:"DD/MM/YYYY",currency:"USD"},security:{twoFactorAuth:!1,sessionTimeout:"30",passwordExpiry:"90",loginAttempts:"5",ipWhitelist:!1},notifications:{emailNotifications:!0,taskReminders:!0,expenseAlerts:!0,leaveRequests:!0,maintenanceAlerts:!0,tenantMessages:!0},billing:{autoRenewal:!0,invoiceEmail:"",paymentMethod:"Credit Card",billingCycle:"monthly"},integrations:{googleCalendar:!1,microsoftCalendar:!1,slackNotifications:!1,stripePayments:!1},dataRetention:{taskHistory:"12",expenseRecords:"60",messageArchive:"24",auditLogs:"36"}};function NS(e,t){const n={...e};return Object.keys(t).forEach(s=>{const o=t[s],i=e[s];o!=null&&(o&&typeof o=="object"&&!Array.isArray(o)&&i&&typeof i=="object"&&!Array.isArray(i)?n[s]=NS(i,o):n[s]=o)}),n}function AU(){const[e,t]=v.useState(Wb),[n,s]=v.useState(!0),[o,i]=v.useState(!1),c=v.useCallback(async()=>{try{s(!0);const m=await de("/user/settings",{method:"GET"});m.settings&&t(m.settings)}catch(m){console.error("Error fetching settings:",m),K.error("Failed to load settings")}finally{s(!1)}},[]),d=v.useCallback(async m=>{try{i(!0);const p=await de("/user/settings",{method:"PUT",body:JSON.stringify(m)});return p.success&&p.settings?(t(p.settings),K.success("Settings saved successfully"),!0):!1}catch(p){return console.error("Error saving settings:",p),K.error("Failed to save settings"),!1}finally{i(!1)}},[]),h=v.useCallback(async()=>{try{i(!0);const m=await de("/user/settings",{method:"PUT",body:JSON.stringify(Wb)});return m.success&&m.settings?(t(m.settings),K.success("Settings reset to defaults"),!0):!1}catch(m){return console.error("Error resetting settings:",m),K.error("Failed to reset settings"),!1}finally{i(!1)}},[]),f=v.useCallback(m=>{t(p=>NS(p,m))},[]);return v.useEffect(()=>{c()},[c]),{settings:e,loading:n,saving:o,updateSettings:f,saveSettings:d,resetSettings:h,refetch:c}}const $a=({section:e="general"})=>{const{settings:t,loading:n,saving:s,updateSettings:o,saveSettings:i,resetSettings:c}=AU(),d=async()=>{await i(t)||K.error("Failed to save settings")},h=async()=>{confirm("Are you sure you want to reset all settings to defaults?")&&(await c()||K.error("Failed to reset settings"))},f=()=>r.jsxs("div",{className:"settings-section",children:[r.jsx("h3",{className:"section-title",children:"General Settings"}),r.jsx("p",{className:"section-description",children:"Configure your organization's basic information and preferences"}),r.jsxs("div",{className:"settings-grid",children:[r.jsxs("div",{className:"setting-item",children:[r.jsx("label",{className:"setting-label",children:"Company Name"}),r.jsx("input",{type:"text",className:"setting-input",value:t.general.companyName,onChange:N=>o({...t,general:{...t.general,companyName:N.target.value}})})]}),r.jsxs("div",{className:"setting-item",children:[r.jsx("label",{className:"setting-label",children:"Timezone"}),r.jsxs("select",{className:"setting-input",value:t.general.timezone,onChange:N=>o({...t,general:{...t.general,timezone:N.target.value}}),children:[r.jsx("option",{value:"UTC+8",children:"UTC+8 (Singapore)"}),r.jsx("option",{value:"UTC+7",children:"UTC+7 (Bangkok)"}),r.jsx("option",{value:"UTC+0",children:"UTC+0 (London)"}),r.jsx("option",{value:"UTC-5",children:"UTC-5 (New York)"})]})]}),r.jsxs("div",{className:"setting-item",children:[r.jsx("label",{className:"setting-label",children:"Date Format"}),r.jsxs("select",{className:"setting-input",value:t.general.dateFormat,onChange:N=>o({...t,general:{...t.general,dateFormat:N.target.value}}),children:[r.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),r.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),r.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),r.jsxs("div",{className:"setting-item",children:[r.jsx("label",{className:"setting-label",children:"Currency"}),r.jsxs("select",{className:"setting-input",value:t.general.currency,onChange:N=>o({...t,general:{...t.general,currency:N.target.value}}),children:[r.jsx("option",{value:"USD",children:"USD - US Dollar"}),r.jsx("option",{value:"SGD",children:"SGD - Singapore Dollar"}),r.jsx("option",{value:"EUR",children:"EUR - Euro"}),r.jsx("option",{value:"GBP",children:"GBP - British Pound"})]})]}),r.jsxs("div",{className:"setting-item",children:[r.jsx("label",{className:"setting-label",children:"Language"}),r.jsxs("select",{className:"setting-input",value:t.general.language,onChange:N=>o({...t,general:{...t.general,language:N.target.value}}),children:[r.jsx("option",{value:"English",children:"English"}),r.jsx("option",{value:"Spanish",children:"Spanish"}),r.jsx("option",{value:"French",children:"French"}),r.jsx("option",{value:"Mandarin",children:"Mandarin"})]})]})]})]}),m=()=>r.jsxs("div",{className:"settings-section",children:[r.jsx("h3",{className:"section-title",children:"Security & Access Control"}),r.jsx("p",{className:"section-description",children:"Manage security settings and access policies"}),r.jsxs("div",{className:"settings-grid",children:[r.jsx("div",{className:"setting-item setting-item-full",children:r.jsxs("div",{className:"setting-toggle",children:[r.jsxs("div",{children:[r.jsx("label",{className:"setting-label",children:"Two-Factor Authentication"}),r.jsx("p",{className:"setting-hint",children:"Require 2FA for all admin users"})]}),r.jsxs("label",{className:"toggle-switch",children:[r.jsx("input",{type:"checkbox",checked:t.security.twoFactorAuth,onChange:N=>o({...t,security:{...t.security,twoFactorAuth:N.target.checked}})}),r.jsx("span",{className:"toggle-slider"})]})]})}),r.jsxs("div",{className:"setting-item",children:[r.jsx("label",{className:"setting-label",children:"Session Timeout (minutes)"}),r.jsx("input",{type:"number",className:"setting-input",value:t.security.sessionTimeout,onChange:N=>o({...t,security:{...t.security,sessionTimeout:N.target.value}})})]}),r.jsxs("div",{className:"setting-item",children:[r.jsx("label",{className:"setting-label",children:"Password Expiry (days)"}),r.jsx("input",{type:"number",className:"setting-input",value:t.security.passwordExpiry,onChange:N=>o({...t,security:{...t.security,passwordExpiry:N.target.value}})})]}),r.jsxs("div",{className:"setting-item",children:[r.jsx("label",{className:"setting-label",children:"Max Login Attempts"}),r.jsx("input",{type:"number",className:"setting-input",value:t.security.loginAttempts,onChange:N=>o({...t,security:{...t.security,loginAttempts:N.target.value}})})]}),r.jsx("div",{className:"setting-item setting-item-full",children:r.jsxs("div",{className:"setting-toggle",children:[r.jsxs("div",{children:[r.jsx("label",{className:"setting-label",children:"IP Whitelist"}),r.jsx("p",{className:"setting-hint",children:"Restrict access to specific IP addresses"})]}),r.jsxs("label",{className:"toggle-switch",children:[r.jsx("input",{type:"checkbox",checked:t.security.ipWhitelist,onChange:N=>o({...t,security:{...t.security,ipWhitelist:N.target.checked}})}),r.jsx("span",{className:"toggle-slider"})]})]})})]})]}),p=()=>r.jsxs("div",{className:"settings-section",children:[r.jsx("h3",{className:"section-title",children:"Notification Preferences"}),r.jsx("p",{className:"section-description",children:"Configure email and system notifications"}),r.jsx("div",{className:"settings-grid",children:Object.entries(t.notifications).map(([N,E])=>r.jsx("div",{className:"setting-item setting-item-full",children:r.jsxs("div",{className:"setting-toggle",children:[r.jsx("div",{children:r.jsx("label",{className:"setting-label",children:N.replace(/([A-Z])/g," $1").replace(/^./,S=>S.toUpperCase())})}),r.jsxs("label",{className:"toggle-switch",children:[r.jsx("input",{type:"checkbox",checked:E,onChange:S=>o({...t,notifications:{...t.notifications,[N]:S.target.checked}})}),r.jsx("span",{className:"toggle-slider"})]})]})},N))})]}),x=()=>r.jsxs("div",{className:"settings-section",children:[r.jsx("h3",{className:"section-title",children:"Billing & Subscription"}),r.jsx("p",{className:"section-description",children:"Manage billing information and subscription settings"}),r.jsxs("div",{className:"settings-grid",children:[r.jsx("div",{className:"setting-item setting-item-full",children:r.jsxs("div",{className:"setting-toggle",children:[r.jsxs("div",{children:[r.jsx("label",{className:"setting-label",children:"Auto-Renewal"}),r.jsx("p",{className:"setting-hint",children:"Automatically renew subscription"})]}),r.jsxs("label",{className:"toggle-switch",children:[r.jsx("input",{type:"checkbox",checked:t.billing.autoRenewal,onChange:N=>o({...t,billing:{...t.billing,autoRenewal:N.target.checked}})}),r.jsx("span",{className:"toggle-slider"})]})]})}),r.jsxs("div",{className:"setting-item",children:[r.jsx("label",{className:"setting-label",children:"Invoice Email"}),r.jsx("input",{type:"email",className:"setting-input",value:t.billing.invoiceEmail,onChange:N=>o({...t,billing:{...t.billing,invoiceEmail:N.target.value}})})]}),r.jsxs("div",{className:"setting-item",children:[r.jsx("label",{className:"setting-label",children:"Payment Method"}),r.jsxs("select",{className:"setting-input",value:t.billing.paymentMethod,onChange:N=>o({...t,billing:{...t.billing,paymentMethod:N.target.value}}),children:[r.jsx("option",{value:"Credit Card",children:"Credit Card"}),r.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),r.jsx("option",{value:"PayPal",children:"PayPal"})]})]}),r.jsxs("div",{className:"setting-item",children:[r.jsx("label",{className:"setting-label",children:"Billing Cycle"}),r.jsxs("select",{className:"setting-input",value:t.billing.billingCycle,onChange:N=>o({...t,billing:{...t.billing,billingCycle:N.target.value}}),children:[r.jsx("option",{value:"monthly",children:"Monthly"}),r.jsx("option",{value:"quarterly",children:"Quarterly"}),r.jsx("option",{value:"annually",children:"Annually"})]})]})]})]}),b=()=>r.jsxs("div",{className:"settings-section",children:[r.jsx("h3",{className:"section-title",children:"Integrations"}),r.jsx("p",{className:"section-description",children:"Connect third-party services and APIs"}),r.jsx("div",{className:"settings-grid",children:Object.entries(t.integrations).map(([N,E])=>r.jsx("div",{className:"setting-item setting-item-full",children:r.jsxs("div",{className:"setting-toggle",children:[r.jsx("div",{children:r.jsx("label",{className:"setting-label",children:N.replace(/([A-Z])/g," $1").replace(/^./,S=>S.toUpperCase())})}),r.jsxs("label",{className:"toggle-switch",children:[r.jsx("input",{type:"checkbox",checked:E,onChange:S=>o({...t,integrations:{...t.integrations,[N]:S.target.checked}})}),r.jsx("span",{className:"toggle-slider"})]})]})},N))})]}),w=()=>r.jsxs("div",{className:"settings-section",children:[r.jsx("h3",{className:"section-title",children:"Data Retention & Storage"}),r.jsx("p",{className:"section-description",children:"Configure data retention policies (in months)"}),r.jsx("div",{className:"settings-grid",children:Object.entries(t.dataRetention).map(([N,E])=>r.jsxs("div",{className:"setting-item",children:[r.jsx("label",{className:"setting-label",children:N.replace(/([A-Z])/g," $1").replace(/^./,S=>S.toUpperCase())}),r.jsx("input",{type:"number",className:"setting-input",value:E,onChange:S=>o({...t,dataRetention:{...t.dataRetention,[N]:S.target.value}})})]},N))}),r.jsxs("div",{className:"warning-box",children:[r.jsx(Fm,{size:20}),r.jsxs("div",{children:[r.jsx("p",{className:"warning-title",children:"Data Retention Policy"}),r.jsx("p",{className:"warning-text",children:"Data older than the specified retention period will be automatically archived. This action cannot be undone."})]})]})]}),k=()=>{switch(e){case"general":return f();case"security":return m();case"notifications":return p();case"billing":return x();case"integrations":return b();case"dataRetention":return w();default:return f()}};return n?r.jsx("div",{className:"desktop-settings-view",children:r.jsx("div",{className:"settings-content",children:r.jsx("div",{className:"loading-state",children:"Loading settings..."})})}):r.jsxs("div",{className:"desktop-settings-view",children:[r.jsxs("div",{className:"settings-content",children:[k(),r.jsxs("div",{className:"settings-actions",children:[r.jsx("button",{className:"btn-secondary",onClick:h,disabled:s,children:s?"Resetting...":"Reset to Defaults"}),r.jsx("button",{className:"btn-primary",onClick:d,disabled:s,children:s?"Saving...":"Save Changes"})]})]}),r.jsx("style",{children:`
        .desktop-settings-view {
          width: 100%;
          height: 100%;
          padding: 0 20px 20px 20px;
        }

        .settings-content {
          width: 100%;
          max-width: 1200px;
          margin: 0 auto;
          background: var(--desktop-gray-5);
          border-radius: var(--desktop-radius-lg);
          padding: var(--desktop-gap-2xl);
          overflow-y: auto;
          max-height: calc(100vh - 200px);
        }

        .settings-section {
          margin-bottom: var(--desktop-gap-2xl);
        }

        .section-title {
          font-size: var(--desktop-header-6);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          margin: 0 0 var(--desktop-gap-sm) 0;
        }

        .section-description {
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          margin: 0 0 var(--desktop-gap-2xl) 0;
        }

        .settings-grid {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: var(--desktop-gap-xl);
        }

        .setting-item {
          display: flex;
          flex-direction: column;
          gap: var(--desktop-gap-md);
        }

        .setting-item-full {
          grid-column: 1 / -1;
        }

        .setting-label {
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
        }

        .setting-hint {
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          margin-top: 4px;
        }

        .setting-input {
          height: 42px;
          padding: 0 var(--desktop-gap-lg);
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          outline: none;
          transition: border-color 0.2s;
        }

        .setting-input:focus {
          border-color: var(--desktop-primary-500);
        }

        .setting-toggle {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--desktop-gap-lg);
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-lg);
        }

        .toggle-switch {
          position: relative;
          width: 48px;
          height: 24px;
          cursor: pointer;
        }

        .toggle-switch input {
          opacity: 0;
          width: 0;
          height: 0;
        }

        .toggle-slider {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: var(--desktop-gray-20);
          border-radius: 24px;
          transition: background 0.3s;
        }

        .toggle-slider::before {
          content: '';
          position: absolute;
          height: 18px;
          width: 18px;
          left: 3px;
          bottom: 3px;
          background: var(--desktop-white-500);
          border-radius: 50%;
          transition: transform 0.3s;
        }

        .toggle-switch input:checked + .toggle-slider {
          background: var(--desktop-primary-500);
        }

        .toggle-switch input:checked + .toggle-slider::before {
          transform: translateX(24px);
        }

        .warning-box {
          display: flex;
          gap: var(--desktop-gap-lg);
          padding: var(--desktop-gap-lg);
          background: #FFF4E5;
          border: 1px solid #FFE4B5;
          border-radius: var(--desktop-radius-lg);
          margin-top: var(--desktop-gap-2xl);
          color: #B35C00;
        }

        .warning-title {
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-semibold);
          margin: 0 0 4px 0;
        }

        .warning-text {
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          margin: 0;
        }

        .settings-actions {
          display: flex;
          justify-content: flex-end;
          gap: var(--desktop-gap-lg);
          padding-top: var(--desktop-gap-2xl);
          margin-top: var(--desktop-gap-2xl);
          border-top: 1px solid var(--desktop-gray-20);
        }

        .loading-state {
          text-align: center;
          padding: var(--desktop-gap-3xl);
          font-size: var(--desktop-body-1);
          color: var(--desktop-gray-500);
        }

        .btn-secondary,
        .btn-primary {
          padding: 0 var(--desktop-gap-2xl);
          height: 42px;
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-semibold);
          cursor: pointer;
          transition: all 0.2s;
          border: none;
        }

        .btn-secondary {
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          color: var(--desktop-dark-500);
        }

        .btn-secondary:hover {
          border-color: var(--desktop-gray-500);
        }

        .btn-primary {
          background: var(--desktop-primary-500);
          color: var(--desktop-white-500);
        }

        .btn-primary:hover {
          background: var(--desktop-primary-400);
        }
      `})]})},IU=()=>{const[e,t]=v.useState({theme:"light",compactMode:!1,showNotifications:!0,soundEffects:!0,autoRefresh:!0,startPage:"dashboard",itemsPerPage:"25",language:"en"}),n=()=>{console.log("Saving preferences:",e),alert("Preferences saved successfully!")},s=()=>{confirm("Are you sure you want to reset all preferences to defaults?")&&(t({theme:"light",compactMode:!1,showNotifications:!0,soundEffects:!0,autoRefresh:!0,startPage:"dashboard",itemsPerPage:"25",language:"en"}),alert("Preferences reset to defaults"))};return r.jsxs("div",{className:"desktop-preferences-view",children:[r.jsxs("div",{className:"preferences-content",children:[r.jsxs("div",{className:"preferences-section",children:[r.jsx("h3",{className:"section-title",children:"Appearance"}),r.jsx("p",{className:"section-description",children:"Customize how VillaSaya looks for you"}),r.jsxs("div",{className:"preference-item",children:[r.jsxs("label",{className:"preference-label",children:[r.jsx(MR,{size:20}),r.jsx("span",{children:"Theme"})]}),r.jsxs("div",{className:"theme-selector",children:[r.jsxs("button",{className:`theme-option ${e.theme==="light"?"active":""}`,onClick:()=>t({...e,theme:"light"}),children:[r.jsx(Vd,{size:20}),r.jsx("span",{children:"Light"})]}),r.jsxs("button",{className:`theme-option ${e.theme==="dark"?"active":""}`,onClick:()=>t({...e,theme:"dark"}),children:[r.jsx(Ud,{size:20}),r.jsx("span",{children:"Dark"})]}),r.jsxs("button",{className:`theme-option ${e.theme==="auto"?"active":""}`,onClick:()=>t({...e,theme:"auto"}),children:[r.jsx($m,{size:20}),r.jsx("span",{children:"Auto"})]})]})]}),r.jsx("div",{className:"preference-item",children:r.jsxs("div",{className:"preference-toggle",children:[r.jsxs("div",{className:"toggle-info",children:[r.jsxs("label",{className:"preference-label",children:[r.jsx(Xh,{size:20}),r.jsx("span",{children:"Compact Mode"})]}),r.jsx("p",{className:"preference-hint",children:"Reduce spacing and increase information density"})]}),r.jsxs("label",{className:"toggle-switch",children:[r.jsx("input",{type:"checkbox",checked:e.compactMode,onChange:o=>t({...e,compactMode:o.target.checked})}),r.jsx("span",{className:"toggle-slider"})]})]})})]}),r.jsxs("div",{className:"preferences-section",children:[r.jsx("h3",{className:"section-title",children:"Notifications & Alerts"}),r.jsx("p",{className:"section-description",children:"Control your notification preferences"}),r.jsx("div",{className:"preference-item",children:r.jsxs("div",{className:"preference-toggle",children:[r.jsxs("div",{className:"toggle-info",children:[r.jsxs("label",{className:"preference-label",children:[r.jsx(oo,{size:20}),r.jsx("span",{children:"Desktop Notifications"})]}),r.jsx("p",{className:"preference-hint",children:"Show browser notifications for important updates"})]}),r.jsxs("label",{className:"toggle-switch",children:[r.jsx("input",{type:"checkbox",checked:e.showNotifications,onChange:o=>t({...e,showNotifications:o.target.checked})}),r.jsx("span",{className:"toggle-slider"})]})]})}),r.jsx("div",{className:"preference-item",children:r.jsxs("div",{className:"preference-toggle",children:[r.jsxs("div",{className:"toggle-info",children:[r.jsxs("label",{className:"preference-label",children:[r.jsx(Hd,{size:20}),r.jsx("span",{children:"Sound Effects"})]}),r.jsx("p",{className:"preference-hint",children:"Play sounds for notifications and actions"})]}),r.jsxs("label",{className:"toggle-switch",children:[r.jsx("input",{type:"checkbox",checked:e.soundEffects,onChange:o=>t({...e,soundEffects:o.target.checked})}),r.jsx("span",{className:"toggle-slider"})]})]})})]}),r.jsxs("div",{className:"preferences-section",children:[r.jsx("h3",{className:"section-title",children:"General Preferences"}),r.jsx("p",{className:"section-description",children:"Personalize your workspace"}),r.jsxs("div",{className:"preference-item",children:[r.jsxs("label",{className:"preference-label",children:[r.jsx(Xh,{size:20}),r.jsx("span",{children:"Default Start Page"})]}),r.jsxs("select",{className:"preference-select",value:e.startPage,onChange:o=>t({...e,startPage:o.target.value}),children:[r.jsx("option",{value:"dashboard",children:"Dashboard"}),r.jsx("option",{value:"tasks",children:"Tasks"}),r.jsx("option",{value:"staff",children:"Staff"}),r.jsx("option",{value:"villas",children:"Villas"}),r.jsx("option",{value:"expenses",children:"Expenses"})]})]}),r.jsxs("div",{className:"preference-item",children:[r.jsxs("label",{className:"preference-label",children:[r.jsx(Xh,{size:20}),r.jsx("span",{children:"Items Per Page"})]}),r.jsxs("select",{className:"preference-select",value:e.itemsPerPage,onChange:o=>t({...e,itemsPerPage:o.target.value}),children:[r.jsx("option",{value:"10",children:"10 items"}),r.jsx("option",{value:"25",children:"25 items"}),r.jsx("option",{value:"50",children:"50 items"}),r.jsx("option",{value:"100",children:"100 items"})]})]}),r.jsxs("div",{className:"preference-item",children:[r.jsxs("label",{className:"preference-label",children:[r.jsx(Ww,{size:20}),r.jsx("span",{children:"Display Language"})]}),r.jsxs("select",{className:"preference-select",value:e.language,onChange:o=>t({...e,language:o.target.value}),children:[r.jsx("option",{value:"en",children:"English"}),r.jsx("option",{value:"es",children:"Espaol"}),r.jsx("option",{value:"fr",children:"Franais"}),r.jsx("option",{value:"zh",children:""})]})]}),r.jsx("div",{className:"preference-item",children:r.jsxs("div",{className:"preference-toggle",children:[r.jsxs("div",{className:"toggle-info",children:[r.jsxs("label",{className:"preference-label",children:[r.jsx(Hd,{size:20}),r.jsx("span",{children:"Auto-Refresh Data"})]}),r.jsx("p",{className:"preference-hint",children:"Automatically refresh data every 30 seconds"})]}),r.jsxs("label",{className:"toggle-switch",children:[r.jsx("input",{type:"checkbox",checked:e.autoRefresh,onChange:o=>t({...e,autoRefresh:o.target.checked})}),r.jsx("span",{className:"toggle-slider"})]})]})})]}),r.jsxs("div",{className:"preferences-actions",children:[r.jsx("button",{className:"btn-secondary",onClick:s,children:"Reset to Defaults"}),r.jsx("button",{className:"btn-primary",onClick:n,children:"Save Preferences"})]})]}),r.jsx("style",{children:`
        .desktop-preferences-view {
          width: 100%;
          height: 100%;
          padding: 0 20px 20px 20px;
        }

        .preferences-content {
          background: var(--desktop-gray-5);
          border-radius: var(--desktop-radius-lg);
          padding: var(--desktop-gap-2xl);
          max-width: 800px;
          margin: 0 auto;
        }

        .preferences-section {
          margin-bottom: var(--desktop-gap-2xl);
          padding-bottom: var(--desktop-gap-2xl);
          border-bottom: 1px solid var(--desktop-gray-20);
        }

        .preferences-section:last-of-type {
          border-bottom: none;
        }

        .section-title {
          font-size: var(--desktop-header-6);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          margin: 0 0 var(--desktop-gap-sm) 0;
        }

        .section-description {
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          margin: 0 0 var(--desktop-gap-2xl) 0;
        }

        .preference-item {
          margin-bottom: var(--desktop-gap-xl);
        }

        .preference-item:last-child {
          margin-bottom: 0;
        }

        .preference-label {
          display: flex;
          align-items: center;
          gap: var(--desktop-gap-md);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-semibold);
          color: var(--desktop-dark-500);
          margin-bottom: var(--desktop-gap-md);
        }

        .preference-hint {
          font-size: var(--desktop-body-2);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-gray-500);
          margin: 4px 0 0 0;
        }

        .theme-selector {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: var(--desktop-gap-md);
        }

        .theme-option {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          gap: var(--desktop-gap-md);
          padding: var(--desktop-gap-xl);
          background: var(--desktop-white-500);
          border: 2px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          cursor: pointer;
          transition: all 0.2s;
        }

        .theme-option:hover {
          border-color: var(--desktop-gray-500);
        }

        .theme-option.active {
          border-color: var(--desktop-primary-500);
          background: var(--desktop-primary-5);
          color: var(--desktop-primary-500);
          font-weight: var(--desktop-weight-semibold);
        }

        .preference-toggle {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--desktop-gap-lg);
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-lg);
        }

        .toggle-info {
          flex: 1;
        }

        .toggle-info .preference-label {
          margin-bottom: 0;
        }

        .toggle-switch {
          position: relative;
          width: 48px;
          height: 24px;
          cursor: pointer;
          flex-shrink: 0;
        }

        .toggle-switch input {
          opacity: 0;
          width: 0;
          height: 0;
        }

        .toggle-slider {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: var(--desktop-gray-20);
          border-radius: 24px;
          transition: background 0.3s;
        }

        .toggle-slider::before {
          content: '';
          position: absolute;
          height: 18px;
          width: 18px;
          left: 3px;
          bottom: 3px;
          background: var(--desktop-white-500);
          border-radius: 50%;
          transition: transform 0.3s;
        }

        .toggle-switch input:checked + .toggle-slider {
          background: var(--desktop-primary-500);
        }

        .toggle-switch input:checked + .toggle-slider::before {
          transform: translateX(24px);
        }

        .preference-select {
          width: 100%;
          height: 42px;
          padding: 0 var(--desktop-gap-lg);
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-light);
          color: var(--desktop-dark-500);
          outline: none;
          cursor: pointer;
          transition: border-color 0.2s;
        }

        .preference-select:focus {
          border-color: var(--desktop-primary-500);
        }

        .preferences-actions {
          display: flex;
          justify-content: flex-end;
          gap: var(--desktop-gap-lg);
          padding-top: var(--desktop-gap-2xl);
          margin-top: var(--desktop-gap-2xl);
          border-top: 1px solid var(--desktop-gray-20);
        }

        .btn-secondary,
        .btn-primary {
          padding: 0 var(--desktop-gap-2xl);
          height: 42px;
          border-radius: var(--desktop-radius-lg);
          font-family: var(--desktop-font-family);
          font-size: var(--desktop-body-1);
          font-weight: var(--desktop-weight-semibold);
          cursor: pointer;
          transition: all 0.2s;
          border: none;
        }

        .btn-secondary {
          background: var(--desktop-white-500);
          border: 1px solid var(--desktop-gray-20);
          color: var(--desktop-dark-500);
        }

        .btn-secondary:hover {
          border-color: var(--desktop-gray-500);
        }

        .btn-primary {
          background: var(--desktop-primary-500);
          color: var(--desktop-white-500);
        }

        .btn-primary:hover {
          background: var(--desktop-primary-400);
        }
      `})]})},OU=()=>{const[e,t]=v.useState("dashboard"),n=()=>{switch(e){case"staff":return{title:"Staff",subtitle:"All Employee Information"};case"tasks":return{title:"Tasks",subtitle:"Manage all property tasks"};case"expenses":return{title:"Expenses",subtitle:"Track and manage expenses"};case"calendar":return{title:"Calendars",subtitle:"Schedule and events"};case"messages":return{title:"Messages",subtitle:"Team communication"};case"villas":return{title:"Villas",subtitle:"Property portfolio"};case"attendance":return{title:"Attendance",subtitle:"Staff attendance tracking"};case"tenants":return{title:"Tenants",subtitle:"Tenant management"};case"leaves":return{title:"Leave Requests",subtitle:"Leave requests"};case"settings-general":return{title:"General Settings",subtitle:"Configure your organization's basic information"};case"settings-security":return{title:"Security & Access",subtitle:"Manage security and access control"};case"settings-notifications":return{title:"Notifications",subtitle:"Configure notification preferences"};case"settings-billing":return{title:"Billing & Subscription",subtitle:"Manage billing and payment settings"};case"settings-integrations":return{title:"Integrations",subtitle:"Connect third-party services"};case"settings-data":return{title:"Data & Retention",subtitle:"Configure data retention policies"};case"settings":return{title:"Settings",subtitle:"System configuration and admin settings"};case"preferences":return{title:"Preferences",subtitle:"Personalize your workspace"};case"dashboard":default:return{title:"Dashboard",subtitle:"Welcome back! Here's what's happening with your properties."}}},s=()=>{switch(e){case"staff":return r.jsx(NU,{});case"tasks":return r.jsx(SU,{});case"expenses":return r.jsx(EU,{});case"calendar":return r.jsx(_U,{});case"messages":return r.jsx(CU,{});case"villas":return r.jsx(TU,{});case"attendance":return r.jsx(DU,{});case"tenants":return r.jsx(PU,{});case"leaves":return r.jsx(RU,{});case"settings-general":return r.jsx($a,{section:"general"});case"settings-security":return r.jsx($a,{section:"security"});case"settings-notifications":return r.jsx($a,{section:"notifications"});case"settings-billing":return r.jsx($a,{section:"billing"});case"settings-integrations":return r.jsx($a,{section:"integrations"});case"settings-data":return r.jsx($a,{section:"dataRetention"});case"settings":return r.jsx($a,{section:"general"});case"preferences":return r.jsx(IU,{});case"dashboard":default:return r.jsx(wU,{})}};return r.jsx(f9,{sidebar:r.jsx(h9,{currentView:e,onNavigate:t}),header:r.jsx(p9,{...n(),onNavigate:t}),children:s()})};function FU(){const[e,t]=v.useState(!1),[n,s]=v.useState("dashboard"),[o,i]=v.useState([]),[c,d]=v.useState(null),h=mk();pk(),VI(),v.useEffect(()=>{(async()=>{await Fn.initialize()&&(t(!0),f())})();const E=()=>{t(!1),s("dashboard"),i([]),d(null)};return window.addEventListener("auth:expired",E),()=>{window.removeEventListener("auth:expired",E)}},[]),v.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{const{villas:N}=await de("/villas");i(N||[])}catch(N){console.error("Error loading villas:",N)}},m=()=>{t(!0),f()},p=async()=>{Fn.clearSession();try{const{supabase:N}=await _s(async()=>{const{supabase:E}=await Promise.resolve().then(()=>zp);return{supabase:E}},void 0);await N.auth.signOut()}catch(N){console.error("Error signing out from Supabase:",N)}t(!1),s("dashboard"),i([]),d(null),sessionStorage.clear()},x=N=>{d(N)},b=()=>{d(null),f()},w=N=>{s(N),d(null)};if(!e)return r.jsxs(r.Fragment,{children:[r.jsx(YI,{onAuthSuccess:m}),r.jsx(jp,{})]});const k=()=>{if(c)return r.jsx(FL,{villa:c,onBack:b});if(!h)switch(n){case"dashboard":case"home":return r.jsx(ub,{villas:o,onNavigate:w});case"villas":return r.jsx(F6,{villas:o,onNavigate:w});case"expenses":return r.jsx(s6,{villas:o,onNavigate:w});case"tasks":return r.jsx(T6,{villas:o,onNavigate:w});case"staff":return r.jsx(O6,{villas:o,onNavigate:w});case"calendar":return r.jsx(oL,{villas:o,onNavigate:w});case"messages":return r.jsx(mL,{villas:o,onNavigate:w});case"notifications":return r.jsx(xL,{onNavigate:w});case"more":return r.jsx(G8,{onNavigate:w,onSignOut:p});default:return r.jsx(ub,{villas:o,onNavigate:w})}switch(n){case"dashboard":case"home":return r.jsx(mb,{villas:o});case"villas":return r.jsx(NL,{onVillaSelect:x});case"tasks":return r.jsx(ML,{villas:o});case"expenses":return r.jsx(LL,{villas:o});case"calendar":return r.jsx(EB,{villas:o});case"staff":return r.jsx(_B,{villas:o});case"messages":return r.jsx(n9,{villas:o});case"notifications":return r.jsx(wL,{className:"max-w-3xl"});case"preferences":case"account":case"app-settings":return r.jsx(u9,{});default:return r.jsx(mb,{villas:o})}};return h?r.jsxs(r.Fragment,{children:[r.jsx(OU,{}),r.jsx(jp,{})]}):r.jsxs(r.Fragment,{children:[r.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-[100] focus:px-4 focus:py-2 focus:bg-vs-primary focus:text-white focus:rounded-md",children:"Skip to main content"}),r.jsxs("div",{className:"mobile-layout min-h-screen bg-background pb-20",children:[r.jsx("main",{id:"main-content",role:"main",children:k()}),r.jsx("aside",{role:"complementary","aria-label":"Villa quick actions",children:r.jsx(sL,{villas:o,onVillaUpdate:f})})]}),r.jsx(Xn,{activeTab:n==="dashboard"?"home":n,onTabChange:w}),r.jsx(jp,{}),!1]})}function MU(){return r.jsx(cI,{onError:(e,t)=>{console.error("App Error:",e,t)},children:r.jsx(UI,{children:r.jsx(BI,{children:r.jsx(FU,{})})})})}E2.createRoot(document.getElementById("root")).render(r.jsx(MU,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("[SW] Service Worker registered successfully:",e.scope),setInterval(()=>{e.update()},6e4)}).catch(e=>{console.error("[SW] Service Worker registration failed:",e)})});
